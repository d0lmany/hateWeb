//	Playerjs.com 19.5.6
//	25.01.2024 14:28:16
//	API - https://playerjs.com/docs/q=api

eval(function (p, a, c, k, e, d) { e = function (c) { return (c < a ? '' : e(parseInt(c / a))) + ((c = c % a) > 35 ? String.fromCharCode(c + 29) : c.toString(36)) }; if (!''.replace(/^/, String)) { while (c--) { d[e(c)] = k[c] || e(c) } k = [function (e) { return d[e] }]; e = function () { return '\\w+' }; c = 1 }; while (c--) { if (k[c]) { p = p.replace(new RegExp('\\b' + e(c) + '\\b', 'g'), k[c]) } } return p }('if(!1S.59){B 59=[];B eL}if(1S[\'Fg\']){1C(Fg,1)};E wd(2G){B o={1B:L,lJ:[],uM:[],jR:\'Qh\',Qg:Bw,Pe:BA,8G:\'19.5.6\',ge:[\'8I\',\'\'],lf:\'\',2a:L,8B:L,a0:L,P2:L,di:L,5Y:L,94:L,9z:L,u:\'#P7#Po#Pu#rC#Rv#Rm#Nb#Ms#Nt#Oo#Om#OA#OH#rC#ND#NC#NA#Ny#O9#NX#NW#rC#VS\',u2:\'\',u3:\'\',u4:\'\',u5:\'\',u6:\'\',u7:\'\',u8:\'\',u9:\'\',VP:\'\',y:\'xx???x=VK???=\',p:\'\',VJ:-1,yU:"Ag",fb:"//Ag.7d",7p:[],dt:H,pr:H,ga:L,ab:L,jO:[],VG:L,ex:\'//.8h//\',vP:0,2C:[],7C:[],aA:[],3f:[],pK:[],al:0,9X:[],lU:0,tr:L,5X:L,1y:L,yH:L,8Q:L,ni:\'<Ah>\',hL:\'</Ah>\',ah:1S.ay.Y<2n&&1S.ay.1g<2n,tx:[],VL:[],5B:{\'1I\':1,\'Bi\':1,\'fy\':1,\'eV\':1,\'p8\':0},9R:[],wB:0,eN:0,5r:L,56:L,gD:L,pa:L,Wd:[],8m:L,bW:0,hw:L,rs:1Q,hy:1Q,sc:L,zL:E(x){B a;K a},Wb:0,pR:4B,4D:L,dM:L,xL:1P.xL,d:8D.we,k7:8D.we,8k:8D.8k,cG:8D.8k.J("cG")==0,Wa:{},zu:\'W6-A5.7d/A5.js\',fd:["zL","zO"],5T:[],VY:[],V9:[],i1:1,nz:[],zO:E(x,y,z){B a;K a},1b:0,mk:0,5j:L,dk:-1,an:3,V1:0,v9:0,a1:0,3O:{x:1,y:1,x0:1,y0:1},ci:["fh","fg","g9","iZ","j0","j1","pS","iU","cp","cX","od","oR"],pF:["UV","Vu","Wh","VA"],ez:0,Wi:0,tl:0,DH:0,e8:0,EF:[],cs:[\'7B\',\'e2\',\'q5\',\'6J\'],Xj:[],lG:H,uF:[],oA:0,ws:"w"+"s",qd:L,lx:[L,L,L]};B fP={S:{w:20,h:20,1i:"-",Xf:"-",a:1,7F:-1,1w:"3K",1H:"",1I:1,fE:-1,bD:0,2y:1,1o:"",1D:"",4b:"X8",h9:12,iB:0,1r:"Q",2F:"0 3 0 3",ac:"0 0 0 0",2B:1,l8:"0 0 0 0",X7:0,la:1,bg:0,oy:0,FB:0,5A:1,9Z:-1,5a:"3Z",cL:-1,fU:"0 0 0 0",oL:-1,pt:"3K",bn:-1,oV:-1,5S:"28",4y:"rJ",2y:0,kx:"3Z",kz:0.7,xP:0,xK:"3K",kv:"3 5 3 5",Xd:"0 0 0 0",Xw:1,xF:"nB-ny",xM:11,xO:0,2R:"",Jj:5,Jr:0,3k:0,Xq:2,WQ:2,Gc:0.2,GC:0,HX:0.1,f1:0,WR:"WG",WK:1,WJ:5,Gb:"3Z",Gd:"3K",Ji:"3K",Ga:1,Fw:1,yp:1,7m:0,3B:0,g8:20,dK:"<2e Y=\'20\' 1g=\'20\'><g><dA ry=\'5\' rx=\'5\' cy=\'10\' cx=\'10\' 4r=\'#gM\'/></g></2e>",w1:1,qe:-1,kG:0,oM:1,yN:-1,WH:0.1,gI:0,3g:"",GO:0,GS:"rJ",2W:"",HM:Bb,HL:Bb,FY:0,5g:0,6p:"3K",JJ:0,JK:"3Z",JH:9,z3:"0 0 10 0",yZ:"0 0 0 0",JI:0}};E Kg(){K H;o.K7=H}E bN(s){if(s.J(\'.\')==-1){s=s.1n(1);s2=\'\';V(i=0;i<s.R;i+=3){s2+=\'%u0\'+s.6Y(i,i+3)}s=Wj(s2)}K s};E Kv(){if(o.u!=\'\'){v=aE(v,5l.6Z(dp(o.u)))}if(2G.J("#"+v.ak)==0){3o{2G=5l.6Z(o[o.fd[0]](2G))}2T(e){}}F{if(2G.J("#"+v.bU)==0){3o{2G=5l.6Z(o[o.fd[1]](2G))}2T(e){}}}}E 7R(x,y){}E nI(y,1h){}B tj=E(){B 92=1T("26");o.1U.1R(92);O(92,{\'1r\':\'2A\',\'1e\':0,\'1d\':0,\'Y\':\'100%\',\'1g\':30,\'2x-1w\':v.AV,\'1E\':v.BB,\'2k\':\'28\'});B x=1T("26");o.1U.1R(x);O(x,{\'1r\':\'2A\',\'1e\':0,\'1d\':0,\'Y\':\'100%\',\'1w\':v.AX,\'4b-42\':v.Bo,\'2X\':(v.B2+\'px \'+v.B4+\'px\'),\'2k\':\'28\'});G.8h=E(1D,n){x.1V=1D;6K(x);O(92,{\'1g\':x.2Y,\'2k\':\'4d\'});92.C.4T="Tg";V(B i=0;i<x.aS(\'a\').R;i++){x.aS(\'a\')[i].C.1w=\'#gM\'}if(n){1C(G.9l,2n*n)}x.C.4T="Te"};G.9l=E(){3l(x);3l(92)}};2l(E(w,i,s,e){B a6=0;B 9h=0;B fM=0;B ds=[];B dl=[];nr(H){if(a6<5)dl.2U(w.6I(a6));F if(a6<w.R)ds.2U(w.6I(a6));a6++;if(9h<5)dl.2U(i.6I(9h));F if(9h<i.R)ds.2U(i.6I(9h));9h++;if(fM<5)dl.2U(s.6I(fM));F if(fM<s.R)ds.2U(s.6I(fM));fM++;if(w.R+i.R+s.R+e.R==ds.R+dl.R+e.R)1k}B AC=ds.sa(\'\');B Bg=dl.sa(\'\');9h=0;B sj=[];V(a6=0;a6<ds.R;a6+=2){B s6=-1;if(Bg.aM(9h)%2)s6=1;sj.2U(6V.zD(2K(AC.1n(a6,2),36)-s6));9h++;if(9h>=dl.R)9h=0}K sj.sa(\'\')}(\'UL\',\'Uw\',\'TD\',\'Tr\'));B v={1v:0,vX:0,np:"#3Z",2S:0,yg:1,8u:"#3Z",5a:"#3K",7m:0,e9:1,oB:1,3m:0,tE:1,aH:0,9U:1,1t:{To:0,1w:"3Z",a:"0.4",h:34,kN:1,1m:1,jP:1,eK:0,jc:3,9u:0,rt:3,5S:"28",1r:"2V",2F:"0 0 0 0",7m:0,kY:0,aa:\'\'},1W:{on:1,f:1,r:1,m:1,47:5,vE:"47",8n:1,vI:"1J",oX:0,FD:0,sq:1,jw:0.2},X:{5a:"3Z",cL:"oE",5A:0.9,9Z:-1,1r:"1e",2F:"0 0 0 0",2X:"7 15 7 15",1w:"3K",4b:"AH, AK, nB-ny",h9:12,5v:10,iB:0,6p:"AM",DQ:1,8u:"U2",a:1,7F:-1,U1:0,TO:100,Nu:177,UR:1,uq:1,Cv:"TK",qY:"3Z",qU:-1,TL:-1,Cx:0,7f:3,kM:16,En:"TM",7m:0,k6:1,ob:1,og:"3K",tX:0,tW:"3Z",Eu:1,Ew:0,EH:"oE",nA:0,lc:4B,eA:0,7U:0,HJ:0,HI:0,gH:1,3A:0,kP:50,rT:0,nS:1,eG:170,qf:0,uv:"oE",qL:"0 0 0 0",jF:30,8u:"AQ"},1j:{5a:"3Z",cL:"TN",5A:0.7,9Z:-1,4b:"AH, AK, nB-ny",1r:"2V-2o",2F:"0 0 0 0",2X:"7 10 7 15",1w:"3K",h9:12,kM:16,5v:10,iB:0,TP:"3K",6p:"AM",a:1,1I:5,7F:-1,yv:1,7f:3,k6:1,ob:1,og:"3K",nA:0,lc:4B,7m:0,TR:1,TJ:"4Y",4C:1,TS:"7l",TU:1,TW:"22",TX:0,TY:"6Q",TZ:0,U0:"53",jF:30,8u:"AQ"},IK:{1r:"2V-2o",2F:"0 10 50 0"},1J:0.8,sB:1,mA:1,9c:0,5C:0,Ds:1,5e:0,4F:0,LO:0,LR:0,3j:0,sV:1,q7:0,wI:0,wJ:0,ip:\',\',ik:\';\',eO:\'//\',LL:1,hI:\'[\',ec:\']\',h4:\'4r\',nb:1,nE:-1,rj:0,U3:\'20 0 0 20\',TT:\'1d-1e\',TH:100,Tx:100,TG:-1,tF:0,AS:1,AV:"oH",AX:"3K",B2:5,B4:10,BB:1,Bo:10,lU:0,zn:1,zE:1,fN:1,51:\'Ts\',sl:0,hF:\'6z\',je:1,Ly:0,LC:0,KE:0,8T:1,ca:1,Lp:5,8M:0,CX:1,ra:0,v0:5,Tt:0,Tu:0,Tv:0,oS:1,AF:1,KO:0,Bp:0,Tn:0,qT:1,lw:0,3i:"Ff",Tw:FV,nu:\'100%\',ga:0,DE:{8R:1,2m:0,nt:0,4p:0,1B:1,rI:0,rH:0,rF:0,Ty:0,Tz:0,TA:0},DC:{8R:1,2m:0,nt:0,4p:0,1B:1,rI:0,rH:0,rF:0},TB:100,Ec:1,fK:1,mG:14,fh:\'100%\',A2:1,mt:20,AR:1,j0:0.7,AD:2,zd:3,cp:10,fg:"3K",g9:"Ei",iZ:"3Z",j1:0,pS:0,iU:jm,tc:1,cX:0,yB:1,8U:1,Cw:1,Cy:0.3,k8:3,nF:4,Cn:5,vW:0,Cf:TC,Ce:JN,CW:0,CY:1,qQ:1,gN:1,I8:1,yl:0,JC:160,JW:90,Kk:0,Kl:1,Km:"oE",Ki:0,Kn:1,ak:\'2\',bU:\'3\',TE:10,TF:1,U4:1,TI:-1,U5:1,Ut:1,Uv:-1,Ux:0,Uy:1,Uz:0,UB:1,UC:0,UD:1,Uu:0,UE:1,UG:0,UH:1,UI:0,UJ:1,UK:0,tO:1,UM:0,UN:0,UO:1,UF:0,Us:1,Uh:"#3K",Ur:"#3Z",U8:"#3Z",U9:"#3K",Ua:"#3Z",Ub:"#3K",Uc:"#3Z",Ud:"#3K",Ue:"#3Z",Uf:"#3K",U7:"#3Z",Ug:"#3K",Ui:1,Uj:0,Uk:1,Ul:0.5,Um:"#3K",Uo:"#3Z",Up:1,Uq:1,U6:1,Tl:1,SD:1,Tk:10,Sj:-1,Sk:1,Sl:1,Sm:0,m8:0,So:"or",Sp:"or",Sq:"or",Sr:"or",St:"50%",Su:-1,Sv:0,Sw:-1,Sy:0,Sz:0,Ip:1,Io:0,CS:30,SA:2,BC:10,CG:0,Ss:30,IP:1,IQ:1,6m:0,2h:{on:0,5a:"3Z",2S:0,aj:2,8u:"3Z",1r:"1e",2F:"20 0 0 20",Y:150,1m:0}};v.aN="ru";B 7W=E(is){B i;B C=[];B f=[];B az=[];B Sg=[];B 5Q=[];B 8r=[];B 1X=[];B f2=[];B fG=[];B S6=[];B 4X=[];B 5I=[];B 5L=[];B dC=[];B eg=L;B 2w;B bX=-1;B 4E=H;B 1c=is;B 6i=is=="1j";B X;B 5C=[];B dZ=[];B mw;B 3q=\'\';B e5=\'\';B 6d=-1;B eQ=L;B Sf=L;B mx=L;B n0=L;B fi=L;B ki=L;B ln;B uz;B mJ;B jc;B rG;B kg=[];B 4l=[];B pB=0;B aO=0;B a3;B 6w="2B";B bh=(o.1l.2j?"fL":"ng");B aQ=(o.1l.2j?"er":"n9");C=aE(C,v[is]);C=4h(v[is],\'2F\',\'2F\');C=4h(v[is],\'ac\',\'ac\');C=4h(v[is],\'b9\',\'b9\');if(C.qf==0){C.qL="0 0 0 0"}C=4h(v[is],\'fU\',\'qL\');C=4h(v[is],\'2X\',\'2X\');C.mu=0;B kl="<2e C=\'2F-1d:bt\' Y=\'"+C.7f*2+"\' 1g=\'"+(C.7f*2>C.5v?(C.7f*2):C.5v)+"\' 3N:3M=\'3r://3E.w3.3F/6L/3M\' 3N=\'3r://3E.w3.3F/3X/2e\'><g><dA ry=\'"+(C.7f)+"\' rx=\'"+C.7f+"\' cy=\'"+(C.7f*2>C.5v?(C.7f):(C.5v/2))+"\' cx=\'"+C.7f+"\' 4r=\'#"+C.6p+"\'/></g></2e>";B B9="<2e Y=\'"+C.7f*2+"\' 1g=\'"+C.5v+"\' 3N:3M=\'3r://3E.w3.3F/6L/3M\' 3N=\'3r://3E.w3.3F/3X/2e\' ><g><dA ry=\'"+(C.7f-1)+"\' rx=\'"+(C.7f-1)+"\' cy=\'"+(C.5v/2+2)+"\' cx=\'"+C.7f+"\' 3P=\'#"+C.6p+"\' 3P=\'1\' 4r-1E=\'0\'/></g></2e>";B xx=4;B ER="<5k C=\'2k:as-4d;\'><2e Y=\'"+(xx+2)+"\' 1g=\'"+(C.5v)+"\' 3N:3M=\'3r://3E.w3.3F/6L/3M\' 3N=\'3r://3E.w3.3F/3X/2e\'><g><2N x1=\'1\' y1=\'"+(C.5v/2-xx)+"\' x2=\'"+xx+"\' y2=\'"+(C.5v/2)+"\' 3P=\'#"+C.1w+"\' 3P-Y=\'1\' 3P-bV=\'4q\'/><2N x1=\'"+xx+"\' y1=\'"+(C.5v/2)+"\' x2=\'1\' y2=\'"+(C.5v/2+xx)+"\' 3P=\'#"+C.1w+"\' 3P-Y=\'1\' 3P-bV=\'4q\'/></g></2e></5k>";B kr="<5k C=\'2k:as-4d;\'><2e Y=\'"+(xx+10)+"\' 1g=\'"+(C.5v+1)+"\' 3N:3M=\'3r://3E.w3.3F/6L/3M\' 3N=\'3r://3E.w3.3F/3X/2e\' C=\'lj:1e\'><g><2N x1=\'1\' y1=\'"+(C.5v/2+2)+"\' x2=\'"+xx+"\' y2=\'"+(C.5v/2-xx+2)+"\' 3P=\'#"+C.1w+"\' 3P-Y=\'1\' 3P-bV=\'4q\' /><2N x1=\'1\' y1=\'"+(C.5v/2+2)+"\' x2=\'"+xx+"\' y2=\'"+(C.5v/2+xx+2)+"\' 3P=\'#"+C.1w+"\' 3P-Y=\'1\' 3P-bV=\'4q\'/></g></2e></5k>";B 8u=5M(2I(C.8u,\'3K\'),2I(C.Eo,1));B 1G=1T("26");o.1U.1R(1G);O(1G,{\'6O\':\'3k\',\'2k\':\'4d\',\'1E\':0,\'2S-7b\':C.7m});if(C.oL==1){O(1G,{"2S":"3Q 6q "+3y(2I(C.pt,\'3K\'))})}B l1={};V(B i in o.5B){if(o.5B.2v(i)){l1[o.5B[i]]=-1}}if(6i){1G.C.4T=RY}F{1G.C.4T=99}B 1a=1T("26");if(o.ah){C.A3>0?C.h9=C.A3:\'\';C.zK>0?C.eG=C.zK:\'\';C.zJ>0?C.kP=C.zJ:\'\'}O(1a,{\'1r\':\'hl\',\'1d\':0,\'1e\':0,\'2k\':\'4d\',\'Y\':\'100%\',\'2X-1d\':C.9W,\'2X-2o\':C.7j+(6i&&C.3A==1?0:20),\'2X-2V\':C.ag,\'2X-1e\':C.7q,\'1w\':C.1w,\'4b-42\':C.h9*2I(v.8o,1),\'4b-hk\':hq(C.4b),\'f7-eF\':C.iB+\'px\'});if(o.1l.7t){O(1a,{\'9n-Y\':Ae})}if(is!=="X"){O(1a,{\'6O-y\':(6i&&C.3A==1?\'3k\':\'9p\')})}1G.1R(1a);if(C.3A!=1){B 6X=1T("26");O(6X,{\'2k\':\'4d\',\'6O\':\'3k\',\'2S-7b\':C.7m});if(C.3A!=1){if(o.1l.7t){O(6X,{\'9n-Y\':Ae})}}1a.1R(6X)}4e(1a,{id:(v.id+"4z"+is)});if(is=="X"){if(C.3A==1){O(1a,{\'Y\':\'100%\',\'2X-2o\':C.7j,\'2X-2V\':C.ag+20,\'6O-x\':\'9p\',\'6O-y\':\'3k\',\'9O-8n\':\'d0\'});O(1G,{\'Y\':o.3b-C.4I-C.4s,\'1g\':C.kP+C.9W+C.ag})}F{O(1a,{\'6O-y\':\'9p\',\'6O-x\':\'3k\'});if(C.CR==1){lX()}}if(C.qf==1){O(1G,{\'2x-1w\':C.uv})}if(v.X.3c==1){3l(1G)}}if(C.k6==1){B 5F=1T("26");B bx=5M(C.qf==1?C.uv:C.5a);if(C.3A==1){jW(5F,\'to 2o, 5m(\'+bx+\',\'+(C.5A*1+0.3)+\'), 5m(\'+bx+\',0)\',\'1e\',12,5,7,10,7,10,12,15);5F.1A(6w,Cs)}F{jW(5F,\'to 2V, 5m(\'+bx+\',\'+(C.5A*1+0.3)+\'), 5m(\'+bx+\',0)\',\'1d\',5,12,10,7,10,7,15,12);5F.1A(6w,Cd)}B 5E=1T("26");if(C.3A==1){jW(5E,\'to 1e, 5m(\'+bx+\',\'+(C.5A*1+0.3)+\'), 5m(\'+bx+\',0)\',\'2o\',8,5,13,10,13,10,8,15);5E.1A(6w,Cr)}F{jW(5E,\'to 2V, 5m(\'+bx+\',0), 5m(\'+bx+\',\'+(C.5A*1+0.3)+\')\',\'2V\',5,8,10,13,10,13,15,8);5E.1A(6w,Co)}5F.1A("ng",kc);5F.1A("n9",kc);5E.1A("ng",kc);5E.1A("n9",kc);1a.1A("uo",A1);5F.1A("a4",b3);5E.1A("a4",b3);1G.1R(5F);1G.1R(5E);3R(uz);uz=7g(Cg,2n)}1a.1A(bh,Bc);1a.1A(aQ,uC);if(v.X.a3>0&&!a3&&is=="X"){if(1N zV!=="1Q"){a3=1z zV()}}if(6i){V(B i=1;i<11;i++){if(I(v["ao"+is][is+i])){v.1j[is+i]=v["ao"+is][is+i];if(I(v["ao"+is][is+i+"1O"])){v.1j[is+i+"1O"]=v["ao"+is][is+i+"1O"]}if(I(v["ao"+is][is+i+"1i"])){v.1j[is+i+"1i"]=v["ao"+is][is+i+"1i"]}}if(I(v.1j[is+i])){if(v.1j[is+i]==1){ce(\'f\',i);cm(f[i],az[i],5Q[i],8r[i],i);if(!I(v.1j[is+i+"1i"])){v.1j[is+i+"1i"]="53"}5Q[i].1V=2J(v.1j[is+i+"1i"]);if(I(v.1j[is+i+"1O"])){if(v.1j[is+i+"1O"]!=\'\'){5Q[i].1V=v.1j[is+i+"1O"]}}if(v.1j[is+i+"1i"]=="2u"){o.fs=H}1X[i]=v.1j[is+i+"1i"];8N(i);if(1X[i]==\'pP\'){!o.h8?o.h8=1z S2():\'\';if(I(1S.ya)){5Q[i].1V=o.h8.S3();o.h8.Ch()}}if(1X[i]in o.5B){l1[1X[i]]=i}f[i].1A(bh,5Z);f[i].1A(aQ,5u);f[i].1A(6w,9b);f[i].1A("a4",b3);if(v.1j[is+i+"1m"]==1){O(f[i],{"1g":0})}}}}}E A1(x){if(is=="X"&&C.3A==1&&x){if(x.s0==0&&x.cn!=0){1a.bv-=x.cn;x.9J()}}3R(mJ);mJ=7g(uC,hm);bs()}E Bc(){o.3I=H}E uC(){if(C.fj==1){2P(o.hb);o.hb=1C(E(){if(!o.3I&&!o.o0){ar()}},(v.1j.fe>0?v.1j.fe*2n:(o.1l.tv?3X:2n)))}o.3I=L}E 5Z(1h){if(o.2a){o.5w?o.U.5w(L):\'\'}B i=1h.4y.6a(\'ns\');B x;if(i){x=\'f\'}F{if(1h.4y.6a(\'aU\')){i=1h.4y.6a(\'aU\');x=\'f2\'}}if(i){i=2K(i);B gQ=L;if(I(2l(x)[i])){if(C.9Z>-1){O(2l(x+\'bg\')[i],{\'1E\':C.9Z})}if(2O(C.dG)){O(2l(x+\'bg\')[i],{\'6R\':\'fy(\'+C.dG+\')\'})}if(C.7F>-1){O(2l(x+\'1O\')[i],{\'1E\':C.7F});O(2l(x+\'5g\')[i],{\'1E\':C.7F})}if(is=="X"){if(1X[i].J("X")==0){B id=1X[i].1n(8);if(3q==id||e5==id){O(2l(x+\'1O\')[i],{\'1w\':C.6p});O(2l(x+\'5g\')[i],{\'1w\':C.6p});gQ=H}F{O(2l(x+\'1O\')[i],{\'1w\':C.1w})}}}if(C.tK==1&&I(C.m0)&&gQ){}F{O(2l(x+\'bg\')[i],{\'8f\':C.cL})}}}};E 5u(1h){if(o.2a){o.5w?o.U.5w(H):\'\'}B i=1h.4y.6a(\'ns\');B x;B gQ=L;3R(kX);bs();if(i){x=\'f\'}F{if(1h.4y.6a(\'aU\')){i=1h.4y.6a(\'aU\');x=\'f2\'}}if(i){if(I(2l(x)[i])){if(C.9Z>-1){O(2l(x+\'bg\')[i],{\'1E\':C.5A})}if(2O(C.dG)){O(2l(x+\'bg\')[i],{\'6R\':\'fy(1)\'})}if(C.7F>-1){O(2l(x+\'1O\')[i],{\'1E\':C.a});O(2l(x+\'5g\')[i],{\'1E\':C.a})}if(is=="X"){if(1X[i].J("X")==0){B id=1X[i].1n(8);if(3q==id||e5==id){O(2l(x+\'1O\')[i],{\'1w\':C.6p});O(2l(x+\'5g\')[i],{\'1w\':C.6p});gQ=H}F{if(I(o.9X[id])){kd(i)}F{O(2l(x+\'1O\')[i],{\'1w\':C.1w})}}}}if(C.tK==1&&I(C.m0)&&gQ){}F{O(2l(x+\'bg\')[i],{\'8f\':o.9X[id]?C.qY:C.5a})}}}}E 9b(1h){if(!fi){B d=1z 6S();o.a2=d.9j();B i=1h.4y.6a(\'ns\');if(i){if(I(f[i])){if(I(1X[i])){if(is=="X"){o.2c=1Q}4Z(i,0)}}}pY()}}B ul;B kX;E Af(1h){if(!fi){B i=1h.4y.6a(\'aU\');if(i){if(I(5L[i])){if(2w in o.5B){ul=i;kX=7g(Br,4B)}}}}}E Br(){qH(ul)}E b3(1h){3R(kX);1h.6B=H;bs()}E t0(1h){3R(kX);if(!fi){B d=1z 6S();o.a2=d.9j();B i=1h.4y.6a(\'aU\');if(i){if(i==0){if(5L[0]==\'1w\'){cW();4Z(pB)}F{e0()}}F{if(I(5L[i])){qH(i)}}}}}E oU(1h){B x=1h.4y.6a(\'At\');if(x){sZ(x)}}E Dz(1h){bs();B i=1h.4y.6a(\'aU\');if(I(5L[i])){if(7Z("=",i)>0){B x=5L[i].1n(0,7Z("=",i));B y=5L[i].1n(7Z("=",i)+1);B z=2w+\'E2\';if(!v[z]){v[z]=[]}if(!I(v[z][x])){v[z][x]=v[x]+\'\'}sF(x,y)}}};E sF(x,y){v[x]=y;if(o.5q&&v.tc==1&&x!="cX"){3a.7Q("mO"+x,y)}if(o.5j&&o.4i){o.4i.9M()}o.U.iv();sZ(x)}E DK(1h){B i=1h.4y.6a(\'aU\');B x=5L[i];if(I(x)){if(x.J("=")>0){B z=x.1n(0,x.J("="));B y=x.1n(x.J("=")+1);v[z]=y;yF();8N(o[2w+\'t9\']);if(2w=="j6"){7R("BU")}}}}E 8N(i){if(I(1X[i])){B aW=L;B 8i=L;B 5J=\'\';if(6i){if(1X[i]=="4Y"){5J=o.P.sd()}if(1X[i]=="7l"){5J=o.P.se()}if(1X[i]=="2u"){5J=\' \';8i=H}if(1X[i]=="cD"){if(o.7T){5J=o.pK[o.S7]}}if(1X[i]=="7l"||1X[i]=="cD"||1X[i]=="4Y"){if(o[\'eE\'+1X[i]].R==0){aW=H}F{if(o[\'eE\'+1X[i]].R==1&&(C.BX!=1||o[\'eE\'+1X[i]][0]==1)){aW=H}F{8i=H}}}if(1X[i]=="5Y"){if(!o.5Y){aW=H}F{8i=H}}if(1X[i]=="6Q"){if(o.2p!=\'cz\'&&!v.6Q){aW=H}F{8i=H}}if(1X[i]=="22"){if(I(o.2f)){8i=H;if(o.56||v.8U==1){if(o.3G){5J=o.3f[!o.56?o.3G.7E():o.3u]}}F{5J=\'\'}B k1=0;V(B s=0;s<o.2f.R;s++){if(o.2f[s]!=\'\'){k1++}}if(k1==1&&o.hM==1){k1=0}if(v.pX==1&&v.rA==1){}F{if(k1==0){aW=H;8i=L}}}F{aW=H}}if(1X[i]=="53"){5J=o.5T[o.an];5J==1&&C.eD!=1?5J=2J(\'ek\'):\'\';8i=H;if(o.2p=="af"||(o.P.5z()&&C.S9!=1)){aW=H;8i=L}}if(1X[i]in o.5B){5J=l7(1X[i]);8i=H}if(1X[i].J("8s")>0){B x=\' \';B y=[\'w0\',\'vZ\',\'wz\'];V(B z=0;z<y.R;z++){if(I(v[1X[i]+y[z]])){if(v[1X[i]+y[z]]!==\' \'){x+=(x!==\' \'?\':\':\'\')+v[1X[i]+y[z]]}}}5J=x!=\' 0:0\'&&x.J(":")>-1?x:\' \';o[1X[i]+\'7M\']=5J;8i=H}}8r[i].1V=5J+(5J!=\'\'&&C.Sa!=1?\' &h1;<2e Y="f5" 1g="G1" xR="-1 -1 5 8" 8G="1.1" 3N="3r://3E.w3.3F/3X/2e" 3N:3M="3r://3E.w3.3F/6L/3M"><oK 3P="#\'+C.6p+\'" 3P-Y="1" 4r="28" 8P="0 0 3 3 0 6"></oK></2e>\':\'\');B B1=6i&&bX!=-1;if(aW){1m(f[i]);if(6i){dC[i]?2P(dC[i]):\'\';if(o.Q){o.Q.hV(i,L,5J)}F{dC[i]=1C(E(){o.Q.hV(i,L,5J)},4B)}}O(f[i],{\'1r\':\'2A\',\'2o\':0,\'1d\':-100})}if(8i){if(B1){}F{if(C.3A==1){O(f[i],{\'2k\':\'as-4d\'})}F{1u(f[i])}}if(6i){dC[i]?2P(dC[i]):\'\';if(o.Q){o.Q.hV(i,H,5J)}F{dC[i]=1C(E(){o.Q.hV(i,H,5J)},3V)}}O(f[i],{\'1r\':\'hl\',\'2o\':0,\'1d\':0})}2E()}V(B j=1;j<f.R;j++){if(f[j]){if(5V(f[j])){B 4H=L;4E?4H=H:\'\';4E=L;4H&&o.Q?o.Q.4H():\'\'}}}};B va=0;E 4Z(i,B7,fa){fa?1X[i]=fa:\'\';if(I(1X[i])){o.o0=H;bs();B x=yP();if(6i){bX==-1?va=x[0]:x[0]=va}if(2w!=1X[i]){2w=1X[i];if(2w==\'4Y\'||2w==\'7l\'||2w==\'22\'||2w==\'53\'||2w==\'cD\'||2w in o.5B||2w.J("8s")>0||2w==\'2u\'||2w==\'1w\'){bX=i;B z=jK(o[\'eE\'+2w]);if(2w=="pO"){if(C.qW==1){z=7R("Se")}F{z=7R("SB")}}if(2w=="j6"){z=7R("Sh")}if(2w=="2u"&&o.2u){z=[];V(B j=1;j<=16;j++){if(I(v["2u"+j])){z.2U(2J(v["2u"+j]));kg[z.R]=v["2u"+j]}}}if(2w=="1w"&&o.4D){z=[];pB=i;V(B j=0;j<o.pF.R;j++){B co=o.pF[j].1n(4);z.2U(2J(co));4l[z.R]=co}}B go=o[\'SC\'+2w];B Bf=o[\'SZ\'+2w];V(B j=1;j<f.R;j++){if(f[j]){f[j].C.2k="28"}}f2=[];ce(\'f2\',0);cm(f2[0],fG[0],4X[0],5I[0],0);O(f2[0],{"2S-2V":"3Q 6q "+(C.sL==1?8u:"5m(100,100,100,0.7)")});aO=B7;B pk=L;4X[0].1V=(x[0]<2||aO==1||C.sz==1?\'\':kr)+(v.1j[is+i+"1O"]&&v.1j[is+i+"1O"]!=\'\'?v.1j[is+i+"1O"]:2J(v.1j[is+i+"1i"]))+(o[1X[i]+\'7M\']?o[1X[i]+\'7M\']:\'\');if(2w==\'22\'&&!o.yt){B jU=1T("26");jU.1V=2J("2G");O(jU,{\'1w\':C.1w,\'a9\':\'2t\',\'6u\':\'4j\'});5I[0].1R(jU);jU.1A(6w,CK);pk=H}if(2w==\'22\'&&v.pX==1&&!o.1l.tv&&I(1S.ya)){B uf=1T("26");!o.3G?o.3G=1z iu():\'\';uf.1V="<lH 1H=\'3z\' id=\'"+v.id+"By\' T1=\'.yS,.z7,.iq\' C=\'2k:28\'/>"+2J(\'pP\');O(uf,{\'1w\':C.1w,\'a9\':\'2t\',\'6u\':\'4j\',\'2F-1e\':(pk?\'dL\':0)});5I[0].1R(uf);o.fX=1P.7H(v.id+"By");o.fX.T3=o.3G.y5;uf.1A(6w,o.3G.y5)}if(pk){if(eQ){if(aO==2){z=[];3l(f2[0])}V(j=0;j<o.ci.R;j++){if(v.pC==0&&o.ci[j]=="g9"){}F{z.2U("T5"+o.ci[j])}}}}O(4X[0],{\'4b-42\':C.kM*2I(v.8o,1)});5L[0]="T6";if(2w in o.5B){y8(2w);if(pB>0&&o.pF.J(\'T8\'+2w)>-1){4X[0].1V=kr+2J(2w);5L[0]="1w";5I[0].1V=l7(2w)}O(5I[0],{\'Y\':C.5v*2.5,\'1D-6W\':\'2o\'})}if(aO!=1&&x[0]>1){f2[0].1A(bh,5Z);f2[0].1A(aQ,5u);f2[0].1A(6w,t0);f2[0].1A("a4",b3)}F{O(f2[0],{"6u":\'7J\'})}if(C.ri==1){3l(f2[0])}if(I(z)){B zz=\'\';V(j=0;j<z.R;j++){B y=j+1;B eB=0;B 6N=L;if(z[j]&&4L(z[j])!=\'\'){if(2w==\'4Y\'){if(z[j]==2J("2t")){eB=1}if(o.2p=="1F"&&v.T0==1){B iz=5h(z[j]);if(iz&&iz<zz){eB=2}zz=5h(z[j])}}ce(\'f2\',y,eB);cm(f2[y],fG[y],4X[y],5I[y],1X[i],i);if(2w==\'53\'){z[j]==1&&C.eD!=1?z[j]=2J(\'ek\'):\'\'}if(1N(z[j])==\'5b\'){if(z[j].J("<<<")==0){z[j]=z[j].1M(\'<<<\',\'\');6N=H}if(z[j].J(\'8s\')>0){o[2w+\'t9\']=i}if(z[j].J("uG")==0){B 1K=z[j];if(1K.J("8s")>0){4X[y].1V=2J(z[j].1n(1K.J("8s")+5))}F{4X[y].1V=2J(z[j].1n(7))}if(z[j]==\'T9\'){mw=f2[y];O(f2[y],{"2S-1d":"3Q 6q "+(C.sL==1?8u:"5m(100,100,100,0.7)")})}}F{4X[y].1V=z[j]}}F{4X[y].1V=z[j]}5L[y]=2w+j;if(go==j||Bf==j){5I[y].1V=go==j?kl:B9;if(go==j){mg(y)}}if(1N(z[j])==\'5b\'){if(z[j].J("uG")==0){B t=z[j].1n(7);if(t.J("1w")>0){5I[y].1V="<26 C=\'"+(v[t]=="3Z"?\'2S:3Q 6q #jS;1g:bo;Y:bo;\':\'1g:dL;Y:dL;\')+";2x-1w:"+(v[t].J("#")==-1?\'#\':\'\')+v[t]+";2S-7b:dL;\'></26>"}F{if(I(v[z[j].1n(7)])){5I[y].1V=v[z[j].1n(7)]}}}if(2w=="2u"){if(I(kg[y])&&o.2u){5I[y].1V=o.2u.1o(kg[y],0.7,3y(C.6p))}}if(2w=="1w"){if(I(4l[y])&&o.4D){5I[y].1V=l7(4l[y])}}if(2w==\'4Y\'){if(z[j]==2J("2t")&&o.P.jt()){mg(y)}if(2O(v.c8)){B fq=v.c8.2z(",");V(B k=0;k<fq.R;k++){if(z[j].J(fq[k])>-1){3l(f2[y])}}}}}B sY="";if(1N(z[j])==\'5b\'){if(z[j].J("uG")==0){4e(f2[y],{\'Td\':i,\'At\':z[j].1n(7)});sY="oU"}}if(!6N){f2[y].1A(bh,5Z);f2[y].1A(aQ,5u);if(sY=="oU"){f2[y].1A(6w,oU)}F{f2[y].1A(6w,t0)}f2[y].1A("a4",b3);f2[y].1A("If",Af)}F{O(f2[y],{"6u":"7J"})}}}}2E()}if(1X[i]==\'6Q\'){o.U.iM();2w=-1}if(1X[i]==\'pP\'&&I(o.h8)){o.h8.5U();2w=-1}if(1X[i].J(\'X\')>-1){B id=1X[i].1n(8);if(I(o.1L[id])){B fl=o.1L[id][\'3z\'];if(I(fl)){if(fl.J(\'47:\')==0){if(id.J(\'x\'+e5)!=0){o.2c=fl.1n(5);bQ(id.1n(0,id.mQ(\'-\'))+\'-0\');K}if(!o.1y){o.2c=fl.1n(5)}if(!o.1B){o.U.2D()}3H(\'47\',fl.1n(5));ar();K}e4(i);tq(id);7R("Dc");if(I(o.1L[id][\'7n\'])&&v.7n==1&&v.Tj==1){7n(o.1L[id][\'7n\'])}F{lS(id);o.U.e7(fl,(v.X.jC==1?1:1Q));v.X.7U==0&&v.X.gH==1?1C(ar,4B):\'\';mx=L;n0=L;lF(id);js("Ta")}}F{if(I(o.1L[id][\'5n\'])){6o(id);if(mx){6d==-1?4Z(0,0):\'\'}F if(n0){6d==-1?4Z(2K(f.R)-2,0):\'\'}}}}if(o.3c){o.3c.ql()}}if(1X[i]==\'5Y\'){o.P.gX()}}}};G.Hw=E(x){8N(o[x+\'t9\'])};E sZ(x){if(x=="oR"){CQ();K}if(x=="od"){B z=2w+\'E2\';if(v[z]){V(B y in v[z]){if(v[z].2v(y)){sF(y,v[z][y])}}f9()}K}bs();V(B i=0;i<f2.R;i++){if(f2[i]){f2[i].C.2k="28"}}f2=[];ce(\'f2\',0);cm(f2[0],fG[0],4X[0],5I[0],0);O(f2[0],{"2S-2V":"3Q 6q "+(C.sL==1?8u:"5m(100,100,100,0.7)")});if(x.J("8s")>0){f2[0].1A(6w,yF);4X[0].1V=2J(x.1n(x.J("8s")+5))}F{f2[0].1A(6w,f9);4X[0].1V=(C.sz!=1?kr:\'\')+2J(x)}O(4X[0],{\'4b-42\':C.kM*2I(v.8o,1)});f2[0].1A(bh,5Z);f2[0].1A(aQ,5u);f2[0].1A("a4",b3);B 4v=[];B q6=L;if(x.J("42")>0){4v=[\'50%\',\'75%\',\'100%\',\'125%\',\'150%\',\'175%\',\'4B%\',\'SH%\',\'dy%\',\'jm%\']}if(x.J("5A")>0){4v=[\'0\',\'0.2\',\'0.3\',\'0.4\',\'0.5\',\'0.6\',\'0.7\',\'0.8\',\'0.9\',\'1\']}if(x.J("jl")>0){V(B i=-5;i<5.5;i+=0.5){4v.2U(2M.4q(i*100)/100)}}if(x.J("dD")>0){4v=[4B,jm,hn]}if(x.J("2V")>0){V(i=0;i<21;i++){4v[i]=i*10}}if(x.J("w0")>0){V(i=0;i<24;i++){4v[i]=i}}if(x.J("vZ")>0||x.J("wz")>0){V(i=0;i<60;i++){4v[i]=i}}if(x.J("aj")>0){q6=H;4v=[0,1]}if(x.J("3P")>0){q6=H;4v=[0,1]}if(x.J("1w")>0){4v=[\'3K\',\'Ei\',\'SI\',\'SJ\',\'SK\',\'SL\',\'SM\',\'SE\',\'SN\',\'SP\',\'SQ\',\'SR\',\'SS\',\'ST\',\'SU\',\'SV\',\'SW\',\'3Z\'];B vx=v[x].1M("#","");if(4v.J(vx)==-1){4v[8]=vx}}V(y=1;y<=4v.R;y++){ce(\'f2\',y,0);cm(f2[y],fG[y],4X[y],5I[y],y);O(5I[y],{\'2X-1e\':0});if(x.J("1w")>0||x.J("2V")>0||x.J("8s")>0||x.J("jl")>0){y%3!=0?O(f2[y],{\'lj\':\'1e\'}):\'\';O(f2[y],{\'Y\':\'33.3%\'});if(x.J("1w")>0){4v[y-1]=2I(v["UP"+(y-1)],4v[y-1]);4X[y].1V="<26 C=\'"+(4v[y-1]=="3Z"?\'2S:3Q 6q #jS;1g:Ek;Y:Ek;\':\'1g:gs;Y:gs;\')+";2x-1w:"+3y(4v[y-1])+";2S-7b:gs;\'></26>";O(f2[y],{\'2N-1g\':1})}F{4X[y].1V=4v[y-1]}}F{if(x.J("dD")>0){4X[y].1V=4v[y-1]}F{y%2!=0?O(f2[y],{\'lj\':\'1e\'}):\'\';O(f2[y],{\'Y\':\'50%\'});if(q6){4X[y].1V=2J(4v[y-1]+\'7M\')}F{4X[y].1V=4v[y-1]}}}5L[y]=x+\'=\'+4v[y-1];if((4v[y-1]==v[x]&&6V(v[x])!=" ")||v[x]==\'#\'+4v[y-1]){5I[y].1V=kl;mg(y)}f2[y].1A(bh,5Z);f2[y].1A(aQ,5u);if(x.J("8s")>0){f2[y].1A(6w,DK)}F{f2[y].1A(6w,Dz)}f2[y].1A("a4",b3)}2E()}E mg(x){f2[x].mZ.bq(\'6c-\'+v.id+\'-e6-F9\');O(4X[x],{\'1w\':C.6p});lN(fG[x])}E lS(id){if(I(o.1L[id][\'2g\'])){v.2g=o.1L[id][\'2g\'];I(v.2g)?o.P.ae(v.2g):\'\'}if(I(o.1L[id][\'1O\'])){o.dc=o.1L[id][\'1O\']}yO()}E lF(id){B t=o.1L[id][\'1O\'];if(I(t)){if(v.q7==1){if(o.U.qE(o.1L[id])){}F{v.1O=(v.wJ==1&&I(o.v6)?o.v6+(v.wI==1?\'<br>\':\' \'):\'\')+t}o.U.a5(\'1O\')}}if(v.f1==1){if(I(o.1L[id][\'8P\'])){v.8P=o.1L[id][\'8P\']}F{v.8P=[]}o.Q.k0()}B xv=[\'6r\',\'n4\',\'6Q\',\'6U\',\'W\',\'i9\',\'Dg\',\'nh\',\'7P\',\'4p\',\'4A\',\'hU\',\'Dj\',\'7S\',\'cF\',\'8X\',\'kk\'];V(B i=0;i<xv.R;i++){B ma=o.1L[id][xv[i]];if(I(ma)){v[xv[i]]=ma;if(i==16){v.X.eA=ma}}F{i<4?v[xv[i]]=1Q:\'\'}}tq(id);B 9g=o.1L[id];if(I(9g[\'2r\'])){9g[\'22\']=9g[\'2r\']}if(I(9g[\'22\'])){o.U.g1(9g[\'22\'])}if(I(9g[\'8X\'])){o.Q.z9()}o.U.jI(o.1L[id]);if(o.i7){o.Q.z5(o.i7)}if(I(9g[\'e1\'])){3H(\'e1\',9g[\'e1\'])}if(I(9g.1J)){o.U.46(9g.1J)}}E tq(id){B x=o.1L[id][\'1y\'];if(I(x)){if(x=="3w"){if(2G.22&&!o.1L[id][\'22\']){o.1L[id][\'22\']=2G.22}if(o.P.1b()>0){v.1y=o.2c=o.P.1b()}F{2G.1y&&!o.2c?o.2c=2G.1y:v.1y=0}}F{v.1y=o.2c=x}}F{v.1y=0}}E e4(x){if(6d==0&&!o.1y){O(5Q[6d],{\'1w\':C.1w});O(az[6d],{\'8f\':C.5a});8r[6d].1V=\'\';f[6d].mZ.6r(\'6c-\'+v.id+\'-e6-pl\')}F{o.tJ=x;if(6d>-1){kd(6d)}if(3q!=\'\'){if(!o.9X[3q]&&I(o.1L[3q])){o.vP+=2I(o.1L[3q].1q,0)}o.9X[3q]=H;5C=zq(5C,3q)}}if(1X[x]){B id=1X[x].1n(8);8r[x].1V=kl;f[x].mZ.bq(\'6c-\'+v.id+\'-e6-pl\');O(5Q[x],{\'1w\':C.6p,\'1D-zB\':\'28\',\'1E\':C.a});lN(az[x]);if(C.tK==1&&I(C.m0)){O(az[x],{\'8f\':C.m0})}6d=x;3q=id;o.3q=3q;v.4G=3q;o.lR=5Q[x].1V;o.tJ=3q;e5=o.1L[id][\'iW\'];if(o.Q){o.Q.iy()}if(a3){a3.WI()}}}E 6o(id){B x=id==0?o.X:o.1L[id];o.tJ=id;V(B i=0;i<f.R;i++){if(f[i]){if(C.3A==1){1a.3h(f[i])}F{6X.3h(f[i])}f[i]=1Y}}f=[];6d=-1;if(I(x[\'5n\'])){B y=8c.6t(x[\'5n\']).R;ce(\'f\',y);1X[y]="Di";cm(f[y],az[y],5Q[y],8r[y],y);if(C.3A==1){O(f[y],{"Y":(C.nS==1?C.eG:"2t"),"1g":C.kP})}if(C.DQ==1){B sG="3Q 6q "+5M(C.En,2I(C.Eo,1));if(C.3A==1){O(f[y],{"WM":sG})}F{O(f[y],{"WN":sG})}}B 1K=x.1O;if(C.sz!=1){1K=kr+1K}5Q[y].1V=1K;O(5Q[y],{\'4b-42\':C.kM*2I(v.8o,1)});B p=x[\'iW\'];f[y].1A(bh,5Z);f[y].1A(aQ,5u);f[y].1A(6w,E(){Ct(p)});x=x[\'5n\']}B y=8c.6t(x).R;5C=[];dZ=[];if(a3&&C.3A!=1){a3.6r(6X);if(y>v.X.a3){a3.bq(C,6X)}}V(B i=0;i<y;i++){ce(\'f\',i);1X[i]="X"+x[i].id;if(!I(o.9X[x[i].id])&&!I(x[i].5n)){5C[x[i].id]=i;dZ[x[i].id]=i}cm(f[i],az[i],5Q[i],8r[i],i);if(C.3A==1){if(C.7f==0){O(5Q[i],{\'Y\':C.eG-C.rY-C.rU});3l(8r[i])}O(f[i],{"Y":(C.nS==1?C.eG:"2t"),"1g":C.kP})}5Q[i].1V=x[i].1O?x[i].1O:\'&h1;\';if(v.cu==1&&v.7I==1&&x[i].id){if(o.zp){if(o.zp.J(x[i].id)>-1){x[i].eJ=1}}}if(I(x[i].eJ)){if(x[i].eJ==1){o.9X[x[i].id]=H;kd(i)}}if(I(x[i].5n)){8r[i].1V=ER;O(8r[i],{"1w":C.1w})}f[i].1A(bh,5Z);f[i].1A(aQ,5u);f[i].1A(6w,9b);f[i].1A("a4",b3);if(I(o.9X[x[i].id])){kd(i)}if(3q==x[i].id){e4(i)}if(e5==x[i].id){O(5Q[i],{\'1w\':C.6p});O(8r[i],{\'1w\':C.6p});lN(az[i])}}2E();4E=L;o.Q?o.Q.4H():\'\'}E lN(x){if(2O(C.F5)&&x){O(x,{"2x-aa":"3d-4S(5m(0, 0, 0, "+(1-C.F5*1)+") 0 0)"})}}E jW(x,y,z,x1,y1,x2,y2,x3,y3,x4,y4){B ww=(C.3A==1?\'EO\':\'100%\');B hh=(C.3A==1?\'100%\':\'EO\');O(x,{\'1r\':\'2A\',\'2k\':\'as-4d\',\'Y\':ww,\'1g\':hh,\'1D-6W\':\'6k\'});if(C.Eu==1){O(x,{\'2x\':\'-lO-3d-4S(\'+y+\')\',\'2x\':\'-3L-3d-4S(\'+y+\')\',\'2x\':\'-ms-3d-4S(\'+y+\')\',\'2x\':\'-o-3d-4S(\'+y+\')\',\'2x\':\'3d-4S(\'+y+\')\',})}if(C.3A==1||o.1l.2j){O(x,{\'6u\':\'4j\'})}F{O(x,{\'4j-3i\':\'28\'})}if(C.nA==1){O(x,{\'6n-Y\':C.lc+\'px!62\'})}if(z=="1d"){O(x,{\'1d\':-1,\'1e\':0})}if(z=="2V"){O(x,{\'2V\':-1,\'1e\':0})}if(z=="1e"){O(x,{\'1d\':0,\'1e\':0})}if(z=="2o"){O(x,{\'1d\':0,\'2o\':0})}if(z=="2o"||z=="1e"){O(x,{\'1D-6W\':\'1e\',\'2X-1d\':1G.2Y/2-10})}x.1V="<6k><26 "+(C.Ew==1?"Wl=\'G.C.8f=\\"#"+C.EH+"\\"\' Wm=\'"+(C.tX==1?"G.C.8f=\\"#"+C.tW:"G.C.2x=\\"28")+"\\"\'":"")+" C=\'4j-3i:2t;6u:4j;Y:gs;1g:gs;2S-7b:gs;"+(C.tX==1?"2x-1w:#"+C.tW+";":"")+(z=="1d"?"2F-1d:dL;":"")+(z=="2V"?"2F-1d:dL;":"")+(z=="2o"?"2F-1e:ee;":"")+(z=="1e"?"2F-2o:ee;":"")+"\'><2e Y=\'20\' 1g=\'20\' 3N:3M=\'3r://3E.w3.3F/6L/3M\' 3N=\'3r://3E.w3.3F/3X/2e\'><g><2N x1=\'"+x1+"\' y1=\'"+y1+"\' x2=\'"+x2+"\' y2=\'"+y2+"\' 3P=\'#"+C.og+"\' 3P-Y=\'"+C.ob+"\' 3P-bV=\'4q\'/><2N x1=\'"+x3+"\' y1=\'"+y3+"\' x2=\'"+x4+"\' y2=\'"+y4+"\' 3P=\'#"+C.og+"\' 3P-Y=\'"+C.ob+"\' 3P-bV=\'4q\'/></g></2e></26></6k>"}G.9P=E(){if(C.k6==1){9P()}};E Cg(){if(eg){9P()}}E 9P(e){if(C.k6==1&&!ki){if(C.3A==1){B h=1a.Ws;B m=1G.2i+C.7q+C.7j+20;B t=1a.bv}F{B h=1a.De;B m=1G.2Y;B t=1a.dF}if(h>m){if(t>0){if(!5V(5F)){1u(5F);B m1=1z 5K({"mc":5F,"1H":"8q","to":1,"1b":0.3,"me":"5F"})}}F{if(5V(5F)){B m2=1z 5K({"mc":5F,"1H":"8q","to":0,"1b":0.3,"me":"5F","1m":H})}if(e){e.cn<0?e.9J():\'\'}}if(t<h-m-10){if(!5V(5E)){1u(5E);B m3=1z 5K({"mc":5E,"1H":"8q","to":1,"1b":0.3,"me":"5E"})}}F{if(5V(5E)){B m4=1z 5K({"mc":5E,"1H":"8q","to":0,"1b":0.3,"me":"5E","1m":H})}if(e){e.cn>0?e.9J():\'\'}}}F{1m(5F);1m(5E)}}}E Co(){B x=1a.dF+1G.2Y-60;B m=1z 5K({"mc":1a,"1H":"9p","to":x,"1b":0.3,"me":"Dr","6A":"c4"});1C(9P,2n)}E Cd(){B x=1a.dF-1G.2Y+60;B m=1z 5K({"mc":1a,"1H":"9p","to":x,"1b":0.3,"me":"Wv","6A":"c4"});1C(9P,2n)}E kc(1h){2P(o.hb);1h.bC()}E Cr(){B x=1a.bv+(1G.2i+C.7q+C.7j)-60;B m=1z 5K({"mc":1a,"1H":"jo","to":x,"1b":0.3,"me":"Wy","6A":"c4"});1C(9P,2n)}E Cs(){B x=1a.bv-(1G.2i+C.7q+C.7j)+60;B m=1z 5K({"mc":1a,"1H":"jo","to":x,"1b":0.3,"me":"Du","6A":"c4"});1C(9P,2n)}E Ct(x){if(x==\'\'){6o(0)}F{if(I(o.1L[x])){6o(x)}}2w=\'\'}E kd(x){8r[x].1V=\'\';O(5Q[x],{\'1w\':C.Cv});if(C.Cx==1){O(5Q[x],{\'1D-zB\':\'2N-WF\'})}if(C.uq>-1){O(5Q[x],{\'1E\':C.uq})}f[x].mZ.6r(\'6c-\'+v.id+\'-e6-pl\');O(az[x],{\'8f\':C.qY});if(C.qU>-1){O(az[x],{\'1E\':C.qU})}}E qH(i){if(I(5L[i])){bs();if(7Z("4Y",i)==0){o.U.5R(5L[i].1n(7))}if(7Z("7l",i)==0){o.U.dH(5L[i].1n(10))}if(7Z("22",i)==0){!o.3G?o.3G=1z iu():\'\';o.3G.9a(5L[i].1n(8))}if(7Z("cD",i)==0&&v.7T==1){o.7T.DP(5L[i].1n(7))}if(7Z("2u",i)==0){o.2u?o.2u.3v(kg[i]):\'\';ar()}if(7Z("1w",i)==0){cW();4Z(0,0,4l[i])}V(B p in o.5B){if(o.5B.2v(p)){if(7Z(p,i)==0){o.P.KI(p,i)}}}if(7Z("8s",i)>0){if(4X[i].1V==2J(\'6N\')){7R(2w+\'0\');8N(bX);if(2w=="j6"){7R("BU")}e0()}F{if(2w=="pO"&&C.qW==1){7R(\'qW\',i);8N(bX);e0()}}}if(7Z("53",i)==0){o.U.9x(5L[i].1n(5));hT();1C(ar,4B)}}};G.hT=E(){hT()};G.Hx=E(x){V(B i=0;i<1X.R;i++){if(1X[i]==x){K H}}K L};E hT(){V(B i=0;i<1X.R;i++){if(1X[i]=="53"){8N(i);if(2w==\'53\'){cW();4Z(i,0)}}}}E ce(x,i,eB){if(I(2l(x))){2l(x)[i]=1T("26");if(i<2||x=="f"||2w!=\'4Y\'||eB==1){if(C.3A==1){1a.1R(2l(x)[i])}F{6X.1R(2l(x)[i])}}F{if(C.3A==1){1a.n3(2l(x)[i],2l(x)[i-1])}F{6X.n3(2l(x)[i],2l(x)[eB==2?i-2:i-1])}}if(x==\'f\'){4e(2l(x)[i],{\'ns\':i})}if(x==\'f2\'){4e(2l(x)[i],{\'aU\':i})}2l(x+\'bg\')[i]=1T("26");B nj=1T("26");2l(x)[i].1R(nj);nj.1R(2l(x+\'bg\')[i]);f0(nj);2l(x+\'4c\')[i]=1T("26");2l(x)[i].1R(2l(x+\'4c\')[i]);eI(2l(x+\'4c\')[i]);f0(2l(x+\'4c\')[i]);2l(x+\'1O\')[i]=1T("26");2l(x)[i].1R(2l(x+\'1O\')[i]);2l(x+\'5g\')[i]=1T("26");2l(x)[i].1R(2l(x+\'5g\')[i]);if(i>0&&x=="f2"&&6i&&C.yv==0){3l(2l(x+\'5g\')[i])}}};E cm(x,92,le,rL,XC,ii){O(x,{\'1r\':\'hl\',\'2o\':0,\'1d\':0,\'6u\':\'4j\',\'1g\':\'2t\',\'Y\':\'100%\',\'6O\':\'3k\',\'2k\':\'4d\',\'2N-1g\':\'1.XD\'});if(6i){if(C.3A==1){O(x,{\'Y\':\'2t\'})}}if(C.rT&&C.3A==1){O(x,{\'XE\':C.rT})}if(C.3A==1&&(!6i||ii>0||C.ri==1)){O(x,{\'2k\':\'as-4d\',\'bi-6W\':\'1d\',\'9O-8n\':\'ek\'})}O(92,{\'2x\':(C.Gg==1?"3d-4S(to 1e,"+3y(C.XF)+", "+3y(C.5a)+")":3y(C.5a)),\'1E\':C.5A,\'a9\':\'28\',\'5i\':\'1E 0.2s 6A-5y,2x .2s 6A-5y,6R .2s 6A-5y\'});eI(92);eI(92.4k);if(C.9K==1){O(92.4k,{\'kU-6R\':\'9K(bo)\'})}if(C.XH==1){x.C[C.3A==1?"2S-2o":"2S-2V"]="3Q 6q "+5M(2I(C.XI,\'3K\'),2I(C.Xz,0.2))}O(le,{\'1r\':\'hl\',\'2o\':0,\'1d\':0,\'lj\':(C.6W?C.6W:\'1e\'),\'1w\':C.1w,\'2X-1d\':C.kJ,\'2X-2o\':C.rU,\'2X-2V\':C.Xn,\'2X-1e\':C.rY,\'a9\':\'28\',\'1E\':C.a,\'5i\':\'1E 0.2s 3d,1w 0.2s 3d\',});O(rL,{\'1r\':\'hl\',\'2o\':0,\'1d\':0,\'lj\':(C.D7?C.D7:\'2o\'),\'2X-1d\':C.kJ,\'2X-2o\':C.rU,\'2X-1e\':C.rY,\'a9\':\'28\',\'4b-42\':C.5v*2I(v.8o,1),\'1E\':C.a,\'1w\':C.6p,\'5i\':\'1E 0.2s 3d,1w 0.2s 3d\'});if(C.nA==1){O(x,{\'6n-Y\':C.lc+\'px!62\'});O(le,{\'6n-Y\':(C.lc-70)+\'px!62\'})}F{if(C.3A==1){if(C.nS==1){O(x,{\'Y\':C.eG});O(le,{\'Y\':C.eG-70})}}F{O(le,{\'9O-8n\':\'d0\'});O(rL,{\'9O-8n\':\'d0\'})}}}E e0(){V(B i=1;i<f.R;i++){if(I(f[i])){if(C.3A==1){f[i].C.2k="as-4d"}F{f[i].C.2k="4d"}}}bs();cW();2E();2w=\'\';bX=-1};E cW(){V(B j=0;j<f2.R;j++){if(f2[j]){if(C.3A==1){1a.3h(f2[j])}F{6X.3h(f2[j])}f2[j]=1Y}}f2=[];2w=\'\'}E Df(){K 1a.2i};G.j9=E(){lX()};E lX(){if(is=="X"){if(C.3A==1||C.CR==1){B x=o.3b-C.4I-C.4s;O(1G,{\'Y\':x});O(1a,{\'Y\':x});6X?O(6X,{\'Y\':x}):\'\'}o.3c?o.3c.2E():\'\'}}E 2E(){if(!ki){if(6i){o.Q?o.Q.lr():\'\';B x=C.ri==1&&f.R>1?f[1]:f[0]}if(is=="X"){lX();o.Q?o.Q.j9():\'\';B x=f[0];if(v.uI==1){po()}}f.R>1&&!x?(f[1]?x=f[1]:\'\'):\'\';f.R>2&&!x?(f[2]?x=f[2]:\'\'):\'\';if(x){x.2i==0&&f2.R>0?x=f2[0]:\'\'}if(1a.2i-1a.rn>0&&x&&C.3A!=1){if(I(5F)){O(5F,{"Y":6X.2i})}if(I(5E)){O(5E,{"Y":6X.2i})}C.mu=(1a.2i-x.2i)-(1a.rn-x.rn)}F{C.mu=0}}};E yP(){B x=0;B y=0;B z=\'\';V(B i=1;i<f.R;i++){if(I(f[i])){if(f[i].C.5P!="3k"&&f[i].C.2k!="28"){x++;y=i;z=1X[i]}}}K[x,y,z]}G.vq=E(){eQ=H;G.1u();aO=2;f9()};E CK(x){eQ=H;f9(x);if(eQ&&mw){1a.Xh(0,mw.uT)}}E CQ(x){eQ=L;f9(x)}E f9(){e0();V(B i=0;i<1X.R;i++){if(1X[i]=="22"){4Z(i,aO)}}}E bs(){2P(rG);rG=1C(E(){o.o0=L},3X)}E yF(){B x=2w;e0();V(B i=0;i<1X.R;i++){if(1X[i]==x){4Z(i,0)}}}G.tb=E(){K v.1j.7U==1&&v.1j.1t==1};E ar(x){if((!6i&&v.X.Hd==1)||(6i&&v.1j.7U==1&&x!=2)){K}if(is==\'X\'&&v.X.3c==1&&v.X.X2!=1){if(v.X.7U==1&&x==1){K}o.3c?o.3c.fr():\'\';eg=L}F{if((x!=1||(C.Vf==1&&C.7U==1))&&!o.1l.tv){B m=1z 5K({"mc":1G,"1H":"8q","to":0,"1b":0.1,"me":is,"6A":"Bq"});jc=1C(E(){O(1G,{"5P":"3k","1E":0,"1d":-3X});eg=L},4B)}F{O(1G,{"5P":"3k","1E":0,"1d":-3X});eg=L}}if(is==\'X\'){if(v.X.CT==1&&o.Q){o.Q.rr("1i","X",H)}}3R(mJ)};G.c=E(){K 1G};G.co=E(){if(1G.Vh(1a)){K 1a}};G.s=E(1c){if(1c=="4s"||1c=="4I"){B k2=1c.1M("2F","ac");B k3=1c.1M("2F","b9");if(2O(C[k3])&&o.ah){K o.3b*C[k3]/100}if(2O(C[k2])){K o.3b*C[k2]/100}}K C[1c]};G.ss=E(1c){K C};G.1u=E(){e0();2P(jc);eg=H;if(is==\'X\'&&v.X.3c==1){o.3c?o.3c.jQ():\'\'}F{O(1G,{"5P":"4t","1E":1,"5i":"1E 0.2s 3d"});B x=yP();if(x[0]==1){if(x[2]=="4Y"||x[2]=="7l"||x[2]=="22"||x[2]=="53"||x[2]in o.5B||x[2].J("8s")>0){4Z(x[1],0)}}}if(o.Q){is==\'1j\'?o.Q.lr():\'\';if(is==\'X\'){o.Q.j9();if(v.X.CT==1){o.Q.rr("1i","X",L)}}}if(o.1l.7t){O(1a,{\'9n-Y\':\'2t\'});if(C.3A!=1){O(6X,{\'9n-Y\':\'2t\'})}}fi=H;3R(ln);ln=7g(CO,100)};E CO(){3R(ln);fi=L}G.5U=E(i){4Z(i,1)};G.1m=E(x){ar(x)};G.GT=E(){if(o.3c){o.3c.8O()}};G.5R=E(){V(B i=0;i<1X.R;i++){if(1X[i]=="4Y"){8N(i);if(o.2C.R>1){1u(f[i])}if(2w==\'4Y\'){cW();4Z(i,aO)}}}};G.gX=E(){V(B i=0;i<1X.R;i++){if(1X[i]=="5Y"){8N(i)}}};G.i2=E(x){V(B i=0;i<1X.R;i++){if(1X[i]==x){8N(i);if(o[\'eE\'+x]){if(o[\'eE\'+x].R>1){1u(f[i])}}if(2w==x){cW();4Z(i,aO)}}}};G.9a=E(){V(B i=0;i<1X.R;i++){if(1X[i]=="22"){8N(i);if(o.3f){if(o.3f.R>0){B x=L;if(o.2f){V(B y=0;y<o.2f.R;y++){if(o.2f[y]!=\'\'){x=H;1k}}}F{x=H}x?1u(f[i]):\'\'}}if(2w==\'22\'){cW();4Z(i,0)}}}};G.wf=E(x){o.X=x;6o(0);if(I(v.4G)){if(v.4G.J("x-")!=0){V(B y in o.1L){if(o.1L.2v(y)){if(o.1L[y].eb==v.4G){v.4G=y}}}}if(I(o.1L[v.4G])){gB(o.1L[v.4G]);B y=o.1L[v.4G][\'d1\'];e4(y);if(v.X.q8==1&&C.3c!=1){6o(0);1C(E(){2E()},3V)}F{1C(E(){ef(y);2E()},3V)}v.4G=1Q}F{e4(0)}}F{e4(0)}if(C.3c==1){if(!I(o.3c)){o.3c=1z Vp()}}};G.bQ=E(x){bQ(x)};E bQ(x){if(I(o.1L[x])){gB(o.1L[x]);4Z(o.1L[x][\'d1\'],0);ef(o.1L[x][\'d1\'])}};G.nT=E(x){if(I(o.1L[x])){gB(o.1L[x]);if(o.1L[x]["3z"]){o.2c=1Q;e4(o.1L[x][\'d1\']);lS(x);o.U.e7(o.1L[x]["3z"],1);lF(x);ef(o.1L[x][\'d1\']);if(o.3c){o.3c.ql()}}F if(o.1L[x]["5n"]){6o(x)}}};E Dk(x){if(I(o.1L[x])){e5=\'\';6o(0);gB(o.1L[x]);lS(x);4Z(o.1L[x][\'d1\'],0);lF(x)}};G.aG=E(){mx=H;B x=2K(6d)+1;if(3q!=\'\'){o.9X[3q]=H;5C=zq(5C,3q)}if(v.5C==1){x=y7(5C);if(x==1Y){if(v.Vw==1||v.X.eA==1){dZ.Hb(E(a,b){K 2M.5G()-0.5});V(B x in dZ){if(dZ.2v(x)){5C[x]=dZ[x]}}x=y7(5C)}F{o.U.Ap()}}}F{if((1X[x]=="Di"||6d==-1)&&3q!=\'\'){B y=7w().J(3q);if(y<7w().R){B z=o.1L[7w()[y+1]];if(z){if(I(z.5n)){z=o.1L[7w()[y+2]]}G.nT(z.id);x=-1;o.U.2D()}}}}if(x>-1){o.2c=1Q;4Z(x,0);ef(x)}};E ef(x){if(f[x]&&!ki){if(C.3A==1){B to=f[x].jJ-20;B m=1z 5K({"mc":1a,"1H":"jo","to":to,"1b":0.3,"me":"Du","6A":"c4"})}F{B to=f[x].uT-1G.2Y/2+20;B m=1z 5K({"mc":1a,"1H":"9p","to":to,"1b":0.3,"me":"Dr","6A":"c4"})}1C(9P,2n)}}E y7(4x){B 6t=8c.6t(4x);B x;V(B i=0;i<6t.R;i++){x=4x[6t[6t.R*2M.5G()<<0]];if(x){1k}}K x};G.5B=E(x){y8(x)};E y8(x){l1[x]>-1?8N(l1[x]):\'\';if(5I[0]){if(2w==\'1I\'){5I[0].1V=2M.4q(o.3O.x*100)+\'%\'}F{5I[0].1V=l7(2w)}}};E l7(x){if(x=="1I"){K 2M.4q(o.3O.x*100)+\'%\'}F{K 2M.4q(2I(o.9R[x],o.5B[x])*100)+\'%\'}}G.bO=E(){K zw()};E zw(){if(v.5C==1){K 8c.6t(5C).R>0}B x=L;if(o.1L){x=7w().J(3q)<7w().R-1}K x};G.nH=E(){if(I(o.iV)){Dk(o.iV)}};G.fC=E(){B x=6d>0;if(o.1L){B z=7w().J(3q);x=z>0;if(z==1){if(I(o.1L[7w()[0]].5n)){x=L}}}K x};G.fw=E(){K I(o.1L)};G.dz=E(){n0=H;if(G.fC()){B x=2K(6d)-1;if(x<0){B y=7w().J(3q);if(y>0){B z=o.1L[7w()[y-1]];if(z){if(I(z.5n)){z=o.1L[7w()[y-2]]}if(z){G.nT(z.id);o.U.2D()}}}}F{o.2c=1Q;4Z(x,0);ef(x)}}};G.nO=E(){if(6d>0){ef(6d)}};E 7Z(x,i){K 5L[i].J(x)};E gB(x){if(x[\'sM\']!=-1){gB(o.1L[x[\'iW\']]);6o(x[\'iW\'])}F{6o(0)}};G.g=E(x){bK(x){1p"Y":K Df();1k;1p"1g":K 1G.2Y;1k;1p"1d":K C.8Z;1k;1p"J7":K 1a.De;1k;1p"IW":K C.do;1k;1p"x":K 5h(1G.C.1e);1k;1p"y":K 5h(1G.C.1d);1k;1p"1E":K 1G.C.1E;1k;1p"1u":K eg;1k;1p"5U":K bX;1k;1p"1c":K 1c;1k;1p"bp":K 1c+bp;1k;1p"4E":K 4E;1k;1p"X":K is=="X";1k;1p"eJ":K o.9X[3q];1k;1p"yv":K kl;1k;1p"b7":K o.1L[o.b7]?o.1L[o.b7].1O:\'\';1p"cF":K v.cF?v.cF:\'\';1p"Fh":K zw()?o.1L[7w()[7w().J(3q)+1]].1O:\'\'}};E 7w(){K 8c.6t(o.1L)};G.Hz=E(){3q=\'\';v.4G=\'\'};G.4E=E(){if(6i){B x=0;V(B i=1;i<11;i++){if(1X[i]=="4Y"){B y=o.2C.R;if(I(v.c8)){B z=v.c8.2z(",");V(B j=0;j<z.R;j++){if(o.2C.J(z[j])>-1){y--}}}if(y>0){if(y>1||(y==1&&o.2C!=1&&C.BX==1)){x++}}}if(1X[i]=="5Y"){if(o.5Y){x++}}if(1X[i]=="6Q"){if(o.2p==\'cz\'||v.6Q){x++}}if(1X[i]=="7l"){if(o.7C.R>1){x++}}if(1X[i]=="cD"&&v.7T==1){if(o.pK.R>0){x++}}if(1X[i]=="22"){if(I(o.2f)){V(B s=0;s<o.2f.R;s++){if(o.2f[s]!=\'\'){x++;1k}}}if(x==1&&o.hM==1){x=0}if(v.pX==1&&v.rA==1){x++}}if(1X[i]=="53"){if(o.2p!="af"){x++}}if(1X[i]in o.5B||1X[i]=="2u"||1X[i]=="1w"){x++}if(1X[i]){if(1X[i].J("8s")>0){x++}}if(v.1j[is+i+\'1m\']==1){x--}}K x<=0}F if(is=="X"){K f.R==0}F{K 4E}};G.4g=E(){if(1G.4k==o.1U){1G.3h(1a);o.1U.3h(1G);o.3c?o.3c.4g():\'\';1G=1Y;1a=1Y;ki=H}}};B sg=E(W){B 1a;B 1o;B bG;B ax=L;B 5U=L;B 4l=v.BQ==1&&I(v.BR)?3y(v.BR):"#3K";B CB=v.BQ==1&&I(v.BP)?3y(v.BP):"#3Z";B sh=[];B gP=["W2","W3","W4","W5","VX","W8","W9","ok"];V(B i=1;i<=15;i++){if(I(v["2u"+i])){xB(v["2u"+i])}}if(!I(v.BN)){v.BN="nK"}if(!I(v.BK)){v.BK="mT"}if(!I(v.Cb)){if(v.aN=="ru"){v.Cb="vk"}}if(I(v.7P)){v.We="7P"}if(I(v.W)){v.Wf="W"}G.jQ=E(){if(!ax){1a=1T("26");eI(1a);O(1a,{"2x":5M(CB,0.8),"1w":4l});1a.C.4T="3X";B 9l=1T("26");O(9l,{"1r":"2A","1d":15,"2o":15,"6u":"4j","2X":5});9l.1V="<2e Y=\'20\' 1g=\'20\' 3N:3M=\'3r://3E.w3.3F/6L/3M\' 3N=\'3r://3E.w3.3F/3X/2e\'><g><7a d=\'W7.5,3.5 L3.5,16.5 CA.5,3.5 Z\' 3P=\'"+4l+"\' 3P-Y=\'3\' 3P-bV=\'Cz\'></7a><7a d=\'M3.5,3.5 CA.5,16.5 L3.5,3.5 Z\' 3P=\'"+4l+"\' 3P-Y=\'3\' 3P-bV=\'Cz\'></7a></g></2e>";if(o.1l.2j){9l.1A("er",E(1h){8O()})}F{9l.aI=8O}9l.C.4T=10;B 2H=1T("26");O(2H,{"1r":"2A","1d":((v.Cy*100)+\'%\'),"1e":0,"Y":"100%","1D-6W":"6k","1w":4l});2H.1V=(v.Cw==1?2J("2u")+\'<br><br>\':\'\')+(I(v.W)?\'<6k><lH VF C="1w:\'+4l+\';Im:0;9O-8n: d0;f7-eF:3Q;2S:0;2S-2V:3Q 6q 5m(zC,zC,zC,0.5);1D-6W:6k;Y:50%;2x:d2;2k:4d" id="Cp\'+v.id+\'" 1H="1D" 5g="\'+v.W+\'"/></6k>\':\'\');o.1U.1R(1a);1a.1R(9l);1a.1R(2H);B wc=1P.7H(\'Cp\'+v.id);if(wc){wc.aI=Eb}O(o.1G,{\'-3L-ho-kj\':\'2t\'});1o=[];B 2e;V(B i=1;i<=15;i++){if(I(v["2u"+i])){2e=wK(v["2u"+i]);if(v["2u"+i]!=""&&2e&&2e!=\'\'){1o[i]=1T("26");O(1o[i],{"2k":"as-4d","6u":"4j"});B m=((v.k8*20-20)+v.Cn*1)/2;B nd=0;if(v["2u"+i]=="vk"||v["2u"+i]=="7P"){nd=v.k8*3}O(1o[i],{"2F-1e":m+nd,"2F-2o":m+nd,"2F-1d":m+20,"Y":20,"1g":20});1o[i].1V="<2e Y=\'20\' 1g=\'20\' 3N:3M=\'3r://3E.w3.3F/6L/3M\' 3N=\'3r://3E.w3.3F/3X/2e\'><g>"+2e+"</g></2e>";2H.1R(1o[i]);1I(i,v.k8);1o[i].i="i"+i;1o[i].gx=5Z;1o[i].gU=5u;1o[i].aI=9b}}}bG=1T("26");O(bG,{"2k":"4d","Y":"100%","1D-6W":"6k","2F-1d":m+15});2H.1R(bG);ax=H}F{6K(1a);O(o.1G,{\'-3L-ho-kj\':\'2t\'})}if(o.1B){o.8m=H;o.U.3e()}5U=H};E 8O(){if(o.8m){o.U.2D()}fr()}E fr(){if(I(1a)){3l(1a);o.8m=L;5U=L;bG.1V=\'\';O(o.1G,{\'-3L-ho-kj\':\'28\'})}}G.fr=E(){fr()};E 5Z(){if(I(G.i)){B i=G.i.1n(1)*1;if(v.nF>-1){1I(i,v.nF)}}}E 5u(){if(I(G.i)){B i=G.i.1n(1)*1;if(v.nF>-1){1I(i,v.k8)}}}E 9b(e){if(I(G.i)){B i=G.i.1n(1)*1;wa(v["2u"+i])}}G.3v=E(x){if(x.J("W")>-1){if(v[x]){B y=v[x].1M("{1b}",2K(o.P.1b()));kt(y);o.8v.8h(2J("ix"),2)}}wa(x,H)};E mo(){bG.1V=2J("ix");1C(Cm,hm)}E Cm(){bG.1V=\'\'}E xB(x){if(W(x)==\'\'){3o{sh[x]=2l(\'1z VO\'+x+\'()\')}2T(e){}}}E wa(y,z){B x=W(y);if(gP.J(y)>-1){if(sh[y]){x=sh[y].2u()}}if(y=="7P"&&I(v.7P)){if(I(v.k4)){v.k4=v.k4.1M(/6c\'qt/ig,\'"\')}kt((I(v.Cj)?v.Cj.1M(/6c\'qt/ig,\'"\'):\'\')+\'<aH Y="\'+(v.vW==1?v.Cf:2K(o.au))+\'" 1g="\'+(v.vW==1?v.Ce:2K(o.aY))+\'" 2W="\'+v.7P+\'" RU="0" yh\'+(I(v.k4)?\' \'+v.k4:\'\')+\'></aH>\'+(I(v.EJ)?v.EJ.1M(/6c\'qt/ig,\'"\'):\'\'));if(z){o.8v.8h(2J("ix"),2)}F{mo()}}x!=\'\'?EB(x,\'RT\',3V,3V):\'\'}E W(y){B x=\'\';if(y=="nK"){x="cG://3E.nK.7d/wr/wr.EE?u="}if(y=="mT"){x="cG://mT.7d/NU/NV?W="}if(y=="vk"){x="cG://vk.7d/2u.EE?W="}K x}E 1I(i,x){O(1o[i],{"2Q-Jg":\'50% 50% ee\'});O(1o[i],{"2Q":"1I("+x+")","5i":"2Q 0.1s 3d"})}E EB(W,1O,wl,wk){B Eq=(ay.1g/2)-(wk/2);B Ez=(ay.Y/2)-(wl/2);1S.5U(W+rk(I(v.W)?v.W:o.8k),\'wr\',\'1d=\'+Eq+\',1e=\'+Ez+\',1t=0,6D=0,Y=\'+wl+\',1g=\'+wk)}E wK(x,cl){if(x=="nK"){K"<7a d=\'NS,6.ko jY.jV,6.ko jY.jV,5.O2 O4.jV,4.O5 12.O6,4.wi 12.O7,4.wi vw.Es,4.wi vw.Es,2.Oa jY.Ob,2 C9.O3,2 8.jZ,3.NQ 8.jZ,5.NG L8.jZ,6.ko L7,6.ko L7,9.mS L8.jZ,9.mS L8.jZ,17.Er jY.jV,17.Er jY.jV,9.mS vw.NE,9.mS Nw,6.ko Z\' 4r=\'"+(cl?cl:4l)+"\' 4r-gy=\'mi\'></7a>"}if(x=="mT"){K"<7a d=\'M7.Fa,15.lK NF.NH,15.lK 15.lD,11.NI 15.lD,7.NJ kH.lD,7.NK 15.lD,7.NL 15.NM,7.NN kH.NO,7.Oc 16.Fd,6.NR 16.Od,6.OB kH.OD,6.OE 15.OF,6.OG 14.OI,6.OJ kH.OL,6.OC 15.OM,5.OO 16.Fd,5.OP kH.OQ,5.OT 15.OU,5.OV 14.OW,5.OX OY.ON,4.Oq 11.Oz,4.Og 10.Oh,5.Oi Oj.Ok,6.Ol 9.Of,7.Op 10.Or,8.Os C8.Ot,8.Ou 6.Ov,7.Ow 4.Ox,5.Oy C4.Oe,6.OZ 4.Mq,8.Mr 5.Mt,8.Mu C5.Mv,8.Mw 4.Mx,8.Mp 4.vl,8.My L4.vl,8.MA C4.vl,9.MB 5.MC,10.MD 6.ME,11.MF C6.MG,11.MH 5.MI,11.Mz 5.Mn,11.Mo C5.Mm,12.M2 6.M4,12.M5 7.M6,12.M8 C6.M9,13.Ma 5.Mb,13.vp 4.Md,13.vp C4.Mc,13.vp 4.Me,13.Mf 4,13.Mg C5.Mh,14.Mi 6.Mj,15.lK 7.Fa,15.lK\' 4r=\'"+(cl?cl:4l)+"\' 4r-gy=\'mi\'></7a>"}if(x=="vk"){K"<7a d=\'MJ.xj,13.ML-0.MK-0.N7-1.N9-1.Na-1.Nc-2.Nd-0.Ne-0.Nf-0.F7-0.Ng-0.xS-0.N8-0.Nh c-1.Nj-1.Nk,3.121-3.Nl,2.Nm-5.Nn-0.kQ-0.Np-0.Nq-0.Nr-3.Ns-0.21-3.Ni-0.N6-0.MW,0.N5-0.127,0.MN-0.kK,0.136 c-0.Be,1.MO-1.164,2.MP-2.zI,3.MQ-0.vF,0.F8-0.173,0.111-0.MR,0.MS-0.kQ-0.MT-0.1-0.vt-0.148-0.lP c-0.MU-0.MM-0.MV-3.MX-0.MY-4.MZ-0.lP-0.vO-0.vF-0.161-0.kK-0.N0-0.F8-0.F4-0.174-0.vO-0.N2-0.124 c-1.102-0.18-2.N3-0.146-3.N4,0.Nv.P1,5.P0,7.84,5.36,7.QR,5.QS.63,5.QT,7.QU,5.QV,7.QW,5.QX c0.F7,0.kQ,0.xS,0.kK,0.QY,0.QQ.QZ,7.R1,8.jb,8.54,8.Bj,9.R2.R3,9.58,8.R4,9.R5,8.JG,9.R6 C8.36,9.R7,8.R8,9.R9,8.R0,9.QO.135,9.QE,7.QN,9.Qv,7.Qw,9.Qx.Qy,9.Qz,7.QA,9.QB,7.QC,9.Qu C6.QD,8.QF,6.QG,7.QH,5.QI,5.QJ-0.kQ-0.124-0.124-0.EV-0.21-0.QK.QL,5.QM,5.13,5.Ra,4.Bd,5.QP.Rb,5.Ry c-0.RA,0-0.RB,0.vK-0.RC,0.RD.vt,5.RE.Bn,5.RF,1.zT,5.93,2.F4,6.RG.RH,3.101,3.Rz,7.Bl,6.RI,8.RK c0.RL,0.FE,1.RM,0.177,2.RN,0.RO.RP-0.RQ,0.RR-0.RS,0.RJ-0.Rx.lP-0.Rn.vt-0.lP,0.kQ-0.vO,0.vK-0.16 c0.149-0.Rg,0.Rh-0.Ri,0.Rj-1.Rk.vK-0.vF,0.124-0.kK,0.kK-0.Ro.Rp-0.Rq,0.133-0.127,0.EV-0.148 c0.Rr-0.Rs,2.Rt,1.Ru,2.Rc,2.Qs.PK,14.Qr,19.Pp,15.Pq,18.xj,13.Pr.Ps,13.Pt,18.Pv,13.Pw,18.xj,13.Pz\' 4r=\'"+(cl?cl:4l)+"\' 4r-gy=\'mi\'/></7a>"}if(gP.J(x)>-1){if(!sh[x]){xB(x)}K sh[x]?sh[x].1o((cl?cl:4l)):\'\'}if(x=="7P"||x=="W"){K"<7a d=\'M7.kF,13.xC L1,10.EQ L1,9.ET L7.kF,5.PB L7.kF,7.PC L2.PD,9.xH L7.kF,12.BF L7.kF,13.xC Z PF.EU,4 L9.PG,16 L7.PH,16 Py.Pm,4 ky.EU,4 Z Pl.DI,9.xH ky.ot,7.P3 ky.ot,5.P4 ES,9.ET ES,10.EQ ky.ot,13.xC ky.ot,12.BF P9.DI,9.xH Z\' 4r=\'"+(cl?cl:4l)+"\' 4r-gy=\'mi\'></7a>"}}E Eb(){if(v.W){kt(v.W);mo()}}E kt(x){B gv=1P.1T(\'uK\');gv.6e(\'C\',\'Y:3Q;2S:0;1E:0;\');1P.8S.1R(gv);gv.5g=x;gv.kj();1P.Pd(\'kt\');1P.8S.3h(gv)};G.1o=E(x,z,cl){B y=wK(x,cl);K y?"<2e Y=\'10\' 1g=\'10\' 3N:3M=\'3r://3E.w3.3F/6L/3M\' 3N=\'3r://3E.w3.3F/3X/2e\' C=\'2Q:1I("+z+");2F:0 f5 bt 0;2k:as-4d\'><g>"+y+"</g></2e>":""};G.4E=E(){B x=H;V(B i=1;i<=15;i++){if(I(v["2u"+i])){if(v["2u"+i]!=""){x=L}}F{i<4?x=L:\'\'}}if(I(v["7P"])){v["7P"]!=\'\'?x=L:\'\'}if(I(v["W"])){v["W"]!=\'\'?x=L:\'\'}K x};G.4g=E(){if(ax){o.1U.3h(1a);1a=1Y;ax=L}};G.CM=E(){K 5U}};B rl=E(W,kn){B 7e=L;if(W.J(\'7e\')==0){7e=H;W=W.1n(5)}B oD=qc(W);B 2m;B 3m;B ax=L;B 4a=L;B ly=L;B pA=L;B 2t=H;B xX=[];B cj=1;B ka=L;B vL;B dR=0;B pz=0;B pi=L;B qg=\'Em\'+v.id+(7e?\'7e\':\'\');l4("#Em"+v.id+"{Y:100%!62;1g:100%!62;6n-Y:28!62;6n-1g:28!62}");B 1G=1T(\'26\');B oW=0;1G.6e(\'id\',qg);kn.1R(1G);o.5Y=L;!7e?o.U.jv():\'\';if(o.1l.2j){v.4F=1}if(v.Ef!=1){B 8K=1T(\'26\');kn.1R(8K);O(8K,{1r:"2A",1d:0,1e:0,"2x-1w":"#oH",1g:"100%",Y:"100%","1E":0});8K.1A("J0",E(1h){1h.6B=H});if(o.1l.2j){8K.1A("fL",E(1h){1h.6B=H});8K.1A("2B",E(1h){1h.6B=H});8K.1A("er",E(1h){1h.6B=H;gZ(1h);if(v.e9==1){1C(El,100);1C(pD,2n)}})}F{8K.1A("v4",E(1h){B x=H;if(v.29==1){if(I(v.7B)&&!ly){x=L}if(I(v.mp)&&bb()=="8j"&&1b()>0){x=L}}if(x&&v.e9==1&&v.Ej!=1){3l(G);1C(pD,3X)}})}v.e9==1&&v.Pi!=1?3l(8K):\'\'}E pD(){6K(8K)}E El(){if(v.Ej!=1){3l(8K)}}if(v.4F==1&&v.3j==0){8W()}if(!1S[\'YT\']){1S.PI=E(){qA();V(B i=0;i<59.R;i++){if(59[i]){if(59[i].3v("id")!=v.id){if(59[i].3v(\'EW\')){59[i].3v(\'EX\')}}}}};B wG=wC("4J.7d/Eh","4J.7d/Eh","Pn");if(wG){wG.uJ=E(e){o.U.e3();if(v.AJ!=1){2m=\'Lm PJ iE\';o.P.6f()}}}}F{qA()}E qA(){if(v.4F==1||7e){!ax?k9():\'\'}F{o.U.e3()}}E k9(){if("YT"in 1S){if(I(YT.n2)&&!ax){1v("E4 ha");B x7=0;if(v.Ef==1){x7=1}o.2c>0?dR=2K(o.2c):\'\';3m=1z YT.n2(qg,{1g:o.9k,Y:o.9m,Q6:oD,Q8:{Q9:1,Qa:qg,Qb:1,Qc:1,gH:1,kb:((v.Ec==0||(v.Qe!=1&&o.1l.7O))&&o.1l.2j?0:1),Qf:3,Q:x7,Q7:0,Qi:1,Dv:0,3j:7e||v.3j==1?1:0,9c:0},3i:{\'Qj\':wR,\'Qk\':Am,\'6f\':6f,\'Ql\':B5}});if(o.2c>0){o.2c=1Q}2E();ax=H}F{1C(k9,3V)}}F{1C(k9,3V)}}B kI;E wR(){if(o.P){1v("E4 gd");4a=H;2P(vL);o.U.8a();if(7e){if(o.1l.x5){o.U.5d()}3m.qb();o.29.Qn()}F{if(v.3j==1&&o.1l.x5&&!o.qd){o.U.5d();if(o.1l.2j){3R(kI);kI=7g(E0,dy)}}if(v.4F==0){3m.qb()}F{o.U.e3()}oW=3m.zy();o.P.ap();if(cj!=1){9x(cj)}c6();2E();if(v.Qo==1){3o{if(3m.wV()){if(I(3m.wV().1O)){v.1O=3m.wV().1O;o.U.a5(\'1O\')}}}2T(e){}}}}}E E0(){B x=3m.AO();if(x==2||x==-1){o.Q.3e();o.Q.8a();3R(kI)}if(x==1){3R(kI)}}E Am(1h){if(v.Q4==1){1v(\'YT\',1h.2b)}if(7e){if(1h.2b==YT.dg.Bs){o.29.PM()}if(1h.2b==YT.dg.zP){}}F{if(1h.2b==YT.dg.zP){if(pz==1){pz=0;wR()}if(!o.1B){o.U.2D()}if(dR>0){3m.A8(dR,H);dR=0;o.2c=1Q}pD();ly=H;4a=H;if(pA){3m.w7()}F{o.P.av();o.P.cd()}zN();if(I(v.4Q)){V(B i=0;i<o.2C.R;i++){if(v.4Q==o.2C[i]){5R(i)}}v.4Q=1Y}F{if(I(o.4Q)){V(B i=0;i<o.2C.R;i++){if(o.4Q==o.2C[i]){5R(i)}}o.4Q=1Y}}ka=L}if(1h.2b==-1&&ka&&o.1B){o.U.8a();ka=L;ey()}if(1h.2b==YT.dg.PN){}if(1h.2b==YT.dg.Bs){8H()}if(1h.2b==YT.dg.PP){if(!o.1B){}if(o.1B){ka=H;8W()}}if(1h.2b==YT.dg.PR){}}}E 6f(1h){if(7e){o.29.PS()}F{if(1h.2b==2){2m="LP 4J id"}if(1h.2b==5){2m="tu 4E"}if(1h.2b==101||1h.2b==150||1h.2b==100){2m="G dq is PT"}if(v.PL==1){I(v.B8)?2m=v.B8:\'\'}if(v.AJ!=1){o.P.6f()}F{1m(o.2g)}}}E 8H(){v.1y>0?dR=v.1y:\'\';o.P.8H();o.P.ap()}E ey(){if(!o.LV&&o.1B){o.U.3e()}}E cd(){o.P.cd()}E c6(){o.P.c6();o.U.tQ()}E ap(){o.P.ap()}E eC(){o.P.eC()}E 8W(){if(o.P){o.P.8W()}F{vL=1C(8W,100)}}E B5(1h){vD(1h.2b)}E zN(){if(!pi){B x=3m.PY()+\'\';if(x!=\'\'&&x!=1Q){o.2C=x.2z(\',\');o.2C=o.2C.Dm();if(v.zE==0){B y=o.2C.J(\'2t\');if(y>-1){o.2C.sU(y,1)}}V(B i=0;i<o.2C.R;i++){o.2C[i]=hC(o.2C[i])}pi=H;vD(3m.PZ())}}}E vD(x){o.3n=o.2C.J(hC(x+\'\'));o.Q.vv(o.3n)}G.42=E(){K{"Y":0,"1g":0}};G.2W=E(x){oD=qc(x);if(o.2c>0){dR=2K(o.2c)}bQ(oD)};E bb(){B 7v=-1;if(4a){7v=3m.AO()}B x=\'\';if(7v==-1){x="8j"}if(7v==1||7v==3){x="7L"}if(7v==2){x="8j";if(o.1B){o.U.3e()}}if(7v==5){x="8j"}if(7v==0){x="7s"}K x}E 2E(){3o{if(I(3m)){3m.Q3(o.3b,o.4N)}}2T(e){1v(e)}}E hC(x){B y=x;if(x=="XJ"){y="q4"}if(x=="ah"){y="iO"}if(x=="W1"){y="ja"}if(x=="XL"){y="j2"}if(x=="11U"){y="pg"}if(x=="14v"){y="p6"}if(v.Bp==1){y=2J(y)}if(x=="2t"){y=2J("2t")}xX[y]=x;K y}E 1b(){B x=4a?3m.14x():0;if(x>0&&v.iQ>0){v.4A=x-v.iQ;v.iQ=-1}K x};E 9x(x){3o{3m?3m.14y(x):\'\';cj=x}2T(e){}};G.ow=E(){qA()};G.2D=E(){if(4a){3m.qb()}F{if(!ax){k9()}F{}}};G.3e=E(){if(4a){3m.w7()}};G.dv=E(){if(4a){bb()==\'7L\'?3m.w7():3m.qb()}};G.43=E(x){if(4a){3m.A8(x,H);js("47",x)}};G.ai=E(){K L};G.5d=E(){4a?3m.5e():\'\'};G.6y=E(){4a?3m.14G():\'\'};G.46=E(x){4a?3m.DV(x*100):\'\'};G.nG=E(){K bb()==\'7L\'};G.5z=E(){K L};G.tY=E(x){5R(x)};E 5R(x){if(4a){if(I(o.2C[x])){B y=xX[o.2C[x]];2t=y==\'2t\';B z=1b();3m.14C(y)}}}G.gg=E(x){9x(x)};G.4a=E(){K 4a};G.6D=E(){K bb()};G.1b=E(){K 1b()};G.1q=E(){B x=4a?3m.zy():0;if(x!=oW){oW=x;o.P.ap()}if(I(v.4p)){if(7c([v.4p],\'-\')){x=x+v.4p*1}F{x=v.4p}}K x};G.9H=E(){B x=0;if(4a){x=3m.14r()*3m.zy()}K x};G.4M=E(){2E()};G.hG=E(){K 2m};G.2t=E(){K v.zE==1?2t:L};G.Ak=E(x){bQ(x)};E bQ(x){W=x;if(3m){pz=1;3m.14c(x,0)}}G.lM=E(){if(o.1l.2j&&o.1l.aL){G.2D();pA=H}F{if(bb()=="7L"){G.3e()}}};G.gk=E(){pA=L};G.v8=E(){K H};G.4g=E(){4a?3m.aB():\'\';4a=L;pi=L;3o{if(1G){kn.3h(1G)}kn.3h(8K)}2T(e){}}};B Ib=E(){B x=\'\';B t=0;B d=0;if(o.5q){if(v.14n!=1){if(3a.4n("du"+v.id+o.9F)!=1Y){x=3a.4n("du"+v.id+o.9F)}if(v.7I==1&&3a.4n("ll"+v.id+o.9F)!=1Y){o.7I=3a.4n("ll"+v.id+o.9F)}if(I(v.7u)){if(3a.4n("du"+o.d+v.7u)!=1Y){x=3a.4n("du"+o.d+v.7u)}if(v.7I==1&&3a.4n("ll"+o.d+v.7u)!=1Y){o.7I=3a.4n("ll"+o.d+v.7u)}}if(o.7I&&v.7I==1){o.zp=o.7I.2z(",")}if(x.J("{")==0){if(v.B3==1){o.b7=x.1n(1,x.J("}")-1)}F{o.t6=v.4G=x.1n(1,x.J("}")-1)}x=x.1n(x.J("}")+1);v.14p==1?v.X.q8=0:\'\'}dY(x)}};E dY(x){if(x){if(x.J("--")>0){B y=x.2z("--");t=3T(y[0]);if(v.14q==1&&t>0&&v.3j==1){v.3j=0}if(v.B3==1){o.xz=t}F{d=3T(y[1]);o.2c=t}}}}G.DS=E(){if(I(v.7u)){if(3a.4n("du"+o.d+v.7u)!=1Y){x=3a.4n("du"+o.d+v.7u);dY(x);o.Q.ej(t,d);o.Q.3Y(t,d);v.1q=d}F{o.2c=0;o.Q.ej(0,0);o.Q.3Y(0,0);v.1q=0}}};G.mE=E(t,d){if(o.P.5z()&&v.14t==1){}F{B ct=1z 6S().9j();3a.7Q("du"+(I(v.7u)?o.d+v.7u:v.id+o.9F),(I(o.3q)?"{"+o.3q+"}":\'\')+t+\'--\'+d+\'--\'+ct)}};G.D3=E(x){o.7I=(o.7I?o.7I+\',\':\'\')+x;3a.7Q("ll"+(I(v.7u)?o.d+v.7u:v.id+o.9F),o.7I)};G.9Q=E(){K{t:t,d:d}}};B vT=E(){if(1P.bJ==="uw"){yj()}F{1P.1A("156",E(e){if(1P.bJ=="uw"){yj()}})}E yj(){if(2G.1M){if(2G.1M=="dq"||2G.1M=="qI"){B vd=1P.aS(2G.1M);B pV=[];B lh=[];V(B i=0;i<vd.R;i++){B fY=\'\';B fQ=vd[i].6a("2g");B yY=vd[i].6a("1O");B BD=vd[i].6a("157");B yT=vd[i].6a("id");B xY=vd[i].6a("2W");B sr=vd[i].aS(\'b8\');if(sr.R>0){V(B j=0;j<sr.R;j++){fY+=(fY!=\'\'?\' or \':\'\')+sr[j].2W}}F{if(I(xY)){fY=xY}}if(fY!=\'\'&&!I(BD)){B 26=1P.1T("26");B 7X=vd[i].4k;if(7X){B w=vd[i].2i;B h=vd[i].2Y;7X.n3(26,vd[i]);if(w>0){O(26,{"Y":w,"1g":h})}B fZ=jK(2G);B id=yT?yT:\'gi\'+kf();26.id=id;fZ.id=id;fZ.3z=fY;fQ?fZ.2g=fQ:\'\';yY?fZ.1O=yY:\'\';pV[id]=fZ;lh[id]=vd[i]}}}V(B k in pV){if(lh[k]){lh[k].4k.3h(lh[k]);1S[k]=1z wd(pV[k])}}}}}};B iu=E(){B 2r=[];B bd=[];B 4E=H;B 7E;B 9B=-1;B yC;B 9I;B pT=[];B pL;B ic=[];G.1y=E(x){if(!x&&9I){os(9I);9I=1Q}F{x?os(x):\'\'}};G.zG=E(x){os(x)};G.LE=E(){ic=[]};E os(x){if(x.J("#"+v.bU)==0&&x.J(v.eO)>0){o[o.fd[1]](x,CF)}F{b0(x)}}E CF(x){o.2f=x;b0(x)}E b0(x){!x?x=\'\':\'\';if(x!=\'11\'){B 1y=0;B yI=H;B hA=\'\';o.2f=x.2z(",");o.3f=[];o.3u=-1;if(r8()&&v.yB==1){if(3a.4n("yA")!=1Y){hA=3a.4n("yA")}}F{if(o.oY){hA=o.oY}}V(B i=0;i<o.2f.R;i++){if(o.2f[i].J("#0")==0){o.2f[i]=bN(o.2f[i])}if(o.2f[i].J("#"+v.ak)==0){o.2f[i]=o[o.fd[0]](o.2f[i])}if(o.2f[i].J("[")==0&&o.2f[i].J("]")>1){o.3f[i]=o.2f[i].1n(o.2f[i].J("[")+1,o.2f[i].J("]")-1);o.2f[i]=o.2f[i].1n(o.2f[i].J("]")+1);yI=L}F{o.3f[i]=o.2f[i].1n(o.2f[i].mQ("/")+1);o.3f[i]=o.3f[i].1n(0,o.3f[i].mQ("."))}if(o.2f[i].J("#0")==0){o.2f[i]=bN(o.2f[i])}if(o.2f[i].J("#"+v.ak)==0){o.2f[i]=o[o.fd[0]](o.2f[i])}}if(o.3f.R>1&&v.pC==1){o.3f.2U(nw(\'152\',(v.14N==1&&I(v.A7)?v.A7:2J(\'xd\'))));o.2f.2U("9S")}if(o.3f.R>0&&v.8U==1){if(v.Bx==1){7E=0;1y++;o.3f.i4(nw(\'A9\',2J(\'6N\')));o.2f.i4("")}F{o.3f.2U(nw(\'A9\',2J(\'6N\')));o.2f.2U("");7E=o.3f.R-1}}V(B i=0;i<o.2f.R;i++){if(I(v.Ab)){if(v.Ab==o.3f[i]){1y=i;o.3u=i;v.fK=1}}if(hA!=\'\'){if(hA==o.3f[i]){1y=i;o.3u=i}}}if(v.8U==1&&v.fK==0){o.3u=7E}I(o.Q)?o.Q.bm():\'\';if(v.fK==1){o.3u=1y;if(o.1y){if(v.pC==1&&o.2f[1y]=="9S"){xZ(o.3u)}F{i0(o.3u)}}F{9I=x;o.56=o.2f[1y]!=\'6N\'&&1y!=7E;1C(hu,3V)}}F{if(yI&&o.2f.R<3){i0(7E==0?1:0)}v.8U!=1?o.3u=-1:\'\'}}F{4g()}};G.us=E(x){hH(x,\'1F\')};E i0(x){if(I(o.2f[x])){if(o.2f[x].J(".")>-1){o.pW=o.2f[x].2z(" or ");o.g4=0;hH(x)}F{if(o.2f[x].J(\'bd\')==0){if(bd[o.2f[x].1n(4)]){yQ(o.3f[x],bd[o.2f[x].1n(4)])}}if(o.2f[x].J(\'1F\')==0){o.P.gl(x,"H1");o.56=H;o.3u=x;o.Q.bm()}}}}E xZ(x){o.56=H;hu()}E hH(x,y){B W=y==\'1F\'?x:4L(o.pW[o.g4]);B i9=W;B g3;if(pT[W]){if(o.2f[x]!=\'9S\'){o.56=H;hu()}}F{if(W.J(\'c5\')>0&&W.J(\'c5\')<4){g3=W.1n(0,W.J(\'c5\'));i9=W.1n(W.J(\'c5\')+3)}B 4U=gG(i9);9B=x;o.hM=1;4U.d4=E(){o.hM=0;if(G.bJ==4&&G.6D==4B){o.56=H;yQ(W,G.dr,x,y)}F{if(o.g4+1<o.pW.R){o.g4++;hH(9B)}F{qz("eM")}}};4U.uJ=E(e){o.hM=0;if(o.g4+1<o.pW.R){o.g4++;hH(9B)}F{qz("eM")}};4U.bY()}};E qz(x){1v("22 hf mX or Bt Bu");if(o.3f[o.3u]){if(o.3f[o.3u].J(2J("eM"))==-1){o.3f[o.3u]=o.3f[o.3u]+\' (\'+2J(x)+\')\'}}if(v.14Z==1&&9B>-1){o.2f[9B]=\'\';o.3f[9B]=\'\'}o.3u=-1;o.56=L;if(o.151){o.Q.bm();o.Q.4H()}F{1C(E(){if(o.Q){o.Q.bm();o.Q.4H()}},100)}if(I(o.22)){o.1U.3h(o.22);o.22=1Y}}E yQ(W,x,y,z){B g3;if(x.J("#"+v.ak)==0){x=o[o.fd[0]](x)}if(x.J("#"+v.bU)==0&&x.J(v.eO)>0){x=o[o.fd[1]](x)}if(W.J(\'c5\')>0&&W.J(\'c5\')<4){g3=W.1n(0,W.J(\'c5\'))}if(W.J(\'.iq\')>-1||W.J(\'.z7\')>-1||W.J(\'.qB\')>-1||W.J(\'.yS\')>-1){B l=g3?g3:o.3u;if(o.2f[l]=="9S"){l=y}if(z!=\'1F\'||!2r[l]){2r[l]=8c();2r[l][0]=[];2r[l][1]=[]}B 3D=d3();3D=x.2z(/\\r|\\n/);B z4=1;B t1=0;B t2=0;B g2=(I(v.Au)?v.Au:0);if(W.J(\'jl=\')>0){g2=W.1n(W.J(\'jl=\')+6)*1}V(B i=0;i<3D.R;i++){if(W.J(\'.iq\')>-1||W.J(\'.yS\')>-1){if(3D[i].J(\'-->\')>-1&&3D[i].J(\':\')>-1){if(z==\'1F\'){if(ic.J(3D[i])>-1){1k}ic.2U(3D[i])}t1=hR(3D[i].1n(0,3D[i].J(\'-->\')))*1+g2;t1==0?t1=1:\'\';t2=hR(3D[i].1n(3D[i].J(\'-->\')+4,12))*1+g2;I(2r[l][0][t1])?\'\':2r[l][0][t1]=\'\';V(B j=t1;j<t2;j++){2r[l][1][j]=t1}z4++}F{3D[i]=4L(3D[i]);if(3D[i]!=\'\'&&3D[i].R>0&&3D[i]!=z4&&3D[i]!=\'13j\'){if(2O(2r[l][0][t1])){2r[l][0][t1]=2r[l][0][t1]+\'<br>\'+3D[i]}F{2r[l][0][t1]=3D[i]}}}}if(W.J(\'.z7\')>-1||W.J(\'.qB\')>-1){if(3D[i].J(\'13l:\')>-1){t1=hR(3D[i].1n((W.J(\'.qB\')>-1?3D[i].J(\'=0\')+3:12),12))*1+g2;t2=hR(3D[i].1n((W.J(\'.qB\')>-1?3D[i].J(\'=0\')+14:23),10))*1+g2;B p=\'\';if(3D[i].J(\'0,,\')>0){p=3D[i].1n(3D[i].J(\'0,,\')+3)}F{if(3D[i].J(\'zU,\')>0){p=3D[i].1n(3D[i].J(\'zU,\')+6)}if(3D[i].J(\')}\')>0){p=3D[i].1n(3D[i].J(\')}\')+2)}}if(p!=\'\'){if(2r[l][0][t1]!=1Q){2r[l][0][t1]+=\'<br>\'+p}F{2r[l][0][t1]=p}2r[l][0][t1]=2r[l][0][t1].1M(/{.*?}/,\'\');2r[l][0][t1]=2r[l][0][t1].1M(/\\\\\\\\N/,\'<br>\');2r[l][0][t1]=2r[l][0][t1].1M(/\\\\N/,\'<br>\');V(B j=t1;j<t2;j++){2r[l][1][j]=t1}}}}}pT[W]=H;if(o.2f[y]!=\'9S\'){z!=\'1F\'?hu():\'\'}}F{if(x!=\'\'){if(x.J(\'[\')==0){b0(x)}F{qz("2m")}}F{4g();o.Q.4H()}}}E hu(){o.Q.bm();o.U.iv();o.Q.4H()}E hR(iq){B 1K=iq.2z(\':\');B 5y=0;1K.R==2?1K.i4("cg"):\'\';1K[0]!=\'cg\'?5y+=1K[0]*w5:\'\';1K[1]!=\'cg\'?5y+=1K[1]*60:\'\';5y+=1K[2].1n(0,2)*1;5y=5y*10+1K[2].1n(3,1)*1;K 5y};E 9a(x){if(I(o.3u)){if(o.3u!=x){ic=[];if(x==-1||(v.8U==1&&x==7E)){ov()}F{v.cX=0;o.3u=x;o.56=H;v.fK=1;yu(x);js("22",o.3f[x]);o.Q.bm()}}F{if(v.8U!=1){ov()}}}}E ym(){if(I(o.3f[o.3u])){if(o.5q&&v.yB==1){3a.7Q("yA",o.3f[o.3u])}F{o.oY=o.3f[o.3u]}}}E yu(x){if(I(o.2f[x])){1v("g1",x);o.3u=x;ym();if(o.2p=="1F"&&o.aw==H){o.P.gl(x,"1F")}F{if(o.2p=="3U"&&o.yt==H){o.P.gl(x,"3U")}F{if(o.2f[x]=="9S"){xZ(o.3u)}F{i0(o.3u)}}}}};G.y5=E(){if(o.fX){B x=o.fX.4f;if(x[0]){B y=1z ya();y.d4=E(e){B z=e.4y.hY;bd.2U(z);o.3u=-1;B z=x[0].6M;if(z.R>40){z=x[0].6M.1n(0,15)+\'...\'+x[0].6M.1n(-15)}if(v.8U==1&&v.Bx==1){o.2f.2U(\'bd\'+(bd.R-1));o.3f.2U(z+\'\');9a(o.2f.R-1)}F{o.2f.i4(\'bd\'+(bd.R-1));o.3f.i4(z+\'\');v.8U==1?7E++:\'\';9a(0)}o.fX.5g=""};y.130(x[0])}F{o.fX.2B()}}};G.9a=E(x){9a(x)};G.7E=E(){K 7E};G.12Y=E(x){7E=x};G.1u=E(x){jQ(x)};G.C=E(){ze()};G.6r=E(){4g()};G.6N=E(){ov()};E ov(){js("22","6N");o.56?o.DT=o.3u:\'\';o.3u=v.8U==1?7E:-1;v.fK=0;o.56=L;o.Q.bm();ym();o.yt?yu(o.3u):\'\';I(o.22)?o.1U.3h(o.22):\'\';o.22=1Y}E jQ(1b){if(o.a0){K}B t=2K(1b*10);if(v.cX){1b=1b-v.cX*1}if(o.56&&I(o.2f)){if(2r){B x=o.3u;B t=2K(1b*10);if(v.yE==1&&!o.1B){K}if(o.2f[x]=="9S"){if(!pL){V(B i=0;i<o.2f.R;i++){1C(i0,i*3V,i)}if(!2r[x]){2r[x]=8c();2r[x][0]=d3();2r[x][1]=d3()}pL=H}F{if(2r[x][1][t]){}F{V(B i=0;i<o.2f.R;i++){if(2r[i]){if(I(2r[i][1])){if(I(2r[i][1][t])){if(!2r[x][0][t]){2r[x][0][t]=\'\'}2r[x][0][t]+=(2r[x][0][t]!=\'\'?\'<br>[pE]\':\'\')+2r[i][0][2r[i][1][t]]+(2r[x][0][t]!=\'\'?\'[/pE]\':\'\')}}}}if(I(2r[x][0])){if(I(2r[x][0][t])){2r[x][1][t]=t}}}}}if(I(2r[x])){if(I(2r[x][1])){if(I(2r[x][1][t])){B y=\'\';y=2r[x][0][2r[x][1][t]];if(!I(o.22)){o.22=1T(\'26\');4e(o.22,{id:\'gi\'+v.id+\'4z\'+\'22\'});o.1U.1R(o.22);ze();js("qZ",o.3f[x])}if(4E){6K(o.22)}A6();if(v.Ai==1){y=13S(y)}if(v.pC==1){y=y.1M(/\\[pE\\]/gm,\'<7h C="1w:\'+3y(v.g9)+\'">\');y=y.1M(/\\[\\/pE\\]/gm,\'</7h>\')}if(y.J(\'<c.\')>-1){y=y.1M(/\\<c./gm,\'<7h C=1w:\');y=y.1M(/\\<\\/c\\>/gm,\'</7h>\')}if(v.9G){if(v.9G.2r==1&&yC!=y){js("2r",y);yC=y}}o.22.1V=\'<7h C="\'+(v.AR==1?\'2x-1w:\'+5M(v.iZ,v.j0)+\';\':\'\')+\'-3L-5W-zB-1k: 141;1w:\'+3y(v.fg)+\';2X:\'+v.zd+\'px \'+v.zd*2+\'px;2S-7b:\'+v.AD+\'px;2F:0 0;2N-1g:\'+(v.AB?v.AB:1.8)+\';4b-dD:\'+v.iU+\'">\'+4L(y)+\'</7h>\';O(o.22,{"4b-42":((2K(v.mG)+((2K(v.fh)-100)*2K(v.mG)/100))+"px")});if(v.A2==1){if(o.2a){O(o.22,{"4b-42":((v.mt+((2K(v.fh)-100)*v.mt/100))+"px")})}}4E=L}F{if(!4E&&I(o.22)){zF()}}}}F{zF()}}}}E zF(){if(!4E){o.22?o.22.1V=\'\':\'\';4E=H;3l(o.22)}}E ze(){if(o.22){O(o.22,{"1r":"2A","Y":"100%","2X-1e":"10%","2X-2o":"10%","1e":0,"1w":v.fg,"1D-6W":"6k","5W-l6":"2S-5W"});if(v.13A==1&&I(v.wb)){v.wb!=\'\'?O(o.22,{"4b-hk":v.wb}):\'\'}if(v.pS==1){O(o.22,{"1D-aj":"-3Q -3Q 0 #gS,3Q -3Q 0 #gS,-3Q  3Q 0 #gS,3Q  3Q 0 #gS"})}F{if(v.j1==1){O(o.22,{"1D-aj":"3Q 3Q 13C 13D"})}F{O(o.22,{"1D-aj":"28"})}}if(v.13E==1){r4(o.22,\'o.mU\')}F{v.Ai!=1?f0(o.22):\'\'}}}E A6(){if(!o.mU){if(o.Q.qD()||v.cp>v.1t.h){O(o.22,{"1r":"2A","1d":"2t","1e":0,"2V":(v.cp*1)})}F{O(o.22,{"1r":"2A","1d":"2t","1e":0,"2V":(v.cp*1+v.1t.h*1)})}}}E 4g(){o.3u=-1;o.56=L;o.pa=L;v.22=1Y;v.n4=1Y;o.2r=1Y;o.2f=1Y;pL=L;pT=[];2r=[];if(I(o.Q)){o.Q.bm()}o.3f=1Y;if(I(o.22)){o.1U.3h(o.22);o.22=1Y}o.3u=1Y;o.56=L}};o.13J={"2t":"","1B":"","4m":"","2L":"","2a":"  ","rz":"   ","1j":"","2G":"","1J":"","5e":" ","aq":" ","5r":" ","X":"","4Y":"","6Q":"","22":"","53":"","ek":"","2m":"","15l":" ","7l":"","eM":" ","q4":" ","iO":"","ja":"","j2":"","r5":"","6z":"","bH":"","2u":"","ix":"   ","DW":"","6U":"","13M":"  ","DA":"   ","fh":" ","cX":"  ","fg":" ","g9":"  2","iZ":" ","j0":" ","j1":"","pS":"","iU":" ","cp":" ","od":"","oR":" ","pP":"","pO":"","j6":"","w0":"","vZ":"","wz":"","Ee":"","Ea":"","of":"","8d":"","E6":"   ","E5":"  ","cD":"","1I":"","on":".","6N":".","xd":" ","fI":"/","7P":"","W":"","1w":"","Bi":"","fy":"","eV":"","p8":""};B 5K=E(x){B gc;B 16X;B 2Z;B 4V;B 4u;B p9;B f8=0;B cj;B vo=L;B vm;if(x.me!=1Q&&x.mc!=1Q&&x.1H!=1Q&&x.to!=1Q){if(x.1b==1Y){if(x.1H.J("gL")>-1){x.to==0?x.1b=0.5:x.1b=0.2}F{x.1b=0.20}}gc=Bz(x.6A);if(x.1H.J("1I")==-1){if(I(o.7p[x.me])){o.7p[x.me].x6()}o.7p[x.me]=G}if(x.1u==1){x.mc.1Z("2k",H)}2Z=x.1H.2z(\'|\');4u=6V(x.to).2z(\'|\');4V=1z d3();V(B i=0;i<2Z.R;i++){if(!4u[i]){4u[i]=4u[0]}if(2Z[i]=="gL"){4V[i]=x.mc.g("1E")}if(2Z[i]=="8q"){4V[i]=x.mc.C.1E}if(2Z[i]=="y"){4V[i]=x.mc.g("y")}if(2Z[i]=="x"){4V[i]=x.mc.g("x")}if(2Z[i]=="1e"){4V[i]=2K(x.mc.C.1e)}if(2Z[i]=="1d"){4V[i]=2K(x.mc.C.1d)}if(2Z[i]=="1I"){4V[i]=x.mc.g("3t")}if(2Z[i]=="9p"){4V[i]=x.mc.dF}if(2Z[i]=="jo"){4V[i]=x.mc.bv}if(2Z[i]=="3x"){4V[i]=x.mc.g("3x")}if(2Z[i]=="3t"){4V[i]=x.mc.g("3t")}if(2Z[i]=="Y"){4V[i]=x.mc.g("Y")}if(2Z[i]=="AG"){4V[i]=x.mc.2i;4u[i]=2M.8L(4u[i]);x.me=="16W"?1v("Y",x.me,4V[i],4u[i],x.mc.2i):\'\'}if(2Z[i]=="1g"){4V[i]=x.mc.g("1g")}if(2Z[i]=="AN"){4V[i]=x.mc.2Y}4u[i]=Ba(4u[i]);4V[i]=Ba(4V[i])}cj=x.1b*2n/gc.R;p9=gc.R;if(2Z.R==1&&4V[0]==4u[0]){a8()}F{1C(pe,2M.4q(cj))}}E pe(){V(B i=0;i<2Z.R;i++){B 1K=4V[i]+(4u[i]-4V[i])*(gc[f8]?gc[f8]:0);vB(2Z[i],1K);if(2Z[i]=="y"){x.mc.1Z("1d",1K)}if(2Z[i]=="x"){x.mc.1Z("1e",1K)}if(2Z[i]=="1e"){x.mc.C.1e=1K+"px"}if(2Z[i]=="1d"){x.mc.C.1d=1K+"px"}if(2Z[i]=="1I"){x.mc.1Z("1I",1K)}if(2Z[i]=="3x"){x.mc.1Z("3x",1K)}if(2Z[i]=="3t"){x.mc.1Z("3t",1K)}if(2Z[i]=="9p"){x.mc.dF=1K}if(2Z[i]=="jo"){x.mc.bv=1K}if(2Z[i]=="Y"){x.mc.1Z("Y",1K)}if(2Z[i]=="AG"){O(x.mc,{"Y":1K})}if(2Z[i]=="1g"){x.mc.1Z("1g",1K)}if(2Z[i]=="AN"){O(x.mc,{"1g":1K})}}f8++;if(!vo){if(f8==p9){a8()}F{vm=1C(pe,2M.4q(cj))}}}E a8(){vo=H;if(x.1m){if(2Z[0]=="8q"||2Z[0]=="1e"){1m(x.mc)}F{x.mc.1Z("2k",L)}}if(x.1H.J("1I")==-1){o.7p[x.me]=1Y;4A o.7p[x.me]}V(B i=0;i<2Z.R;i++){vB(2Z[i],4u[i])}2P(vm)};E vB(y,z){if(y=="gL"){x.mc.1Z("1E",z)}if(y=="8q"){x.mc.C.1E=z}}G.x6=E(){a8()};G.Dn=E(){f8=p9-1;pe();a8()};G.XY=E(x0,x1,y0,y1){B e=L;V(B i=0;i<2Z.R;i++){if(2Z[i]==\'x\'&&x0!=x1){e=H}if(2Z[i]==\'y\'&&y0!=y1){e=H}}e?a8():\'\'};E Bz(Bv){bK(Bv){1p"Bq":K[0,0.16B,0.16A,1.176,1.JG,1.16x,1.102,0.172,0.16M,0.87,0.178,0.17r,1.17s,1.17q,1.179,1.17n,0.17m,0.Bn,0.17k,0.17j,1.17i,1.Bm,1.17h,1.Bm,1.17e,0.jS,0.jb,0.jb,0.jb,0.jb,1];1k;1p"c4":K[0,0.17c,0.17b,0.17a,0.16z,0.Bl,0.Bj,0.16t,0.xS,0.15Q,0.15P,0.15O,0.15N,0.15M,0.15L,0.15J,0.16u,0.15H,0.zZ,0.95,0.Be,0.15F,0.15E,0.15C,0.99,0.Bd,0.15B,0.jS,1];1k;7J:K[0,0.175,0.32,0.44,0.52,0.6,0.67,0.73,0.15y,0.82,0.85,0.15w,0.15u,0.zZ,0.95,0.97,0.15s,0.zT,1];1k}}};B Ih=E(){B N=8g.15r,ua=8g.15q,aN=8g.LN,xa;B M=ua.xe(/(qk|iC|7t|zR|AA)\\/?\\s*(\\.?\\d+(\\.\\d+)*)/i);B M=ua.xe(/(qk|iC|7t|zR|AA|15S|qC)\\/?\\s*(\\.?\\d+(\\.\\d+)*)/i);if(M&&(xa=ua.xe(/8G\\/([\\.\\d]+)/i))!=1Y)M[2]=xa[1];B qr=8g.Aa;G.d8=M?M[1]:N;G.8G=M?M[2]:8g.16r;G.eq=8g.Aa>1;G.qk=G.d8=="16p";G.sW=G.d8=="BG 9.0";G.ie=G.d8=="BG"||G.d8=="16n"||G.d8=="16m";G.qC=ua.d9(/(qC)\\/?\\s*/i)>-1;G.ff=G.d8=="16l";G.7t=G.d8=="16k";G.iC=1S.iC;G.iY=ua.d9("16j NT")>-1;G.5o=(ua.d9(/(7O|kq|16i)\\/?\\s*/i)>-1)||(8g.16h===\'16g\'&&qr>1);G.tv=v.E3!=1&&ua.d9(/(TV|16d|15V|16c|16b|169|168|167)\\/?\\s*/i)>-1;G.lg=v.E3!=1&&ua.d9(/(LG)\\/?\\s*/i)>-1;G.7O=ua.d9(/(7O)\\/?\\s*/i)>-1;G.kq=G.5o&&!G.7O;G.3L=\'162\'in 1P.ph.C;if(ua.d9(/(aL)\\/?\\s*/i)>-1){qr>0?G.aL=H:G.tv=H;if(15Z(\'(4j:15Y)\').15X){G.tv=H}}G.2j=(2G.2j==1||G.5o||G.aL||(ua.d9(/(13K|12V|qk ne)\\/?\\s*/i)>-1))&&!G.tv&&2G.12T!=1;G.x5=G.7t||G.iC;G.2a=L;if(G.5o){G.Zk=3T(ua.1n(ua.J(\'OS \')+3,4).1M(\'4z\',\'.\'));if(G.kq&&(!\'Fk\'in 1S||qr<2)){G.2j=G.5o=L;G.tv=H}}G.cJ=!G.2j;G.zA=G.2j||G.eq;G.I3=G.2j||G.tv;G.Zh=G.3L&&G.cJ;if(o.1U.s9||o.1U.so||o.1U.s8||o.1U.s7||o.1U.rN){G.2a=H}};E aE(4x,7x){V(B s in 7x){if(1N(7x[s])==\'3W\'){if(s=="3i"||s=="3z"){4x[s]=7x[s]}F{V(B s2 in 7x[s]){if(1N(4x[s])!=\'3W\'){4x[s]={}}if(1N(7x[s][s2])==\'3W\'){V(B s3 in 7x[s][s2]){if(1N(4x[s][s2])!=\'3W\'){4x[s][s2]={}}if(1N(7x[s][s2][s3])==\'3W\'){V(B s4 in 7x[s][s2][s3]){if(1N(4x[s][s2][s3])!=\'3W\'){4x[s][s2][s3]={}}4x[s][s2][s3][s4]=7x[s][s2][s3][s4];if(s3==\'2X\'||s3==\'2F\'){4x[s][s2][s3][s4]=2K(4x[s][s2][s3][s4])}}}F{4x[s][s2][s3]=7x[s][s2][s3];if(s2==\'2X\'||s2==\'2F\'){4x[s][s2][s3]=2K(4x[s][s2][s3])}}}}F{4x[s][s2]=7x[s][s2];if(s==\'2X\'||s==\'2F\'){4x[s][s2]=2K(4x[s][s2])}}}}}F{if(s.J("Zq")>0&&4L(7x[s])===""){}F{4x[s]=wM(s,7x[s])}}}K 4x};B wM=E(1c,5g){if(1N(5g)==\'5b\'){5g=4L(5g);if(1c.J("1w")>-1&&5g!=-1){5g=3y(5g)}}K 5g};E r8(){3o{B 5q=1S[\'3a\'],x=\'Zt\';5q.7Q(x,x);5q.rE(x);K H}2T(e){K L}};E zo(bp){if(bp){if(I(o.7p[bp])){o.7p[bp].x6()}}};B 2J=E(x){B y=x;if(y){y=x.6I(0).Zp()+x.6Y(1);if(y.J("4z")>-1){y=y.1M(/4z/ig," ")}}B en={"of":"of","fI":"fI","E5":"E7 on E8","E6":"E7 2m on E8","xd":"Z0 at Z1","8d":"mm","Ea":"No","pO":"Z2","j6":"Z4","Ee":"Z5","cp":"Z7 2F","iU":"Z9 dD","j1":"Zc","j0":"bc 1E","iZ":"bc 1w","fh":"wN 42","fg":"wN 1w","g9":"wN 1w 2","cX":"4w jl","oR":"8O 2G","od":"ZT","bH":"ZU","ix":"mo to ZW","q4":"ZX","iO":"ZR","ja":"ZY","j2":"DX","r5":"DX","pg":"HD","p6":"10b HD","10c":"10e HD","qN":"10g HD","rO":"ZZ HD 4K","DW":"Ad","DA":"Go to ZA ZB\'s ZC","7l":"ZD","5r":"ZE","2a":"ZF 2a","rz":"CJ 2a"};if(I(en[x])){y=en[x]}if(v.DB==1){if(o[\'mh\'+o.1l.aN]){v.aN=o.1l.aN;v.DB=0}}if(I(o[\'mh\'+v.aN])){if(I(o[\'mh\'+v.aN][x])){y=o[\'mh\'+v.aN][x]}}if(v.xE){if(v.xE[x]){y=v.xE[x]}}K y};B bf=E(x,y,z){if(!I(o.jO[y])&&v.uA!=1){B t=o.dc?o.dc:(v.1O?v.1O:\'\');I(v.7S)?t=v.7S:\'\';if(v.DC[x]==1&&v.D0==1&&I(v.iG)){if(x=="8R"){7g(DG,ZL)}if(I(1S["m5"+v.iG])){1S["m5"+v.iG].DJ(\'xI\'+x,{1O:t});1v("DD",\'xI\'+x)}F{1v("DD Zy 2m")}}if(v.DE[x]==1){if(v.ga==1){B cZ;if(v.JY==1){if(1S.DF){cZ={\'7S\':t};if(v.j5){if(1N(v.j5)=="3W"){V(B g in v.j5){if(v.j5.2v(g)){cZ[g]=v.j5[g]}}}}DF(\'1h\',\'xI\'+x,cZ)}}F{if(1S.ga){cZ={K3:\'n2\',K4:y};if(t!=\'\'){cZ.K5=t}if(v.Ya==1&&!o.a2){cZ.Yb=1}ga(\'ho.bY\',\'1h\',cZ)}}}}}z?o.jO[y]=H:\'\'};E DG(){if(I(1S["m5"+v.iG])){1S["m5"+v.iG].DJ(\'Ye\')}};B qc=E(W){B x=\'\';W=W.1M("v=","{=");if(W){if(W.J(\'mH.be/\')>-1){x=W.1n(W.J(".be/")+4);x.1M("/","")}F{x=W.2z(/(mH.be\\/|v\\/|7P\\/|Yg\\?|4J.Yh\\/ho\\/[^#]*#([^\\/]*?\\/)*)\\??{?=?([^#\\&\\?]*)/)[3]}if(x!=\'\'){if(x.J("?t=")>0){v.1y=x.1n(x.J("?t=")+3);B h=0;B m=0;B s=0;if(v.1y.J("h")>0){h=v.1y.1n(0,v.1y.J("h"));v.1y=v.1y.1n(v.1y.J("h")+1)}if(v.1y.J("m")>0){m=v.1y.1n(0,v.1y.J("m"));v.1y=v.1y.1n(v.1y.J("m")+1)}if(v.1y.J("s")>0){s=v.1y.1n(0,v.1y.J("s"));v.1y=v.1y.1n(v.1y.J("s")+1)}if(h>0||m>0||s>0){v.1y=h*w5+m*60+s*1}}if(x.J("?")>0){x=x.1n(0,x.J("?"))}}}K x};B js=E(x,y,li,ev){if(x=="8R"){o.8R=H}if(ev==1){V(B yi in y){if(y.2v(yi)){if(1N(y[yi])=="3W"){y[yi]=\'\'}}}}if(v.lw==1&&o.8R){if(v.Yi==1||li==1){yK(x,y)}F{if(y!=1Q){if(1N(y)==\'3W\'){3o{y=5l.yr(y)}2T(e){}}F{if(1N(y)==\'5b\'){y=y.1M(/\'/ig,\'\')}}}if(1N(v.3i)==\'5b\'){if(v.3i.J("{")==0){3o{v.3i=v.3i.1M(/\\\'/ig,\'"\');v.3i=5l.6Z(v.3i)}2T(e){ea.1v(e)}}}if(1N(v.3i)==\'3W\'){if(I(v.3i[x])||I(v.3i[\'gP\'])){B z=x;if(!I(v.3i[x])&&I(v.3i[\'gP\'])){z=\'gP\'}if(x.J("6l")==0){if(I(v.3i[\'29\'])){z=\'29\'}}3o{if(y!==1Q){2l(v.3i[z]+"(\'"+x+"\',\'"+v.id+"\',\'"+y+"\')")}F{2l(v.3i[z]+"(\'"+x+"\',\'"+v.id+"\')")}}2T(e){1v("3i",e,x)}}}F{if(v.3i==\'\'){v.3i="Ff"}3o{if(y!==1Q){2l(v.3i+"(\'"+x+"\',\'"+v.id+"\',\'"+y+"\')")}F{2l(v.3i+"(\'"+x+"\',\'"+v.id+"\')")}}2T(e){1v("3i",e,x,y)}}}}if(o.8R&&v.KY==1){if(o.DM){3o{o.DM.kS.om({1h:x,9q:y},"*")}2T(e){}}}if(v.Ky==1&&li!==1){B zv={1h:x,1b:o.P?(x=="47"?o.D2:o.P.1b()):0};if(y!=1Q){zv["2b"]=y}if(x=="1q"||x=="1b"){zv["1q"]=o.P.1q()}if(x=="1J"||x=="aq"){zv["1J"]=v.1J}if(x=="1z"){zv["id"]=3H("F2")}1S.7X.om(zv,\'*\');B z=x;x=="8R"||x=="1y"||x=="4p"?z=x+"ed":\'\';x=="1B"?z="XN":\'\';x=="4m"?z="8j":\'\';x=="5e"?z="3C":\'\';x=="aq"?z="XO":\'\';x=="47"?z="XP":\'\';x=="XQ"?z="XR":\'\';zv["1h"]=z;if(z!=\'\'&&z!=x){zv=5l.6Z(5l.yr(zv));1S.7X.om(zv,\'*\')}}};B yK=E(x,y){B ev=1P.XM(\'7r\');if(y!==1Q){ev.9q=y}ev.XT(x,H,H);o.1G.XV(ev)};G.1h=E(x,y){o.3i[x]=y};G.3v=E(x,y,S){v.XX==1?1v(\'3v\',x,y):\'\';K 3H(x,y,S)};E 3H(x,y,S){if(I(o.U)&&1N(x)==\'5b\'){if(o.vz==1){K}if(S){if(1N(S)==\'5b\'){if(S.J("id:")==0){S=o.Q.rw(S.1n(3),"4O");if(S){if(x=="nq"&&y=="XZ"){S.Gl()}}}}}if(x=="1B"||x=="3z"){if(I(y)){B 8m=L;if(1N(y)==\'5b\'){y=y.1M(/(\\r\\n|\\n|\\r)/gm,"");B 2c=-1;if(y.J("[47:")>-1&&y.mQ("]")==y.R-1){2c=y.1n(y.J("[47:")+6,y.R-1);2c=2c.1n(0,2c.R-1);if(2c=="1b"){2c=o.P.1b()}F{2c=2K(2c)}y=y.1n(0,y.J("[47:"));if(y==\'\'){if(o.P.1q()>0){o.U.43(2c);o.U.2D();K}F{o.2c=2c;o.U.2D();K}}F{o.2c=2c}}if(y.J("[DN]")>-1){8m=H;y=y.1M(\'[DN]\',\'\')}if(y.J("#"+v.ak)==0){y=o[o.fd[0]](y)}if(y.J("#"+v.bU)==0&&y.J(v.eO)>0){o[o.fd[1]](y,EP,x);K}if(y.J("#0")==0){y=bN(y)}if(v.bM==1){y=bM(y)}if(y.J(".8h")==y.R-4){B 4U=gG(y);4U.d4=E(){if(G.bJ==4&&G.6D==4B){3o{3H(\'1B\',5l.6Z(G.dr))}2T(e){}}};4U.bY();K}if(y.J("id:")==0&&I(o.1L)){B z=EC(y);if(I(o.1L[z])){o.Q.Hh(z);2c>-1?o.2c=2c:\'\';K H}F{K L}}if(y.J("Yl:")==0){B z=y.1n(10);if(o.2p=="4J"){o.P.Aq(z);K H}F{y=\'//mH.be/\'+z}}}if(x=="1B"){o.Q.Hy();o.U.e7(y,1Q,1Q,(8m?1:0))}if(x=="3z"){o.nm=H;v.3j=0;o.U.e7(y,1,1Q,(8m?1:0));o.Q.3Y(0,0);o.1y=L}}F{if(x=="1B"){o.U.2D()}if(x=="3z"){1N DO==\'E\'?DO():\'\'}}}if(x=="dP"){y?o.P.Aj(y):\'\'}if(x=="4F"){if(I(y)){o.nm=H;o.U.e7(y,1,1)}F{o.P.rP()}}if(x=="4m"){if(o.1B){o.U.3e();o.U.iv()}}if(x=="cD"&&I(y)){o.1y&&o.7T?o.7T.DP(y):\'\'}if(x.J("YG")==0){if(o.29){o.29.YH(x.1n(6),y)}}if(x=="8v"){o.8v.9l();o.8v=1z tj();if(I(y)){o.8v.8h(y)}F{if(v.AU==1){o.8v.8h(v.AW)}F{o.8v.8h("YJ 9L")}if(v.AY==1&&I(v.AZ)){o.dV=1z B0()}}}if(x=="8e"){!o.1y?o.Q.vS():\'\';o.Q.9f();o.Q.Ht("xb")}if(x=="im"){o.1B?o.U.3e():o.U.2D()}if(x=="2L"){v.4F=0;v.3j=0;o.P.oC();o.U.aK()}if(x=="8M"){o.1b=o.P.1b();o.U.f3()}if(x=="6Q"){if(v.9G){if(v.9G.on==1&&v.9G.YK==1){o.U.iM()}}}if(x=="yL"&&I(y)){if(o.6j){o.6j.3v(y)}}if(x=="2u"){o.Q.GW()}if(x=="YL"&&I(y)){if(v.29==1){if(y.J(\'js:\')==0){v.6J=y;v.iX=H;o.U.u1("6J")}F{if(o.p!=\'\'){B sv=5l.6Z(dp(o.p));V(B l in sv){if(sv.2v(l)){if(I(sv[l].id)){if(y==sv[l].id){v.6J=\'YF\'+(I(sv[l][\'xD\'])?\'xD\'+sv[l][\'xD\']:\'\')+y+\'4z\'+sv[l].7B;v.iX=H;o.U.u1("6J")}}}}}}}}if(x=="YM"){1N DR=="E"?DR(y):\'\'}if(x=="7u"&&y){v.7u=y;o.3w?o.3w.DS():\'\'}if(x=="5e"){o.U.5d()}if(x=="53"){if(I(y)){o.U.9x(y)}F{K o.5T[o.an]}}if(x=="eJ"){if(v.9G&&o.bw){if(v.9G.bw==1){K 2M.4q((o.bw.6R(YR).R-1)/2M.4q(o.P.1q())*100)}}}if(x=="jk"){K o.5T}if(x=="aq"){o.U.6y()}if(x=="n4"){if(I(y)){v[x]=y;o.U.iS()}}if(x=="d7"){K o.2C}if(x=="CU"){K o.ab?H:L}if(x=="5r"){K o.P?o.P.5z():L}if(x=="qZ"){K v.8U==1?o.3f.6Y(0,-1):o.3f}if(x=="FI"){o.56?o.3G.6N():o.3G.9a(2I(o.DT,(o.3G.7E()==0?1:0)))}if(x=="cz"){K o.a0}if(x.J("22:")==0&&y){v[x.1M(\'1O:\',\'4z\')]=y;o.U.iv()}if(x=="YD"){K o.iA}if(x=="aV"){K o.7C}if(x=="1J"||x=="DV"){if(I(y)){if(1N y=="5b"){if(y.J("+")==0){y=v.1J+3T(y.1n(1))}F{if(y.J("-")==0){y=v.1J-3T(y.1n(1))}}}if(y>=0&&y<=1){o.U.46(y)}}K o.3C?0:v.1J}if(x=="3C"){K I(o.3C)?o.3C:L}if(x=="Yv"){o.Q?o.Q.FW(y):\'\'}if(x=="e1"){y<2?y=\'\':\'\';if(2O(o[\'u\'+y])){B x2=5l.6Z(dp(o[\'u\'+y]));B v2=[];V(B l in v){if(v.2v(l)){if(l.J("ao")==0){v[l]=1Y}}}if(1N x2=="3W"){V(B k in x2){if(x2.2v(k)){if(k.J("ao")==0){v[k]=x2[k]}if(k=="1t"){v2[k]=x2[k]}}}}v=aE(v,v2);B xm=L;if(o.Q.cI()){o.Q.7W();xm=H}B xn=L;if(o.Q.ht()){o.Q.bE();xn=H}o.Q.4g();o.Q=1Y;o.Q=1z te();if(o.P.6D()=="7L"){o.Q.2D()}o.Q.46(v.1J);if(I(v.1O)){a5(v.1O)}if(xm){o.Q.7W()}if(xn){o.Q.bE()}if(o.2a){o.Q.9C()}if(1c!=\'Gu\'){o.Q.3Y(o.P.1b(),o.P.1q())}aF()}}if(x=="nh"){K v.nh}if(x=="4M"){o.Q.4M(H)}if(x=="Yq"){o.Q.lr()}if(x=="HF"){aF()}if(x=="47"){if(I(y)){if(1N y=="5b"){if(y.J("%")>-1){y=2K(y.1n(0,y.J("%")));y=o.P.1q()*y/100}F{B mD=o.P.1b();if(o.3w&&!o.1y){if(!o.3w.nv){B f=o.3w.9Q();if(f.t&&f.d){mD=f.t;o.3w.nv=H}}}if(y.J("+")==0){y=mD+3T(y.1n(1))}F{if(y.J("-")==0){y=mD-3T(y.1n(1))}}}}y=y*1;y<0?y=0:\'\';if(o.P.1q()>0){y>o.P.1q()?y=0:\'\'}if(!I(o.29)&&!I(o.5H)&&o.P.1q()>0){o.2c=1Q;o.U.43(y,H);o.U.rh()}F{o.2c=y}}}if(x=="2a"){!o.2a?o.U.9C():\'\'}if(x=="ur"){o.2a?o.U.8p():\'\'}if(x=="Ys"){K o.2a}if(x=="42"){K o.3b+\'/\'+o.4N}if(x=="Yt"){if(I(o.gj)){o.gj.Do()}}if(x=="HV"||x=="Yn"){if(I(o.gj)){o.gj.Un()}}if(x=="1b"||x=="DY"){B jH=o.P?o.P.1b():0;if(o.3w&&v.cu==1&&!o.1y&&jH==0){B f=o.3w.9Q();if(f.t){jH=f.t}}K x=="DY"?eY(jH):jH}if(x=="Yx"){if(o.b7){3H("1B","id:"+o.b7)}if(o.xz){3H("47",o.xz);3H("1B")}}if(x=="1q"){K o.P?o.P.1q():0}if(x=="8w"){K o.P?o.P.9H():0}if(x=="8P"){if(y){v.8P=y;o.Q.k0()}}if(x=="4Y"){if(I(y)){if(S){v.hd=aX(v.hd,y,S);if(o.2C.R==2){o.U.5R(v.hd)}}F{o.U.5R(y)}}F{K o.P?vn(o.P.sd()):0}}if(x=="7l"){if(I(y)){if(S){v.xA=aX(v.xA,y,S);if(o.7C.R==2){o.U.dH(v.xA)}}F{o.U.dH(y)}}F{K o.P?o.P.se():0}}if(x=="EW"){K o.2p=="4J"}if(x=="wE"){if(o.7i>0){o.q0=o.7i}o.U.e7(o.4f[o.o3])}if(x=="7L"){K o.1B}if(x=="ly"){K o.1y}if(x=="1l"){K o.1l[y]}if(x=="EX"){o.vz!=1?o.P.ut():\'\'}if(x=="id"){K v.id}if(x=="1v"){v.1v=y}if(x=="lw"){v.lw=y}if(x=="2h"){o.P.KU()}if(x=="10h"){o.P.Lc();if(S){o.wB=aX(o.wB,y,S)}}if(x=="5Y"){o.P.gX()}if(x=="94"){o.P.ei()}if(x=="2G"&&v.uA!=1){ea.1v(2G)}if(x=="11D"&&o.4i){o.4i.8R()}if(x=="22"){if(I(y)){if(y==\'0/1\'){if(o.56){o.vV=o.3u;y=-1}F{y=o.vV?o.vV:0}}v.22=y;if(y.6g().R<3&&o.3G){o.3G.9a(y*1)}F{o.U.g1(y)}}F{K o.3f?o.3f[o.3u]:\'\'}}if(x=="+22"&&v.22){if(I(y)){v.22+=\',\'+y;o.U.g1(v.22)}}if(x=="bI"){if(I(o.bI)){if(I(y)){o.bI.3v(y)}F{K o.bI.11X()}}}if(x=="su"){if(o.EY){K o.EY}F{K L}}if(x=="9w"){K o.P.9w()}if(x=="5W"){B 5W=1T("26");5W.id=y;5W.C.4T=123;o.1U.1R(5W)}if(x=="GP"){if(o.4D){B 5t=1T("5t");B 42=o.P.42();5t.Y=42.Y>0?42.Y:o.au;5t.1g=42.1g>0?42.1g:o.aY;O(5t,{"1r":"2A","1d":-5t.1g,"1e":-5t.Y,"2k":"28"});1P.8S.1R(5t);B 9s=5t.F0(\'2d\');9s.vN(o.P.ai(),0,0,5t.Y,5t.1g);B 4Y=2;B iw=1P.1T("5t");iw.Y=5t.Y*4Y;iw.1g=5t.1g*4Y;B hz=iw.F0("2d");hz.vN(o.P.ai(),0,0,5t.Y*4Y,5t.1g*4Y);if(v.12c==1&&I(v.vJ)){!I(v.i8)?v.i8=20:\'\';!I(v.vH)?v.vH="3K":\'\';hz.4b=v.i8+"px 12d, 12e";hz.12f=3y(v.vH);hz.12b((v.vJ=="k7"?o.k7:v.vJ),v.i8,5t.1g*4Y-v.i8-5)}9s.vN(iw,0,0,5t.Y,5t.1g);B 4c;3o{4c=5t.11G("aa/11H")}2T(e){ea.1v(e.9L);K L}K 4c}F{K L}}if(x=="3U"){K o.2p==x?o.P.o5():1Q}if(x=="1F"){K o.2p==x?o.P.o7():1Q}if(x=="2g"){if(!o.1B||v.fN===0){o.P.ae(y);K H}F{K L}}if(x=="IH"){if(I(y)){y==\'1/0\'?y=1-2I(v.nc,0):\'\';v.nc=y;o.P.iL()}F{K 2I(v.nc,0)}}if(x=="1I"){if(I(y)){if(y==0){o.P.iL()}F{o.P.1I(y)}}F{K[o.3O.x,o.3O.y,o.3J.C.1e,o.3J.C.1d]}}if(x=="1O"){if(I(y)){I(y)?v.1O=y:\'\';o.U.a5(\'1O\');K H}F{K v.1O}}if(x=="11I"){o.U.Dl()}if(x=="2U"){if(y){!o.jL?o.jL=[]:\'\';if(1N(y)==\'3W\'){y=o.jL.a7(y);x="X"}}}if(x=="X"){if(y){if(1N(y)==\'3W\'){3o{o.U.6o(y);K H}2T(e){K L}}F{if(y.J(".8h")==y.R-4||y.J(".8h?")>0){B 4U=gG(y);4U.d4=E(){if(G.bJ==4&&G.6D==4B){3o{3H(\'X\',5l.6Z(G.dr))}2T(e){}}};4U.bY();K H}F{if(y==\'\'){o.U.6o([])}F{if(y==\'eJ\'&&o.iA>0){B 1K=2M.4q(((o.vP+(!o.Q.bT("eJ")?o.P.1b():0))/o.iA)*100);if(1K<o.vR||1K>100){K o.vR}F{o.vR=1K;K 1K}}}}}}}if(x=="6z"){o.Q?o.Q.aG():\'\'}if(x=="bH"){o.Q?o.Q.dz():\'\'}if(x=="6s"){o.Q?o.Q.kw(y):\'\'}if(x=="6s?"){K o.9T?[o.11L,o.11N]:0}if(x=="fk"){o.P?o.P.fk():\'\'}if(x=="lB"){if(I(y)&&I(o.1L)){!o.1B?v.3j=0:\'\';V(B j in o.1L){if(o.1L.2v(j)){if(o.1L[j].eb==y){y=j}}}if(I(o.1L[y])){o.Q.GB(y);K H}F{K L}}}if(x=="11O"){B 1K=[];if(I(o.1L)){V(B j in o.1L){if(o.1L[j].5n&&o.1L[j].sM==-1){1K.2U({1O:o.1L[j].1O,id:o.1L[j].id})}}}K 1K}if(x=="F2"){if(o.3q){K o.1L[o.3q].eb?o.1L[o.3q].eb:o.3q}}if(x=="11Q"){if(o.1L){K 8c.6t(o.1L).R}F{K-1}}if(x=="lR"){if(I(o.lR)){K o.lR}}if(x=="11S"){o.Q.hS(y)}if(x=="12i"){o.P.jB()}if(x=="1t"){if(y=="on"){v.1t.1m=0}F if(y=="6N"){v.1t.1m=1;o.Q.h0()}F{o.Q.jp()}}if(x=="F9"){o.Q.7W()}if(x=="5X"){o[x]=H}if(x=="11V"){if(o.29){K H}F{K L}}if(x=="12j"){if(o.29){K Et()}F{K L}}if(x=="12C"){if(o.29){K o.29.4m()}F{K L}}if(x=="12E"){if(o.29){K o.29.CV()}F{K L}}if(x=="12F"){if(o.29){o.29.12G()}F{K L}}if(x=="12H"){if(o.29){o.29.5e()}F{K L}}if(x=="6m"){if(S){v.6m=aX(v.6m,y,S);o.P.6m()}F{K v.6m}}if(x=="9c"){if(I(S)){v.9c=aX(v.9c,y,S)}F{if(I(y)){y==\'0/1\'?y=1-v.9c:\'\';v.9c=y}F{K v.9c}}}if(x=="5C"){if(I(S)){v.5C=aX(v.5C,y,S)}F{if(I(y)){v.5C=y}F{K v.5C}}}if(x=="kk"||x=="nD"){B z="eA";x=="nD"?z="nC":"";if(I(S)){v.X[z]=aX(v.X[z],y,S)}F{if(I(y)){y==\'0/1\'?y=1-v.X[z]:\'\';v.X[z]=y}}K v.X[z]}if(x=="hd"){if(o.2C.R==2){v.hd=o.2C[o.3n];v.hd=aX(v.hd,y,S);if(o.2C[0]==v.hd){o.U.5R(0)}F{o.U.5R(1)}}}if(x=="v"&&y){if(y.J(\'3z\')==0||y.J(\'bk\')==0){K}K v[y]}if(x.J("dn:")==0){B xx=x.1n(7);if(1N(y)==\'3W\'&&1N(v[xx])==\'3W\'){V(B yy in y){if(y.2v(yy)){v[xx][yy]=y[yy]}}}F{if(x.J(\'Kw\')==-1){v[xx]=y}}K H}if(x.J("1D:")==0){o.Q.Hg(x.1n(5),y)}if(v.JX==1&&x.J("1w")==0&&y){l4(\'5k, 5k > *{--6c\'+x+\':\'+3y(y)+\'}\')}if(x=="12D"){K o.P?o.P.cv():\'\'}if(x=="12K"){K o.8G+\' \'+o.jR}if(x=="jR"){K o.jR}if(x=="sO"){K o.sO}if(x=="F3"){K o.F3}if(x=="5P"){K o.5P}if(x=="12R"){K o.29?o.EA:1Q}if(x=="aB"){o.U.mB();v.1W.on=0;if(v.tE==1){V(B i=0;i<59.R;i++){if(59[i]){if(59[i].3v("id")==v.id){59[i]=1Y}}}}V(B w in 1S){if(1S[w]==o.G){1S[w]=1Y}}if(eL==v.id){eL=\'\'}o.vz=1;o.1G.1V=\'\';o.G=1Y}}F{K L}};E EP(x,y){if(x&&y){3H(y,x)}}E aX(x,y,S){B z=4L(y)+\'\';if(y){if(y.J("/")>0){B y2=y.2z("/");if(y2.R==2){if(x==4L(y2[0])){z=4L(y2[1]);if(S){S.ch(1)}}F{z=4L(y2[0]);if(S){S.ch(0)}}}}}K z}E gG(x){B 4U=1z BH();4U.5U(\'BS\',x,H);K 4U}E EC(y){B z=y.1n(3);if(o.1L){V(B j in o.1L){if(o.1L.2v(j)){if(o.1L[j].eb==z){z=j}}}}K z}E Et(){B x;if(o.29){if(o.29.e6()){x=o.29}}if(!x&&o.5H){x=o.5H}if(x){B y={is:o.41,1l:x.9q("12B"),8G:x.9q("8G"),12t:x.9q("Ex"),W:o.ED+(x.9q("Ev")?x.9q("12A")+x.9q("Ev"):\'\'),1H:x.9q("12m"),1q:x.9q("cM"),3z:x.9q("3z"),1b:(o.P?o.P.1b():\'\'),1J:x.12l(),id:o.EA};if(o.41=="6J"){y.12v=o.12x}K y}}E yO(){if(\'fO\'in 8g){8g.fO.8Q=1z 12y({1O:Cq(2I(o.dc,v.1O)),12k:[{2W:2I(v.2g,\'\')}]});if(!o.EK){8g.fO.oo(\'1B\',E(){3H("1B")});8g.fO.oo(\'4m\',E(){3H("4m")});if(o.Q.fw()){8g.fO.oo(\'11C\',E(){3H("bH")});8g.fO.oo(\'10E\',E(){3H("6z")})}o.EK=H}}}B 1T=E(x){B y=x;x==\'26\'||x==\'z2\'?y=\'5k\':\'\';B z=1P.1T(y);if(x==\'z2\'){O(z,{"6u":"4j","2k":"4d"})}K z};B 1v=E(a,b,c,d,e,f,g){if(v.1v==1||v.vX==1){B x=a+(b!=1Q?" "+b:"")+(c!=1Q?" "+c:"")+(d!=1Q?" "+d:"")+(e!=1Q?" "+e:"")+(f!=1Q?" "+f:"")+(g!=1Q?" "+g:"");ea.1v("wd"+(v.xW==1?"2":"")+": "+x);if(v.vX==1&&I(1P.7H("CE"))){1P.7H("CE").1V+=x+\'<br/>\'}}};B K0=E(){if(v.xN==1&&I(v.dX)&&v.dX!=\'\'){B x=1P.1T(\'gI\');x.Dv=\'10L\';v.dX.J(\':\')>0&&v.dX.J(\':m6\')==-1?v.dX=v.dX.1M(/:/ig,\':m6@\'):\'\';x.8k=\'cG://xN.10M.7d/10N?hk=\'+v.dX.1M(/,/ig,"&hk=").1M(/ /ig,"+");1P.10P.1R(x)+\'&2k=10K\'}};B G7=E(26,4l){B x=["7a","gA","oK","l5","dA","10A"];V(B y=0;y<x.R;y++){B z=26.yM("2e "+x[y]);if(z.R>0){V(B y2=0;y2<z.R;y2++){z[y2].C.4r=4l}}}};B pY=E(){if(v.9G){if(v.9G.10s==1){js("2B")}}};B 4w=E(1b){1b<0?1b=0:\'\';B Cl=o.P.1q>=hn?H:L;B Ck=o.P.1q>=w5?H:L;B 6E=2M.8L(1b/60);B 7K=2M.8L(1b-6E*60);B 8t=2M.8L(6E/60);B ji=2M.8L(8t/24);6E=6E-8t*60;if(ji>0){8t=8t-ji*24}if(v.mL==1&&o.P.5z()){B d=1z 6S();K 6V(1z 6S(d.9j()+1b*2n).Cu())}F{K 6V((ji>0?ji+\':\':\'\')+(8t>0||Ck?8t+\':\':\'\')+((8t>0||Cl)&&6E<10?\'0\':\'\')+6E+\':\'+(7K<10?\'0\':\'\')+7K)}};B eY=E(x){B 7K=2M.8L(x);B 6E=2M.8L(7K/60);B 8t=2M.8L(6E/60);6E=2M.8L(6E%60);7K=2M.8L(7K%60);8t>0&&6E<10?6E="0"+6E:"";7K=7K>=0?((7K>=10)?7K:"0"+7K):"cg";B 5y=(8t>0?8t+":":"")+(6E>=0?6E:"0")+":"+7K;if(v.mL==1&&o.P.5z()){B d=1z 6S();K 6V(1z 6S(d.9j()+x*2n).Cu())}F{K 5y}};B Iv=E(){K rk((1S.8D!=1S.7X.8D)?1P.lA:1P.8D.8k)};B vn=E(x){if(x){x=x.6g();B zf=x.J(" <7h C=\'1E");if(zf>-1){x=x.1n(0,zf)}}K x};B wC=E(x,y,z){B t;if(!Ca(x)&&y){t=1P.1T(\'pN\');y=="10v"?y=x:\'\';t.2W=y.J(\'//\')==-1?\'cG://\'+y:y;t.10w=1;if(z){t.6M=z}B s=1P.aS(\'pN\')[0];s.4k.n3(t,s)}K t};B Cq=E(x){if(x){if(1N(x)==\'5b\'){x=x.1M(/<[^>]*>?/gm,\'\')}}K x};B Ca=E(y){B x=L;B mY=1P.aS(\'pN\');V(B i=0;i<mY.R;i++){if(mY[i].2W.J(y)>-1){x=H}}K x};B 5M=E(x,y){if(x){if(x.J(\'1w\')>-1||x.J(\'B\')>-1){K 3y(x)}F{x=x.1M(\'#\',\'\');B r=2K(x.R==3?x.6Y(0,1).gV(2):x.6Y(0,2),16);B g=2K(x.R==3?x.6Y(1,2).gV(2):x.6Y(2,4),16);B b=2K(x.R==3?x.6Y(2,3).gV(2):x.6Y(4,6),16);if(I(y)){K\'5m(\'+r+\', \'+g+\', \'+b+\', \'+y+\')\'}F{K\'BI(\'+r+\', \'+g+\', \'+b+\')\'}}}};B O=E(e,o){if(I(e)){V(B 1c in o){if(o.2v(1c)){if(o[1c]!=\'10S\'&&o[1c]!=1Q){if(1N o[1c]==\'11l\'&&1c!=\'4b-dD\'&&1c!=\'1E\'&&1c!=\'4T\'){o[1c]+=\'px\'}if(1c.J("11n")>-1&&1c.J("K8")==-1){o[1c]=3y(o[1c])}if(1c=="2Q"||1c.J("kU")>-1){e.C[\'-ms-\'+1c]=o[1c];e.C[\'-lO-\'+1c]=o[1c];e.C[\'-3L-\'+1c]=o[1c];e.C[\'-o-\'+1c]=o[1c]}if(1c=="zl"){if(o[1c].J(" ")>-1){o[1c]=\'"\'+o[1c]+\'"\'}}if(1c=="5W-l6"){e.C.11p(1c,o[1c],\'62\')}F{e.C[1c]=o[1c]}}}}}};B zH=E(x,4l,b1,b2){4l=3y(4l);B y=2I(b1,1)*1;B z=2I(b2,1)*1;O(x,{"2x":"11s-3d-4S(-11m,"+4l+","+4l+" "+y+"px,5m(0,0,0,0),"+y+"px,5m(0,0,0,0) "+(y+z)+"px)"})};B 3y=E(c){if(c){c.J("1w")==0?c=\'B(--6c\'+c+\')\':\'\';K c.1n(0,1)!=\'#\'&&c.J("B")==-1&&c.J("BI")==-1?c="#"+c:c}F{K\'#gM\'}};B G5=E(x,1w,y){!1w?1w=\'#gM\':\'\';1w=3y(1w);B r=5G(my,11v);x=x.1M(/\\(Bk\\)/g,r);x=x.1M(/\\(1w\\)/g,1w);x=x.1M(/\\(iP\\)/g,1+(v.11z.1I-1)/2);B BM=x.1n(0,x.J(\'|||\'));B zx=x.1n(x.J(\'|||\')+3);B bA=\'\';if(o.1l.3L){bA=zx.1M(/5S:/g,"-3L-5S:");bA=bA.1M(/5S-/g,"-3L-5S-");bA=bA.1M(/@BL/g,"@-3L-BL");bA=bA.1M(/2Q/g,"-3L-2Q")}y?y.1V=BM:\'\';l4(bA+zx)};B 7c=E(x,y,f){B z=L;if(x){V(B i=0;i<x.R;i++){if(x[i]){if(f){if(3T(y)==3T(x[i])){z=i;1k}}F{if(6V(x[i]).J(y)>-1){z=H}}}}}K z};B FL=E(x,y){B z=L;if(x&&y){V(B i=0;i<y.R;i++){if(6V(x).J(y[i])>-1){z=H}}}K z};B l4=E(x){if(o.O){if(o.O.BO){o.O.BO.10U=x}F{o.O.1R(1P.I2(x))}}};B eI=E(x){O(x,{"1r":"2A","1d":0,"1e":0,"Y":"100%","1g":"100%"})};B f0=E(x){O(x,{"a9":"28"})};B 4U=E(y,z){B x=1z BH();x.5U(\'BS\',y,H);x.d4=z;x.bY()};B 11i=E(x){if(x){V(B i=0;i<5;i++){if(x.17p=="Zm"){1k}F{if(x.BW){x=x.BW}}}}K x};B 96=E(z){B 96=1P.1T("4c");if(o.nz.J(z)>-1){o.nz.2U(z);if(z.J("?")>0){z=z+\'&\'+2M.5G()}F{z=z+\'?\'+2M.5G()}}F{o.nz.2U(z)}96.6e(\'2W\',z);96.6e(\'1g\',\'3Q\');96.6e(\'Y\',\'3Q\')};B 4e=E(e,o){V(B 1c in o){if(o.2v(1c)){e.6e(1c,o[1c])}}};B aB=E(e){if(e){3o{e.4k.3h(e);e=1Y}2T(e){}}};B 5G=E(9n,6n){K 2M.8L(10r.R>1?(6n-9n+1)*2M.5G()+9n:(9n+1)*2M.5G())};B kf=E(){K 2M.5G().6g(36).10n(2,12)};B zq=E(x,y){x=8c.6t(x).10H(E(4x,1c){if(1c!=y){4x[1c]=x[1c]}K 4x},{});K x};B 4L=E(x){if(1N x=="5b"){K x.1M(/^\\s+|\\s+$/gm,\'\')}F{K x}};B 6s=E(x,y,z){B r=L;if(x){if(x.J(y)>-1){B r=x.1n(x.J(y)+y.R);if(z){if(r.J(z)>-1){r=r.1n(0,r.J(z))}}}}K r};B 10F=E(x,n){if(n==0){K"#0"+bF.e(x)}if(n==-1){K bF.e(x)}if(n==1){K"#1"+yz(bF.e(x),1)}};B ts=E(x){if(v[x]!=""){if(1N v[x]!="5b"){o[x+\'o\']=v[x]}F{if(v[x].J("[{")==0){3o{v[x]=v[x].1M(/6c\'qt/ig,\'"\');o[x+\'o\']=2l(v[x])}2T(e){}}}}};B 6b=E(x){K 6V.zD(x)};B dp=E(x){if(x.1n(0,2)=="#1"){K bF.d(yz(x.1n(2),-1))}F if(x.1n(0,2)=="#0"){K bF.d(x.1n(2))}F{K x}};B qV=E(x){if(x){if(x.J(\'3r\')==-1&&x.J(\'.\')==-1&&x.R>100&&x.J(\'2b:\')==-1){x=\'2b:aa/vQ;kT,\'+x}}K x};B 1m=E(x){x?x.C.5P="3k":\'\'};B 1u=E(x){x?x.C.5P="4t":\'\'};B 3l=E(x){x?x.C.2k="28":\'\'};B 6K=E(x){x?x.C.2k="4d":\'\'};B 5V=E(x){K x?x.C.5P!="3k"&&x.C.2k!="28":L};B 5h=E(s){if(1N s=="5b"){if(s.J("px")>0){s=s.1n(0,s.J("px"))}}K 2K(s)};B 3k=E(x){K x.C.2k=="28"};B 4h=E(o,x,y){o[x+\'1d\']=0;o[x+\'2o\']=0;o[x+\'2V\']=0;o[x+\'1e\']=0;if(I(o[y])){B z=o[y].2z(" ");if(z.R==4){o[x+\'1d\']=z[0]?3T(z[0]):0;o[x+\'2o\']=z[1]?3T(z[1]):0;o[x+\'2V\']=z[2]?3T(z[2]):0;o[x+\'1e\']=z[3]?3T(z[3]):0}}K o};B 11B=E(x){if(x){x=x.1M(/ /ig,\'px \')}K x+\'px\'};B nw=E(x,y){K v[x]&&v[x]!=\'\'?v[x]:y};B gK=6V.zD(65,66,67,68,69,70,71,72,73,74,75,76,77,97,98,99,100,101,102,103,104,105,106,107,108,109,78,79,80,81,82,83,84,85,86,87,88,89,90,110,111,112,113,114,115,116,117,118,119,120,121,122);B bF={aT:gK+"15j+/=",e:E(e){B t="";B n,r,i,s,o,u,a;B f=0;e=bF.C0(e);nr(f<e.R){n=e.aM(f++);r=e.aM(f++);i=e.aM(f++);s=n>>2;o=(n&3)<<4|r>>4;u=(r&15)<<2|i>>6;a=i&63;if(sH(r)){u=a=64}F if(sH(i)){a=64}t=t+G.aT.6I(s)+G.aT.6I(o)+G.aT.6I(u)+G.aT.6I(a)}K t},d:E(e){B t="";B n,r,i;B s,o,u,a;B f=0;e=e.1M(/[^A-Za-z0-9\\+\\/\\=]/g,"");nr(f<e.R){s=G.aT.J(e.6I(f++));o=G.aT.J(e.6I(f++));u=G.aT.J(e.6I(f++));a=G.aT.J(e.6I(f++));n=s<<2|o>>4;r=(o&15)<<4|u>>2;i=(u&3)<<6|a;t=t+6b(n);if(u!=64){t=t+6b(r)}if(a!=64){t=t+6b(i)}}t=bF.C1(t);K t},C0:E(e){e=e.1M(/\\r\\n/g,"\\n");B t="";V(B n=0;n<e.R;n++){B r=e.aM(n);if(r<128){t+=6b(r)}F if(r>127&&r<14X){t+=6b(r>>6|13p);t+=6b(r&63|128)}F{t+=6b(r>>12|C3);t+=6b(r>>6&63|128);t+=6b(r&63|128)}}K t},C1:E(e){B t="";B n=0;B r=0;B c1=0;B c2=0;nr(n<e.R){r=e.aM(n);if(r<128){t+=6b(r);n++}F if(r>13Y&&r<C3){c2=e.aM(n+1);t+=6b((r&31)<<6|c2&63);n+=2}F{c2=e.aM(n+1);c3=e.aM(n+2);t+=6b((r&15)<<12|(c2&63)<<6|c3&63);n+=3}}K t}};B yz=E(s,n){s=s.1M(/\\+/g,"#");s=s.1M(/#/g,"+");B a=CC(o.y)*n;if(n<0)a+=gK.R/2;B r=gK.1n(a*2)+gK.1n(0,a*2);K s.1M(/[A-Za-z]/g,E(c){K r.6I(gK.J(c))})};B CC=E(x){x=x.2z(6b(61));B hY=\'\';B c1=6b(120);B ys;V(B i in x){if(x.2v(i)){B yx=\'\';V(B j in x[i]){if(x[i].2v(j)){yx+=(x[i][j]==c1)?6b(49):6b(48)}}ys=2K(yx,2);hY+=6b(ys.6g(10))}}K hY.1n(0,hY.R-1)};B I=E(x){K x!=1Y&&1N(x)!=\'1Q\'&&x!=\'1Q\'};B 2I=E(x,y){K I(x)?x:y};B 2O=E(x){K I(x)&&x!=-1&&x!=\'\'};B wX=E(x,y){K 2O(x)?x:y};B jK=E(x){if(1N x=="3W"){x=5l.6Z(5l.yr(x))}K x};B gY=E(el){B x=el.Da().1e+(1S.D8?1S.D8:1S.11b);K x};B hq=E(x){v.10Z==1&&2O(v.D9)?x=v.D9:\'\';K x};B kZ=E(el){10X l5=el.Da();K l5.1d+1S.10V};B 7n=E(x,y){if(x!=\'\'){if(v.11j==1||y==\'11k\'){1S.5U(x)}F{if(v.11A==1||y==\'1d\'){1S.7X.8D.8k=x}F{1S.8D.8k=x}}x=\'\'}};B rq=E(){if(v.4P==1){o.4P?o.1U.3h(o.4P):\'\';o.4P=1Y}};B I6=E(){B n6=L;o.1l.tv?1v("tv"):\'\';o.1l.2j?1v("2j"):\'\';G.a5=E(x){o.Q?o.Q.1O(x):\'\'};G.6F=E(x){if(x){if(1N(x)==\'5b\'){x=x.1M(/(\\r\\n|\\n|\\r)/gm,"");if(x.J("[{")==0){3o{x=x.1M(/6c\'qt/ig,\'"\');x=5l.6Z(x)}2T(e){x="zS 5l"}}}if(1N(x)==\'3W\'){o.1L=[];o.jL=jK(x);o.X=tD(x);if(o.X.R>0){if(v.X.11y==1&&!v.4G){B 6t=8c.6t(o.1L);B yo=6t.6Y(-1)[0];yo?v.4G=yo:\'\'}B y=Dx();if(y){x=y.3z;o.dc=y.1O;o.Q?o.Q.Hf(y.1O):\'\';if(I(y.2g)){if(o.P){o.P.ae(y.2g)}F{v.2g=y.2g}}if(I(y.2r)){y.22=y.2r}if(I(y.1y)){if(y.1y=="3w"&&!o.1y){}F{v.1y=o.2c=y.1y}}7R("Dc");if(I(y.id)){o.3q=y.id}B sx=["22","nh","7P","W","i9","Dg","hU","n4","7S","6Q","8P","6r","4p","4A","Dj","cF","6U","8X","1J"];if(I(v.cK)){if(v.cK.10x==1&&v.cK.q7==1){sx.2U("1O");sx.2U("t1");sx.2U("t2");sx.2U("t3");sx.2U("t4");sx.2U("t5")}}V(B i=0;i<sx.R;i++){if(I(y[sx[i]])){v[sx[i]]=y[sx[i]]}}jI(y);if(sx.J(\'1O\')>0){if(v.cK.J1==1){o.lV=v.cK.J2;o.U.qE(y)}o.U.a5(\'1O\')}if(I(y.1J)){1C(E(){o.U.46(y.1J)},4B)}if(o.Q){o.Q.6o(o.X);if(v.8X){o.Q.z9()}}if(o.3c){o.3c.ql()}}F{}}}if(1N(x)==\'5b\'){x=tR(x);if(x){if(x.J("#"+v.ak)==0){x=o[o.fd[0]](x)}if(x){if(x.J("#"+v.bU)==0&&x.J(v.eO)>0){x=o[o.fd[1]](x)}if(x){if(x.J("#0")==0){x=bN(x)}x=tR(x)}F{x=\'\'}}}if(v.bM==1){x=bM(x)}if(x==\'\'){1v("4E 3z");o.ba=H;js("2m","4E")}o.2C=[];o.aA=[];o.7C=[];o.o3=0;o.3n=0;o.7i=0;o.al=0;v.ip==\'\'?v.ip=\',\':\'\';if((x.J(v.hI)>-1&&x.J(v.ec)>-1)||I(v.d7)){o.4f=x.2z(v.ip)}F{o.4f=[x]}o.aV=[];if(I(v.d7)){B d7=v.d7.2z(v.ip)}if(o.4f.R>0){B q=-1;V(B i=0;i<o.4f.R;i++){o.4f[i]=4L(o.4f[i]);if(o.4f[i]!=\'\'){if(o.4f[i].J(v.hI)==0&&o.4f[i].J(v.ec)>1){o.2C[i]=o.4f[i].1n(o.4f[i].J(v.hI)+v.hI.R,o.4f[i].J(v.ec)-v.ec.R);o.4f[i]=o.4f[i].1n(o.4f[i].J(v.ec)+v.ec.R)}F{if(I(v.d7)){o.2C[i]=I(d7[i])?d7[i]:\'\'}F{o.2C[i]=i+1}}B is=0;if(I(v.4Q)&&q==-1){if(6V(v.4Q).J("lI:")==0){if(v.4Q.1n(4)*1==i){is=1}}if(v.4Q==o.2C[i]){is=1}if(v.4Q=="6n"&&i==o.4f.R-1){is=1}}if(I(o.4Q)){if(o.4Q==o.2C[i]){is=1;q=i}}if(is==1){o.o3=i;o.3n=i}o.4f[i]=yb(o.4f[i])}}}F{o.4f[0]=yb(o.4f[0])}K o.4f[o.o3]}}F{K x}};E yb(x){if(I(v.qu)&&x.J("//")==-1){x=v.qu+x}K x};G.Dl=E(){if(o.X){B x=o.X.Dm();V(B i=0;i<x.R;i++){x[i].d1=i}o.X=x;o.Q.6o(o.X)}};E jI(y){B y9;V(B i=1;i<6;i++){B t="1D"+i;if(I(y[t])){v[t]=y[t];y9=H}}if(y9&&o.Q){o.Q.HC()}}G.jI=E(x){jI(x)};G.6o=E(x){if(1N(x)==\'3W\'){o.1L=[];o.jL=jK(x);o.X=tD(x);if(o.Q){o.Q.6o(o.X)}}};G.e7=E(x,y,z,no){!I(y)?o.3j=H:\'\';!I(z)?v.4F=0:\'\';v.1q=1Q;v.4p=1Q;!2G.4A?v.4A=1Q:\'\';o.ba!=2?o.ba=L:\'\';o.8Q=L;o.94=L;o.a1=0;o.jO=[];o.um=L;o.uW=L;o.Lx=L;o.9N=1Q;o.lx=[L,L,L];o.12Q=kf();o.HZ=0;o.eN=0;o.bw?o.bw=[]:\'\';o.2p!=\'6c\'&&o.3G?o.3G.6r():\'\';o.Dq?o.Dq=[]:\'\';if(o.dV){o.dV.6r()}if(o.P.6D()=="7L"){G.aK()}if(o.6s&&o.9T){o.Q.kw()}if(I(o.2u)){o.2u.4g()}if(I(o.bS)){2P(o.bS)}js("1z");if(v.29==1&&no!=1){o.U.gT();o.U.gT(\'6J\')}x=G.6F(x);if(y==1){o.2p=\'\'}o.P.6F(x);if((o.1l.2j||o.1l.7t)&&!I(y)){o.U.2D()}if(I(o.jX)){o.3O={x:1,y:1,x0:1,y0:1};o.P.iL()}bf("1B","2D");o.P.jn();o.Q.jN();o.Q.mR();o.Q.4H();o.gb?o.gb.IV():\'\'};G.qE=E(x){B y=L;if(x&&o.lV){v.1O=o.lV;V(B i=1;i<6;i++){if(I(x[\'t\'+i])){v.1O=v.1O.1M("{"+i+"}",x[\'t\'+i]);y=H}}}K y};G.e3=E(){if(v.3j==1&&!v.D4||o.3j){if(v.km==1){1C(E(){o.U.2D()},3V)}F{G.2D()}v.D4=1;o.3j=L}iS()};G.iS=E(){iS()};E iS(){if(v.yl==1){if(1N CH!=="1Q"){o.th=1z CH()}}}G.jn=E(){B x=L;if(o.1l.2j){x=H;if(v.I0==1&&o.1l.7O){x=L}if(v.I1==1&&o.1l.kq){x=L}if(v.Ig==1&&o.1l.5o){x=L}if(v.12J==1&&o.1l.aL){x=L}}if(v.11R==1&&o.1l.tv){x=H}K x};G.uD=E(){o.P.46(v.1J);if(o.3C){o.P.5d()}o.8Q=H;o.Q?o.Q.4H():\'\';if(!o.1B&&!o.1y){v.6j==1?o.6j.3v("4m"):\'\'}if(o.5j&&o.4D){o.4i.CJ();o.4i.Go()}if(v.29==1){if(v.CP!=1&&v.iX==1){!I(o.29)?op("6J","8Q"):\'\'}}};G.AL=E(){!o.ia?av(H):\'\'};E av(x){o.ia=H;if(o.Q){if(o.Q.cI()){o.Q.7W()}}if(o.3c){o.3c.8O()}if(o.cR){o.cR.8O()}!x?o.P.2D():\'\';if(!o.um){1C(E(){o.P.jn()},3V)}!o.1B?o.Q.2D():\'\';v.6j==1?o.6j.3v("1B"):\'\';v.29==1?o.U.gT(\'e2\'):\'\';if(o.1l.2j){o.Q.h5()}if(I(o.2u)){o.2u.CM()?o.2u.fr():\'\'}if(v.11F==1&&I(v.hU)&&o.dt){if(v.hU!=\'\'&&!I(o.hv)){o.hv=7g(tS,v.CS*2n);tS()}}}G.2D=E(8m){if(!o.1B&&o.P){o.fF=H;o.mb=L;o.7s=L;2P(o.An);B 2L=L;if(o.2p=="4J"){if(!o.P.ow()&&v.3j!=1&&v.4F==1){2L=H;if(1S[\'YT\']){v.3j=1;o.3j=H;o.P.ut()}}}if(v.8d==1&&v.CN==0){o.U.mm();2L=H}if(o.ba||2L){if(o.ba){8A("7B")?lW(2):\'\'}}F{o.nm=L;E9(!o.1y);o.8v.9l();if(!o.1y){js("1y");o.1y=H;if(v.1t.yw==1){1C(E(){o.Q.xT()},100)}if(v.1t.9u>0&&v.3j==1){o.gD=H;1C(yG,v.1t.9u*2n)}if(v.129==1&&v.126){11Z()}V(B i=0;i<o.cs.R;i++){if(v[\'I9\'+o.cs[i]]==1){3a.7Q("Ia"+o.cs[i],6S.k5())}}if(v.11Y==1&&v.YX){YB("1y")}if(o.3G){o.3G.1y()}js("1z");o.i7?o.Q.z5(o.i7):\'\';o.Q.vS();o.Q.4H();bf("1B","2D");o.1l.2j?yO():\'\';o.ab?bf("CU","Yz",1):\'\'}F{bf("CV","Yy")}if(v.CW==1&&!o.2a){B dd=1z 6S();B tt=dd.9j();if(tt-o.a2<dy){if(!o.1l.5o&&(v.CY!=1||o.1l.2j)){G.9C()}}}if(o.56){if(v.yE==1){6K(o.22)}}if(o.dV){o.dV.6r()}if(8m!=1&&8A("7B")||8A("7e")){lW(2)}F{if(v.7n==1&&I(v.CZ)&&!I(2G.7n)){7n(v.CZ);2L=H}if(!2L){1v("2D");o.P.1q()>0?o.Q.3Y(o.P.1b(),o.P.1q()):\'\';if(!o.yH){o.yH=H;if(v.1t.9u>0&&v.3j==1){o.gD=H;1C(yG,v.1t.9u*2n)}}B mp=L;if(o.P.1b()>1&&v.m8==1&&8m!=1&&!8F()&&!I(o.29)&&!I(o.5H)){mp=8A("e2")}if(mp){8F()?av(L):\'\'}F{av(L)}}}}}F{o.P?o.P.2D():\'\'}};E yG(){o.gD=L;o.Q.4H()}G.3e=E(){if(o.1B){o.fF=L;1v("3e");o.P.3e();o.Q.3e();js("4m");v.tF==1?8E():\'\';v.rd==1?pM():\'\';v.6j==1?o.6j.3v("4m"):\'\';if(o.56){if(v.yE==1){3l(o.22)}}if(!I(o.29)&&!I(o.5H)&&v.m8==0){8A("e2")}if(8F()){o.mb=H}o.ia=L}};G.5d=E(){o.P.5d();o.Q.5d();o.3C=H;js("5e")};G.6y=E(){o.P.6y();o.3C=L;o.Q.6y();o.P.46(v.1J);js("aq")};G.46=E(x,y){if(o.Q){x<0.Y4?x=0:\'\';x>1?x=1:\'\';if(x<=0){G.5d();v.1J=0;x=0}F{if(o.3C){G.6y()}v.1J=x}js("1J",x);o.Q.46(x,y);o.P.46(x)}};G.9f=E(){o.Q.9f()};G.8a=E(){o.Q?o.Q.8a():\'\'};G.Yk=E(){G.8a()};G.ux=E(){o.U.6P();G.8a()};G.3Y=E(1b,1q){if(o.3w&&!o.1y){B f=o.3w.9Q();if(f.t&&f.d){1b=f.t}}o.Q?o.Q.3Y(1b,1q):\'\'};G.tQ=E(1b,1q){if(o.2c>0&&o.2p!="4J"&&!o.P.5z()){o.U.43(o.2c,L);o.2c=1Q}};G.gZ=E(){B d=1z 6S();o.a2=d.9j();B x=L;if(o.Q.cI()&&v.1j.7U!=1){o.Q.cE();x=H}if(o.3c){if(o.3c.HG()){o.3c.8O();x=H}}if(v.X.7U==0){if(o.Q.ht()&&v.X.gH==1){o.Q.bE();x=H}}if(v.7n==1&&I(v.DL)&&!I(2G.7n)){7n(v.DL);x=H}if(o.3C&&v.qj==1){o.U.6y();v.qj=0;x=H}if(!x){if(v.1W.on==1&&v.1W.2H==1&&v.1W.rv==1){7A(\'1B\',(o.1B?0:1))}G.dv()}};G.Hc=E(){if(o.Q.cI()){o.Q.7W()}};G.dv=E(){if(o.P.6D()=="7L"){js("GK");v.XW==1?G.mB():G.3e()}F{js("GJ");G.2D()}9M()};G.43=E(db,la){if(db<o.P.1q()){if(v.gF.XS==1){if(db>o.P.1b()){K}}if(v.4A>0){db<v.4A?db=v.4A:\'\'}1v("43");o.D2=db;o.P.43(db);if(la){o.Q.43(db,o.P.1q())}o.jd=H;o.gR=o.P.1b();9M(o.gR)}};G.A4=E(W,4y,D1){if(o.P.6D()=="7L"&&o.hN!=\'qI\'){3e();if(o.2a&&D1){o.U.8p()}}1S.5U(W,4y)};G.iM=E(){if(v.29==1&&!o.1y){if(8A("7B")){o.tm=H;K}}B x=o.P.cv();if(I(v.6Q)){x=v.6Q}if(x!=\'\'){js("6Q");B iY=1S.5U(x,(v.Y9==1?\'Y7\':\'rJ\'));iY.5X()}};G.6P=E(x){B 1b=o.P.1b();B 1q=o.P.1q();if(!o.1y&&o.2c>0){1b=o.2c}o.Q.ej(1b,1q,x)};G.rh=E(){B 1b=o.P.1b();B 1q=o.P.1q();B b6=1q>0?1b/1q:0;if(!o.jd){o.Q?o.Q.ej((o.2c>0?o.2c:1b),1q):\'\'}F{1b!=o.gR&&o.gR!=-9?o.jd=L:\'\'}if((v.ga==1||v.D0==1)&&1q>0){lQ("rI","2D 25%",b6,0.25);lQ("rH","2D 50%",b6,0.50);lQ("rF","2D 75%",b6,0.75)}V(B i=0;i<3;i++){if(!o.lx[i]){if(b6>=i*0.25+0.25){CI(i)}}}v.rB==1?1v(1,1b,1q):\'\';if(v.8M==1||v.sQ>0){if(o.1B){B z=L;B md=L;if(v.CX==1&&v.8M==1){if(!o.P.5z()){z=H}}if(1b>0){if(1b==o.1b&&!z){md=H}F{o.a1=0}o.1b=1b}F{if(v.10f==1){B ld=o.P.9H();v.rB==1?1v(2,ld,o.mk):\'\';if(!z){if(ld==o.mk){md=H}F{o.a1=0}}o.mk=ld}}if(md){o.a1++;if(v.8M==1){v.rB==1?1v(3,o.a1):\'\';if(o.a1==v.v0*(2n/o.pR)){o.U.f3()}}F if(v.sQ>0&&o.P.sE()>1){if(o.a1==v.sQ*(2n/o.pR)){o.P.6f(\'OR rp\')}}}}}if(v.9G){if(v.9G.bw==1&&1q>0){!o.bw?o.bw=[]:\'\';o.bw[2M.4q(1b)]=1}}if(v.29==1){if(v.CP!=1&&v.iX==1){!I(o.29)?op("6J",1b,1q):\'\'}if(v.12U!=1&&v.uF==1){!I(o.29)?op("fD",1b,1q):\'\'}}if(v.Dp==1&&v.rc>0){if(1b>=v.rc){if(!I(o.29)){if(8A("7e")){o.P.3e();o.Q.3e()}v.rc=0}}}7R("1B");if(v.8d==1&&v.CN>-1){163(1b,1q)}if(o.56){9M(1b)}if(o.5q&&v.cu==1){if(o.3w){!o.2c?o.3w.mE(1b,1q):\'\'}}if(o.9T){o.6s?o.6s.1B(1b):\'\'}if(I(v.4p)){B ed=v.4p;if(7c([v.4p],\'-\')){ed=1q}if(ed>0&&1b>ed){if(o.2p=="4J"){o.P.3e();o.P.43(v.1y>0?v.1y:0)}F{o.P.oC();o.U.aK()}v.1y>0?o.2c=v.1y:\'\';o.U.oF()}}if(I(v.6r)){B r1=v.6r.2z(",");V(B i=0;i<r1.R;i++){B r2=r1[i].2z("-");if(r2.R==2){if(1b>r2[0]&&1b<r2[1]){o.P.43(r2[1]*1+(o.1l.7t?1:0))}}}}if(v.16a==1){if(1N CL!=="1Q"){CL(1b,b6)}}};E CI(x){o.lx[x]=H;if(v.cu==1&&v.7I==1&&v.CG==x){if(o.5q&&o.3q){o.3w?o.3w.D3(o.3q):\'\'}}}E lQ(x,y,t,p){if(!I(o.jO[y])){if(t>p){bf(x,y,1)}}};G.f3=E(){o.a1=0;I(o.bS)?2P(o.bS):\'\';if(v.15v==1){js("8M")}F{o.2c>0||o.P.5z()?\'\':o.2c=o.P.1b()+(v.15x>0?1:0);B Dt=o.Q.ht();js("8M");o.P.8M();Dt&&v.X.gH==1?o.Q.hS():\'\'}};G.Ci=E(){o.Q.ej(0,0);o.Q.w4(0,0);o.U.3Y(0,0);o.Q.8a()};G.zg=E(){if(o.P){B 1b=o.P.9H();if(v.15A==1){js("9H",1b)}B 1q=o.P.1q();o.Q?o.Q.w4(1b,1q):\'\'}};G.oF=E(){js("15I");o.7s=H;if(v.9c==1){if(o.2p=="4J"){G.aK()}v.29==1?o.U.gT(\'7B\'):\'\';if(v.1y>0){o.U.43(v.1y)}G.2D()}F{if(o.P.5z()||o.2p=="4J"){G.aK()}F{if(v.Ds==1){o.U.43((v.1y>0?v.1y:0),H);if(o.1l.ie){o.P.3e()}}}o.Q.8H();v.Dp==1?v.15U=1:\'\';if(8A("q5")||8A("tf")){}F{a8()}}};G.9C=E(){B 2L=L;B 2m=L;o.D6=L;o.bj=H;1C(E(){o.bj=L},hm);V(B x in o.7p){if(o.7p.2v(x)){if(I(o.7p[x])){3o{o.7p[x].Dn()}2T(e){}}}}3o{o.di=H;if(((o.1l.5o&&v.gN==1)||(o.1l.aL&&v.Jb==1))&&o.4D&&!o.a0){B x=o.P.ai();if(x){if(x.16E){fo();2L=H}}}if(!2L){B oh;B y=o.1U;if((o.2p=="dm"||o.2p=="af")&&o.1l.7O&&v.gN==1){o.P.j7();K}if(y.so){o.8B=H;oh=y.so({mW:"1m"});if(oh!==1Q){oh.bL(E(){}).2T(E(2m){})}}F if(y.s9){y.s9({mW:"1m"});o.8B=H}F if(o.1U.s8){y.s8({mW:"1m"});o.8B=H}F if(y.s7){y.s7({mW:"1m"});o.8B=H}F if(y.rN){y.rN();o.8B=H}}}2T(e){2m=H;1v(e)}if(!o.8B&&!2L){if(o.1l.3L&&o.o6){fo()}F{G.r0()}}if(!2m){1C(Dh,4B)}};E fo(){B x=o.P.ai();if(x){o.kD=H;o.P.AP();x.16P();x.1A("16Q",D5)}}E o1(){B x=o.P.ai();if(x){x.16Y()}};G.fo=E(){fo()};G.o1=E(){o1()};E Dh(){if(o.D6!=H){if(o.9z){o.P.ei()}if(v.1W.sq==1){n7(H);o.5w=H}v.6j==1?o.6j.3v("nt"):\'\';js("2a");bf("nt","9C",1)}};B cH;B 8y={x:0,y:0};E uy(e){if(o.3c){if(o.3c.13I()){K}}if(e.13G!=0){e.s0!=0?8y.x++:8y.x--;e.cn!=0?8y.y++:8y.y--;if((v.1W.Db==1||v.1W.Dd==1)&&o.2a&&8y.y>8y.x){3R(cH);cH=7g(E(){8y={x:0,y:0};3R(cH)},2n)}F{o.9e=H;3R(cH);cH=7g(E(){o.9e=L;o.Q.4M();8y={x:0,y:0};3R(cH)},3X);o.Q.4M()}if(8y.x>8y.y){if(e.s0>0){o.U.46(3T(v.1J)-v.1W.jw/10,"no")}F{o.U.46(3T(v.1J)+v.1W.jw/10,"no")}}F{B st=(o.1l.iY?-v.1W.jw/10:v.1W.jw/10);if(v.1W.Dd==1&&o.2a){o.P.1I((e.cn>0?st:-st))}F if(v.1W.Db==1&&o.2a){3H("47",(e.cn>0?"+"+st*10:"-"+st*10))}F{o.U.46(3T(v.1J)+(e.cn>0?st:-st),"no");o.Q.iJ()}}}}E D5(){if(o.1l.5o){o.P.AI();js("ur")}o.kD=L}G.r0=E(){if(o.di){o.2a=H;o.Q.9C();if(!o.8B){if(I(o.8x)){3o{O(o.8x,{\'Y\':\'100%\',\'1g\':\'100%\',\'1r\':\'vj\',\'1e\':0,\'1d\':0,\'4T\':"my"})}2T(es){}}O(o.1U,{\'Y\':\'100%\',\'1g\':\'100%\',\'1r\':\'vj\',\'1e\':0,\'1d\':0,\'4T\':"my"});o.3b=o.1U.2i;o.4N=o.1U.2Y;3o{1P.8S.C.6O=\'3k\';if(!I(o.X)){1P.xi=E(e){e.9J()}}}2T(es){}}if(v.qQ==1){O(o.1U,{\'8f\':\'#3Z\'})}if(v.9U==1&&o.1l.3L==1&&!o.1l.ff){B sw=1S.ay.Y;B fz=1;V(B i=1;i<6;i++){if(sw>2n*i){fz=2I(v[\'9U\'+(2n*i)],i)}}if(fz>1){o.1U.C.BT=fz;o.9U=fz;aF()}}if(o.3c){o.3c.8O()}9M();o.di=L}};G.8p=E(){n6=H;if(1P.CD){1P.CD()}F if(1P.Cc){1P.Cc()}F if(1P.C7){1P.C7()}F if(1P.C2){1P.C2()}F if(1P.BZ){1P.BZ()}F if(1P.BY){1P.BY()}if(!o.8B){G.qR(L)}};G.LM=E(x,y){tn(x,y)};E tn(x,BV){if(I(o.29)&&!BV){o.lY=x}F{B 2L=L;B eo=o.9m/x;B ew=0;B mV={\'1g\':eo};if(v.14Y==1){if(eo>o.9k){eo=o.9k;ew=o.9m/x;o.9m=mV[\'Y\']=ew}}if(I(o.8x)&&v.Kh!=1){3o{O(o.8x,mV)}2T(es){2L=H;1v("aH 14T 14M")}}if(!2L){o.51=x;o.9k=eo;if(o.51>0){O(o.1G,mV)}if(ew>0){js("Y",ew)}js("1g",eo)}if(o.29&&!o.2a){o.4N=eo;if(ew>0){o.3b=ew}o.29.2E()}}};G.qR=E(x){if(n6||x){o.2a=L;o.kD=L;if(!o.8B){if(I(o.8x)){3o{O(o.8x,{\'1r\':\'nN\',\'1e\':0,\'1d\':0,\'4T\':\'BJ\'});O(o.8x,o.KC);O(o.8x,{\'Y\':o.au,\'1g\':o.aY})}2T(es){}}O(o.1U,{\'Y\':o.au,\'1g\':o.aY,\'1r\':\'2A\',\'1e\':0,\'1d\':0,\'4T\':\'BJ\'});3o{1P.8S.C.6O=\'2t\';1P.xi=E(e){K H}}2T(es){}}o.Q.8p();if(v.qQ==1){O(o.1U,{\'8f\':v.np});if(v.d2==1){o.1U.C.8f=\'d2\'}F{O(o.1U,{\'8f\':v.np})}}if(o.9U>1){o.1U.C.BT=1;o.9U=1;aF()}if(v.1W.sq==1){n7(L);o.5w=L}if(o.3c){o.3c.8O()}9M();o.mU?o.mU=L:\'\';o.Q.nO();n6=L;js("ur");o.8B=L;o.bj=L}};G.5w=E(x){v.1W.14i!=0?n7(x):\'\'};E n7(x){8y={x:0,y:0};if(x){1S.1A("uo",uy)}F{3R(cH);1S.6T("uo",uy)}}G.aK=E(x){v.4F=0;if(x!=1){o.Q.3e();o.U.Ci()}F{}o.P.46(v.1J);if(o.Q.cI()){o.Q.7W()}if(o.3C){G.5d()}if(I(o.hv)){3R(o.hv);o.hv=1Y}9M(0);1v("2L");js("2L")};G.mB=E(){v.4F=0;v.3j=0;o.P.oC();o.U.aK()};G.5R=E(x){if(I(o.3n)){if(o.3n!=x){o.3n=x;if(v.qT==1){o.4Q=o.2C[x];if(o.5q){3a.7Q("qX",o.4Q)}}o.P.5R(x);js("4Y",o.2C[x]);o.Q.vv(x)}}};G.jv=E(){o.Q?o.Q.jv():\'\'};G.dH=E(x){if(I(o.7i)){if(o.7i!=x){o.7i=x;if(v.I7==1){o.aZ=v.aZ=o.7C[x];if(o.5q){3a.7Q("r6",o.aZ)}}o.P.dH(x);js("7l",x);o.Q.nZ("7l")}}};G.9x=E(x,z){x==\'0.0\'?x=0.1:\'\';B y=x;6V(y).J(\'.\')>0?z=1:\'\';y=y*1;if(!z){y=x==o.eD?1:o.5T[x];o.an=x}y=3T(y);if(o.kC||z){o.i1=y;V(B i=0;i<o.5T.R;i++){if(y<=o.5T[i]*1){o.an=i;1k}}}if(o.5q&&v.J3==1){3a.7Q("J4",y)}js("53",y);o.P.9x(y);o.Q.nZ("53")};E 9M(x){o.3G?o.3G.1u(I(x)?x:o.P.1b()):\'\'};G.iv=E(){if(o.3G){9M();o.3G.C()}};G.g1=E(x){if(1N(iu)==\'E\'){!o.3G?o.3G=1z iu():\'\';o.3G.zG(x)}};B 7D;B 91;B lZ;B 2q;E 8A(x){if(v["6l"+x+"Ep"]>0&&o.5q){B tb=3a.4n("mO"+x+"4z"+o.d);if(tb){B ct=1z 6S();o.a2=ct.9j();B Dw=(ct.9j()-tb)/14E;if(Dw<v["6l"+x+"Ep"]){K L}}}if(v["6l"+x+"EN"]>0){if(o.P.1q()>0){if(o.P.1q()<v["6l"+x+"EN"]*60){if(v["6l"+x+"EM"]>0){v["6l"+x+"4z"+"F6"]=v["6l"+x+"EM"]}F{K L}}}}if(o.lf.J("8z")!=-1&&v.29==1&&!o.8m&&v[x+\'s\']==1){if(1N uZ=="1Q"){K L}if(x=="7e"||x=="tf"){if(1N EL!=="1Q"){2q=[];K EL(x)}}if(I(o.29)||I(o.5H)){if(!5V(o.uk)||8F(o.41)){1v(\'ad bg\');K L}F{1v(\'ad k5\');K H}}F{if(I(v[x])){if(v[x].6g().J(".")>-1||v[x].6g().J(":")>-1||v[x].6g().J("[14u]")>-1){js("14H",x);if(!8F(x)&&x!="fD"){1C(E(){o.1B||(o.5H==1Y&&o.29==1Y)?\'\':o.U.9f()},10);hi()}7D=0;91=0;lZ=x;2q=v[x].2z(" gJ ");o.5N=[];o.uR=2q.R;mv();o.DU=1;o.lG=H;V(B i=0;i<2q.R;i++){2q[i]=2q[i].2z(" or ")}v[x.a7("4z","iI")]=v[x];v[x]=1Y;o.41=x;if(x!=\'fD\'){o.29=1z uZ()}o.5H=1z mM();V(B i=0;i<2q.R;i++){V(B j=0;j<2q[i].R;j++){B 7N=4L(2q[i][j]);if(7N.J("[50%]")>0){B 1K=5G(1,2);2q[i][j]=2q[i][j].1M("[50%]","");if(1K==2){2q[i][j]=\'\'}}}}if(v.t7==1){V(B i=0;i<2q.R;i++){B n=i==0?1:0;if(2q[i].R>n){V(B j=n;j<2q[i].R;j++){B 7N=4L(2q[i][j]);if(o.1l.sW){gt(7N)}F{1C(gt,i*100,7N)}}}}}if(2q[0][0]==\'\'){hO()}F{o.5H.mN(4L(2q[0][0]),x)}K H}F{K L}}F{K L}}}F{K L}};G.u1=E(x){8A(x)};E op(w,x,d){if(I(o[w+\'o\'])&&v[w+\'s\']==1){B y;V(B i in o[w+\'o\']){if(o[w+\'o\'].2v(i)){if(!I(o[w+\'o\'][i].pQ)&&I(o[w+\'o\'][i].1b)&&I(o[w+\'o\'][i].29)){B z=o[w+\'o\'][i].1b.6g();B ok=L;if(z){if(x=="8Q"){if(z==x){ok=H}}F{if(z.J("%")>0){if(d>0){z=2K(z.1n(0,z.J("%")))*d/100}F{z=-1}}F{z=2K(z)}if(x>=z){if(v[\'6l\'+w+\'EI\']>0&&z>-1){if(x-z>=v[\'6l\'+w+\'EI\']){z=-1}}if(z>-1){ok=H}}}if(o[w+\'o\'][i].EG&&o.P.1q()>0){if(o.P.1q()<o[w+\'o\'][i].EG*1){o[w+\'o\'][i].pQ=H;ok=L}}if(ok){y=o[w+\'o\'][i].29;v[w]=o[w+\'o\'][i].29;o[w+\'15c\']=o[w+\'o\'][i].1b;o[w+\'15g\']=o[w+\'o\'][i].13n;if(8A(w)){o[w+\'o\'][i].pQ=H;1k}}}}}}}};E mI(){if(8F()){if(o.ez==0||v[\'6l\'+o.41+\'13o\']==1){O(o.uk,{"1E":0,"5P":"3k","1d":3X});1v(o.41+" 1m");o.41==\'6J\'?o.P.2D():\'\'}}}E 8F(z){B y=L;B x=[\'6J\',\'e2\'];V(B i=0;i<x.R;i++){if(o.41==x[i]||z==x[i]){if(v[\'6l\'+x[i]+\'13t\']==1){y=H}}}K y};G.8F=E(x){K 8F(x)};G.13v=E(x){x?\'\':o2();o.41=="6J"?o.EF.2U(o.ED):\'\'};G.13O=E(){o2()};G.16K=E(){o2()};E o2(){if(8F()){if(o.1B){o.P.3e();o.Q.3e()}1v(o.41+" 1u");O(o.uk,{"1E":1,"5P":"4t","1d":0});o.mj=1}if(o.kD&&!o.8B){o1()}F{if(v["6l"+o.41+"ek"]==1&&o.2a){o.U.8p()}}};G.15z=E(x){o.5H=1Y;o.mj=0;1v("8z 4a",o.41);js("15t",o.41);if(x.1H=="fD"){B Ey=1z 15D(x);o.uF.2U(Ey)}F{if(I(o.29)){if(v.4F==0&&v.Zl==1&&o.P.1b()==0&&o.P.1q()==0){v.4F=1;o.P.rP()}if((!o.29.Zo()||x.Ex)&&o.v9>0){1v("8z Zu");o.29.4g();o.29=1Y;o.29=1z uZ()}if(8F()){mI()}F{if(o.1B){o.P.3e();o.Q.3e()}}o.v9++;if(o.lG&&v.e8>0){2P(o.e8);o.e8=1C(Fb,v.e8*2n*60);if(I(v.Fe)){if(v.Fe!=\'\'){o.jG?o.jG.6r():\'\';o.jG=1z Y2()}}}o.lG=L;if(v.Fc>0){1v("8z YC");js("Yu");1C(uL,v.Fc*2n,x)}F{uL(x)}}F{1v("8z 11J")}}};E uL(x){o.29.Go(x)}E Fb(){if(I(o.29)){if(o.29.e6()&&o.ez==0){o.29.sN();1v("8z rp "+v.e8);2q=[];cQ()}}}G.12N=E(){js(\'12w\',o.41);1v("8z 2m");uO()};G.hO=E(){uO()};E uO(){B n=mv();1v("8z 6z "+!n);!n?hO():cQ()};G.10Q=E(x){if(v[o.41+"uQ"]){V(B i=0;i<3;i++){v[o.41+"uQ"]=v[o.41+"uQ"].1M(x+(i==0?\' gJ \':(i==1?\' or \':\'\')),\'\')}}};E mv(){B x=L;if(o.41){B 7M=v[\'6l\'+o.41+\'4z\'+\'F6\'];B ij=v[\'6l\'+o.41+\'4z\'+\'11r\'];if(ij||7M){if(ij>0&&o.tl>0){o.uR=ij;if(o.ez>=ij){x=H}}F{if(7M>0){o.uR=7M;if(o.ez>=7M){x=H}}}}}K x}E hO(){if(2q.R>0&&2q[7D]){if(91<2q[7D].R-1){1v("8z 11e");o.29?o.29.sN():\'\';mI();91++;B 7N=4L(2q[7D][91]);B g7=tB(7N);if(g7==\'6U\'){o.5H=1z mM();o.5H.mN(7N,o.41)}if(g7==\'2m\'){hO()}}F{cQ()}}F{cQ()}}E tB(7N){B x=\'6U\';if(v.t7==1&&o.5N){B lB=L;B n=0;V(B i=0;i<o.5N.R;i++){if(o.5N[i].lv==0){if(o.5N[i].c7.F1(7N)){o.5N[i].lv=1;B y=o.5N[i].c7.bb();if(y==\'4a\'){o.5H=o.5N[i].c7;1v("8z F1");o.5N[i].c7.gd();x=y}F{if(y==\'\'){x=\'ok\';1v("8z 11M");o.5H=o.5N[i].c7;o.5N[i].c7.YV()}if(y==\'2m\'){x=\'2m\'}}lB=H}if(lB&&o.5N[i].hr==0){n++;if(n<6){sA(o.5N[i])}F{1k}}}}}K x}G.14U=E(x,y){if(x!=\'\'){B z=7D;B sX=L;if(y){V(B j=0;j<2q.R;j++){2q[j]==y?z=j:\'\'}}if(2q.R==1){if(2q[0].R>1&&91<2q[0].R-1&&2q[91]){B EZ=2q[91].6Y(1,99);2q[0].sU(91+1,99);sX=H}}if(1N(x)=="3W"){V(B i=0;i<x.R;i++){2q.sU(z+i+1,0,[x[i]]);if(o.1l.sW){gt(x[i])}F{1C(gt,i*100,x[i])}}}F{if(1N(x)=="5b"){2q.2U([x]);gt(x)}}if(sX){2q[2q.R-1]=2q[2q.R-1].a7(EZ)}}};G.10R=E(x,y){if(x!=\'\'){B z=7D;if(y){V(B j=0;j<2q.R;j++){2q[j]==y?z=j:\'\'}}if(2q[z]){if(1N(x)=="3W"){V(B i=0;i<x.R;i++){2q[z].2U(x[i])}}F{if(1N(x)=="5b"){2q[z].2U(x)}}}}};G.cQ=E(x){cQ(x)};E gt(x){if(v.t7==1&&o.5N){B i=0;V(B i=0;i<2q.R;i++){if(2q[i]==x){if(7D>=i){K}F{}}}if(2q.R==1&&2q[0].R>1){}F{B n=0;V(i=0;i<o.5N.R;i++){o.5N[i].lv==0?n++:\'\'}o.5N.2U({hr:0,lv:0,x:4L(x),t:o.41,c7:1z mM(H)});n<5?sA(o.5N[o.5N.R-1]):\'\'}}}E sA(x){if(x){x.hr=1;x.c7.mN(x.x,x.t)}}E cQ(jC){B 2L=mv();1v("8z 6r ("+o.ez+")");if(2q.R>0&&7D==2q.R-1){if(2q[0][0].J("js:")==0){7D=-1;2q=[[2q[0][0]]]}}if(o.10I==2){2L=H}if(2q.R>7D+1&&!2L){o.29.sN();mI();7D++;o.DU++;91=0;B 7N=4L(2q[7D][0]);B g7=tB(7N);if(g7==\'6U\'){o.5H=1z mM();o.5H.mN(7N,lZ)}if(g7==\'2m\'){cQ(jC)}}F{fx();o.Q.8a();if(I(o.29)){o.29.4g();o.29=1Y}o.5H=1Y;2q=[];91=0;7D=0;o.mj=0;o.Dy!=1?js("11K",o.41):\'\';o.Dy=0;if(v.11W==1){if(o.mq){3o{o.mq.rg()}2T(e){1v(o.mq,e)}o.mq=1Q}}lZ=\'\';o.ez=0;o.DH=0;2P(o.e8);3R(o.Yo);o.jG?o.jG.6r():\'\';o.cV?o.cV.1m():\'\';o.tl++;if(o.41=="7B"||(o.41=="e2"&&v.m8==1&&o.fF)||o.41=="6J"){if(v.3z!=\'?\'){o.P.gk();B re;if(o.tm){o.U.iM();o.tm=L;re=H}if(o.2p=="4J"&&!o.tr&&o.1l.5o){re=H;o.41=="7B"?o.P.KM():\'\'}if(re||jC==\'jC\'||v.XU==1||o.mb){o.mb=L}F{o.U.2D(1)}}}if(o.lY>0){tn(o.lY);o.lY=0}if(o.41=="q5"){a8()}o.tr=L;o.41=1Y}};G.Y8=E(){2q=[[\'\']]};G.gT=E(y){B x=[\'7B\',\'e2\',\'q5\',\'7e\',\'tf\'];B z;V(B i=0;i<x.R;i++){z=L;if(y){y!=x[i]?z=H:\'\'}if(!z&&I(v[x[i].a7("4z","iI")])){v[\'6l\'+x[i].a7("4z","Eg")]--;if(v[\'6l\'+x[i].a7("4z","Eg")]>0){v[x[i]]=v[x[i].a7("4z","iI")];v[x[i].a7("4z","iI")]=1Y}}}if(y=="7B"||y=="6J"){if(v.tO>1){if(I(o.tg)&&v.iX==1){V(B i in o.tg){o.tg[i].pQ=1Q}v.tO--}}}};G.mm=E(){hi();if(I(o.8d)){o.8d.4g();o.8d=1Y}o.8d=1z Zw()};G.Zd=E(){fx();o.8d.4g();o.8d=1Y};G.hi=E(){hi()};G.fx=E(){fx()};E hi(){if(o.9V){}F{o.9V=1T("26");o.1U.1R(o.9V);eI(o.9V);O(o.9V,{"2x":"#3Z","1E":0.1});o.9V.C.4T=GQ}};E fx(){if(o.9V){o.1U.3h(o.9V);o.9V=1Y}};E 8E(){if(I(o.2g)){B p=o.2a?2I(v.Z8,v.2g):v.2g;if(p!=o.tT){ae(p,o.2g,v.h4)}1u(o.2g);O(o.2g,{"1E":v.nb});o.Q.4H();o.h7?o.h7.1B():\'\'}};G.g5=E(){if(I(o.2g)){if(5V(o.2g)){3R(o.ud);B t=o.P.1b();if(t==0&&v.zY==1){}F{if(v.Ed>0){2P(o.tI);o.tI=1C(pM,v.Ed*2n)}F{pM()}}}}};E pM(){2P(o.tI);if(v.tF==1&&!o.1B){}F{O(o.2g,{"1E":0});1C(DZ,3V)}}E DZ(){if(!o.1B&&v.fN==1){}F{1m(o.2g);o.h7?o.h7.4m():\'\';o.Q.4H()}}G.8E=E(){8E()};E E9(x){if(v.tE==1){V(B i=0;i<59.R;i++){if(59[i]){if(59[i].3v("id")!=v.id){59[i].3v(\'4m\')}}}}eL=v.id}E tD(x){B y=8c.6t(x).R;o.iA=0;if(y>0){x=sC(x,y,\'\',-1)}K x}E sC(x,y,p,j){B x2=[];B 2L;if(I(x[\'X\'])){x=x[\'X\'];y=x.R}B ii=0;V(B i=0;i<y;i++){2L=L;if(I(x[i][\'id\'])){x[i][\'eb\']=x[i][\'id\']}x[i][\'id\']="x"+p+\'-\'+i+(I(x[i][\'id\'])?\'-\'+x[i][\'id\']:\'\');j==-1&&i==0&&!I(x[i][\'5n\'])?o.iV=x[i][\'id\']:\'\';if(!I(o.iV)){j==0&&!I(x[i][\'5n\'])?o.iV=x[i][\'id\']:\'\'}x[i][\'iW\']=p;x[i][\'sM\']=j;x[i][\'d1\']=ii;if(I(x[i][\'1q\'])){o.iA+=x[i][\'1q\']}if(I(x[i][\'E1\'])){x[i][\'1O\']=x[i][\'E1\'];B q1=x[i][\'3z\']?x[i][\'3z\'].J(\'[\'):0;B q2=x[i][\'3z\']?x[i][\'3z\'].J(\']\'):0;if(q1>0&&q2>0){B s1=x[i][\'3z\'].1n(q1+1,q2-q1-1);B s2=s1.2z(",");B s3=\'\';V(B k=0;k<s2.R;k++){s3+="["+s2[k]+"]"+x[i][\'3z\'].1M("["+s1+"]",s2[k])+(k<s2.R-1?",":\'\')}x[i][\'3z\']=s3}}if(I(x[i][\'X\'])){x[i][\'5n\']=x[i][\'X\']}if(!I(x[i][\'5n\'])){if(I(x[i][\'3z\'])){if(x[i][\'3z\']==\'\'&&!I(x[i][\'7n\'])){2L=H}}F{2L=H}}if(!2L){o.1L[x[i][\'id\']]=x[i];ii+=1}if(I(x[i][\'5n\'])){B z=8c.6t(x[i][\'5n\']).R;if(z>0){x[i][\'5n\']=sC(x[i][\'5n\'],z,x[i][\'id\'],i)}}if(!2L){x2.2U(x[i])}}K x2}E Dx(){B x=[];if(I(v.4G)){if(v.4G.J("x-")!=0){V(B y in o.1L){if(o.1L.2v(y)){if(o.1L[y].eb==v.4G){v.4G=y}}}}if(I(o.1L[v.4G])){v.X.16V==1?v.X.q8=0:\'\';x=o.1L[v.4G]}F{x=o.X[0];if(v.4G==o.t6){o.2c=1Q}}}F{x=o.X[0]}if(x){V(B i=0;i<10;i++){if(I(x[\'5n\'])){x=x[\'5n\'][0]}F{1k}}v.4G=x.id;if(v.4G==o.t6&&x.1y!=\'3w\'){x.1y=1Q}}K x}G.gC=E(){K gC()};E gC(){B x=L;if(o.Q){if(o.Q.fw()){if((v.X.eA==1||v.kk==1)&&o.Q.bO()){x=H}}}K x};E a8(){bf("4p","a8",1);o.U.gT();if(o.5q&&v.cu==1){o.3w.mE(0,o.P.1q())}if(o.Q.fw()){if(gC()){if(I(v.X.Ao)){o.An=1C(E(){o.Q.aG()},v.X.Ao*2n)}F{o.Q.aG()}}F{sR()}}F{if(v.13H==1&&o.2a){o.U.8p()}sS()}}G.Ap=E(){sR()};E sR(){if(v.X.nC==1&&!o.Q.bO()){o.Q.nH();K}if(v.X.Ft==1){!o.Q.ht()?o.Q.bE():\'\'}sS()}E sS(){8E();js("13R");if(v.7n==1&&v.13W==1&&2O(v.Ax)){7n(v.Ax)}if(v.cR){if(1N Az!=="1Q"){!o.cR?o.cR=1z Az():o.cR.A4()}}}E tR(x){if(x.J(\'js:\')==0){3o{x=2l(x.1n(3))}2T(e){ea.1v(e.9L)}}K x?x:\'\'}E tS(){B uV=2M.8L(6S.k5()/2n);B uU=(I(v.zM)?v.zM:0)+2K(o.P.1b());B 1H=0;o.1l.cJ?1H=1:\'\';o.1l.5o?1H=2:\'\';o.1l.aL?1H=3:\'\';o.1l.13a?1H=4:\'\';o.1l.tv?1H=5:\'\';B W=v.hU.1M("[uV]",uV);W=W.1M("[uU]",uU);W=W.1M("[13e]",1H);B 96=1P.1T("4c");96.6e(\'2W\',W);96.6e(\'1g\',\'3Q\');96.6e(\'Y\',\'3Q\');o.1U.1R(96)}};B Ic=E(W){B W;B 3S;B qs;B 7o;B fA="";B dT=0;B iD=L;B p1=L;B ub;B P;B 3p;o.3O={x:1,y:1,x0:1,y0:1};B 9I;B pG;B pH=0;B eX=0;B ih;if(1N(W)==\'5b\'){W=4L(W);if(W.J("[{")==0){3o{W=W.1M(/6c\'qt/ig,\'"\');W=5l.6Z(W);9I?W=o.U.6F(W):\'\'}2T(e){ea.1v(e);W="zS 5l"}}if(W.J("#"+v.ak)==0){W=o[o.fd[0]](W)}if(W){if(W.J("#"+v.bU)==0&&W.J(v.eO)>0){9I=H;o[o.fd[1]](W,b0)}}if(W){if(W.J("#0")==0){if(W.J(o.ex)>0){W=bN(W.1M(o.ex,\'\'))+o.ex}F{W=bN(W)}}}if(v.bM==1){W=bM(W)}if(1N(W)==\'5b\'){if(W.J(".b5")==W.R-4||W.J(".8h")>0){pG=W.2z(" or ");uP()}}}o.3J=1T("26");eI(o.3J);O(o.3J,{"5i":"2Q 0.2s 3d","1D-6W":"6k"});o.1U.1R(o.3J);if(v.1W.zW==1){if(!o.uH){r4(o.3J,\'o.zW\',v.1W.hX!=1,v.1W.hX==1,zX);o.uH=H}}if(!9I){b0()}E zX(){B p=o.3J.jJ;B p2=o.3b;if(v.1W.hX==1){p=o.3J.uT;p2=o.4N}B x;if(p>p2*2I(v.1W.A0,0.5)){if(o.Q.fC()){x=H;o.Q.dz()}}F{if(p<-p2*2I(v.1W.A0,0.5)){if(o.Q.bO()){x=H;o.Q.aG()}}}if(x){if(v.1W.hX==1){O(o.3J,{"1d":0})}F{O(o.3J,{"1e":0})}}F{1z 5K({mc:o.3J,1H:(v.1W.hX==1?"1d":"1e"),to:0,1b:0.1,6A:"GD",me:"uH"})}}E uP(){W=pG[pH];if(W.J(o.ex)>0){W=W.1M(o.ex,\'\');v.3z=W}B 4U=gG(W);4U.d4=E(){if(G.bJ==4&&G.6D==4B){bE(G);o.Q.He()}F{pc(1)}};4U.uJ=E(e){pc(1)};4U.bY();9I=H}E pc(x){if(pH+1<pG.R){pH++;uP();x=0}if(x==1){6f("X hf mX or Bt Bu")}if(x==2){6f("14A 5l")}}E bE(x){if(x.dr){B y=x.dr;if(y.J("#"+v.ak)==0){y=o[o.fd[0]](y)}if(y.J("#"+v.bU)==0&&y.J(v.eO)>0){y=o[o.fd[1]](y)}if(W.J(".b5")==W.R-4){B b5=y.2z(/(\\r\\n\\t|\\n|\\r\\t)/gm);W=[];B ve=1;B iK=\'\';V(B i=0;i<b5.R;i++){if(b5[i].J("#Q2")>-1){if(b5[i].J(" - ")>-1){B 1K=b5[i].2z(" - ");iK=1K[1K.R-1]}}if(b5[i].J("3r")>-1){W.2U({1O:""+(iK!=\'\'?iK:ve),3z:b5[i]});ve++;iK=\'\'}}}F{y=y.1M(/(\\r\\n\\t|\\n|\\r\\t)/gm,"");3o{W=5l.6Z(y)}2T(e){pc(2)}}if(o.Q){if(v.X.qa==1){o.Q.hS(2)}}b0();aF();1C(E(){js("X")},1)}}E b0(x){W=o.U.6F(x?x:W);W&&W!=\'?\'?6F(W):\'\';o.1B&&x&&!o.29?o.P.2D():\'\'}E 6f(x,BE){B y=H;B yy=H;js("PO",x);if(BE!=1&&v.8M==1&&v.un==1){v5();K}if(3S){if(o.1B||o.fF||(v.3j==1&&!o.1y)){if(3S.R>0){7o++;y=7o>3S.R-1;if(y&&3S.R>1&&v.eN>0){if(o.eN<v.eN){7o=0;y=L}o.eN++}if(y&&v.Qp==1){if(o.4f.R>1){if(o.2C[o.3n].J(2J("eM"))==-1){o.2C[o.3n]=o.2C[o.3n]+\' (\'+2J("eM")+\')\'}if(o.3n>0){yy=L;o.U.5R(o.3n-1);i6()}F{if(o.2C[o.3n+1].J(2J("eM"))==-1){yy=L;o.U.5R(o.3n+1);i6()}}}}if(!y){B z=L;o.2c>0||!o.1y||P.5z()?\'\':o.2c=4w();if(o.2p!=qi(3S[7o])||o.2p!=\'cz\'){if(o.1B){o.U.aK(1);z=H}}if(v.p7>0){2P(o.ju);o.ju=1C(ib,v.p7*2n)}F{ib()}}F{if(v.8M==1&&yy&&v.un!=1){y=L;v5()}}}}F{y=L;if(!o.1y){ib()}}}if(y&&yy&&x){uh(x,H)}};E ib(){if(o.1B||o.fF||(v.3j==1&&!o.1y)){1v("Qd b8",o.2c);6F(\'or\');o.1y&&!o.29?P.2D():\'\';i6()}F{if(!o.1y){if(3S.R>0){if(7o+1<3S.R){7o++;o.eN++;6F(\'or\')}}}F{2P(o.ju);o.ju=1C(ib,(v.p7>0?v.p7:5)*2n)}}}E uh(x,mr){bf("2m","iE",H);if(v.AS==1&&!o.ba){if(v.AU==1){o.8v.8h(v.AW)}F{o.8v.8h(x)}if(v.AY==1&&I(v.AZ)){o.dV=1z B0();o.U.g5()}}mr?o.ba=H:\'\';if(o.1B){o.U.8a();o.Q.3e()}I(o.2g)&&!I(o.dV)?o.U.8E():\'\';js("2m",x)}E v5(){eX++;1v("iE f3 Lj "+eX);o.1B?o.mz=1:\'\';I(o.bS)?2P(o.bS):\'\';o.bS=1C(Bh,v.v0*2n)}E Bh(){B x=2I(v.P6,10);if(o.1B||o.mz==1){o.mz=0;if(eX<x){o.U.f3()}F{if(v.un==1){6f(P.hG(),1)}F{uh(\'f3 iE \'+P.hG())}}}}G.6f=E(x){6f(x?x:P.hG())};G.8H=E(y){1v("oF");iD=H;2P(ih);B x=L;if(3Y()>0&&!o.5j&&!y){B 1b=o.KH;if(1b+10<3Y()){1v(\'O0 (AE)\');js("AE");P.2D();P.43(1b);x=H}}if(!x){o.U.oF();js("4p")}};G.av=E(){if(v.rd==1){I(o.2g)?o.U.8E():\'\'}v.fN==1?o.U.g5():\'\';o.Q.2D();o.U.AL();if(v.VT==1&&I(v.qP)){if(v.qP.R>5){qS();3R(ub);ub=7g(qS,v.BC*2n)}}js("1B")};G.jn=E(){if(v.oz==1&&o.4D){if(o.U.jn()){o.a0=P.v8();o.Q.4H();s5()}}o.um=H};G.ey=E(){4w()>0&&4w()==3Y()&&o.U.gC()?\'\':o.U.3e()};G.jr=E(){1v("VB")};G.jq=E(){1v("ux");o.U.ux();I(o.gR)?js("47",o.gR):\'\'};G.c6=E(){1v("uD");eX=0;o.U.uD();o.2p=="1F"?rD(1):\'\'};G.ap=E(){if(P){1v("3Y",3Y());o.U.3Y(4w(),3Y());js("1q",3Y());eX=0;2P(o.bS);if(I(o.q0)){o.U.dH(o.q0);o.q0=1Y}}};E 4w(){B x=P.1b();K x}E 3Y(){B x=P.1q();K x}G.eC=E(){};G.8W=E(){1v("9f");o.U.9f();js("8e")};G.cd=E(){if(dT!=4w()){if(!o.9V){o.U.8a();if(dT==0){if(v.fN==1&&v.zY==1){o.U.g5()}}}}dT=4w();B cM=3Y();js("1b",dT);if(v.2h.on==1){if(1N(zQ)==\'E\'){!v.dP&&v.2h.dP?v.dP=v.2h.dP:\'\';if(!3p&&v.2h.4W!=1&&v.dP&&v.dP!=\'\'&&dT>0){o.dJ=1z zQ();3p=o.dJ.hg()}}}if(o.2p=="1F"&&o.1l.7t&&cM>0){if(o.1B&&dT>cM-1){2P(ih);ih=1C(Aw,3X)}}};E Aw(){if(!iD){o.U.3e();o.P.8H()}}G.ut=E(){if(o.2p=="4J"){P?P.ow():\'\'}};G.Aq=E(x){o.U.aK();P.Ak(x)};G.GL=E(x){if(I(x)){if(3p){3p.46(x)}v.2h.1J=x}};G.Aj=E(x){if(I(x)){if(3p){3p.2W(x);3p.2D()}}};G.ow=E(){if(o.2p=="4J"&&P){K P.4a()}F{K H}};G.o7=E(){K o.2p=="1F"?P.o7():1Q};G.o5=E(){K P.o5()};G.5R=E(x){1v("Vb",x);if((o.2p=="cz"||o.2p==o.ws||(o.2p=="1F"&&(v.8T==0||9Y()<2))||(o.2p=="3U"&&(v.oS==0||cN()<2)))&&I(o.4f[x])){B 1b=G.1b();o.2c>0?\'\':o.2c=1b;o.U.43(1b,L);6F(o.4f[x],H);B y=H;if(v.1j){if((v.1j.V2==1&&!o.1B)||!o.1y){y=L}}if(o.al>0){P.gh(o.al)}if(y){o.U.2D()}}if(o.2p=="1F"&&v.8T==1&&9Y()>1){P.GZ(x)}F if(o.2p=="3U"&&v.oS==1&&cN()>1){P.HY(x)}F if(o.2p=="4J"||o.2p=="dm"){P.tY(x)}};G.KP=E(x,y){K hC(x,y)};G.sJ=E(x,y){K B6(x,y)};E hC(x,y){B r=x.1g+\'p\';if(x.1g<4B){r=\'q4\'}F if(x.1g>=4B&&x.1g<=dy){r=\'iO\'}F if(x.1g>dy&&x.1g<=jm){r=\'ja\'}F if(x.1g>jm&&x.1g<=3V){r=\'j2\'}F if(x.1g>3V&&x.1g<=hn){r=\'r5\'}F if(x.1g>hn&&x.1g<=AT){r=\'pg\'}F if(x.1g>AT&&x.1g<=Ac){r=\'p6\'}F if(x.1g>Ac&&x.1g<=Al){r=\'qN\'}F if(x.1g>Al&&x.1g<=As){r=\'Xi\'}F if(x.1g>As){r=\'rO\'}if(x.Y==zI&&x.1g<=Xe){r=\'iO\'}F if(x.Y==Bw&&x.1g<=BA){r=\'ja\'}F if(x.Y==X6&&x.1g<=X5){r=\'j2\'}F if(x.Y==X4&&x.1g<=XG){r=\'pg\'}F if(x.Y==XB&&x.1g<=Xy){r=\'p6\'}F if(x.Y==Xx&&x.1g<=Xu){r=\'qN\'}F if(x.Y==Xs&&x.1g<=Xr){r=\'rO\'}if(v.1j.Xo==1&&I(v.1j[\'6M\'+r])){r=v.1j[\'6M\'+r]}F{if(y==1){r=2J(r)}if(y==2&&I(x.9N)){r=2K(x.9N/2n)+\' \'+2J(\'fI\')}}K r};E B6(x,y){B r=x.nY();if(r=="Wt"||r=="en"){x="Wq"}F if(r=="Wp"||r=="ru"){x=""}if(1N(v.pd)=="3W"){if(I(v.pd[x])){x=v.pd[x]}F{x=2I(v.pd[y.6g()],x)}}K x};E s5(){if(o.4D&&o.2f&&!o.qM){P.sy();V(B i=0;i<o.2f.R;i++){if(o.2f[i]!=\'9S\'){P.H3(o.2f[i],o.3f[i],(i==o.3u))}}o.qM=H}}G.9x=E(x){1v("WV",x);x=3T(x);P?P.gg(x):\'\';if(v.2h.on==1){if(3p){3p.gg(x)}}};G.AP=E(){s5()};G.AI=E(){P.sy()};G.dH=E(x){1v("WL",x);if(o.aV.R>0){if(o.aV[x]){B 1b=G.1b();o.2c>0?\'\':o.2c=1b;o.U.43(1b,L);6F(o.aV[x],H);o.U.2D()}}F{if(o.2p=="1F"&&v.ca==1){P.H0(x)}F if(o.2p=="3U"&&v.AF==1){P.KB(x)}F if(o.4D){P.gh(x)}}};G.sd=E(){B x=o.2C[o.3n];x==1Q?x=\'\':\'\';B y=jt()&&v.je==1&&v.8T==1&&x!=2J("2t");K(y?\'\'+2J("2t")+\' \':\'\')+x};G.se=E(){B x=o.7C[o.7i];x==1Q?x=\'\':\'\';K x};G.jt=E(){K jt()};E jt(){B x=L;if(P){if(o.2p=="4J"){x=P.2t()}if(o.2p=="1F"&&v.8T==1&&9Y()>1&&v.je==1){x=P.2t()}if(o.2p=="3U"&&v.oS==1&&cN()>1){x=P.2t()}}K x}E 9Y(){if(o.2p=="1F"){K P.9Y()}F{K 0}}E cN(){if(o.2p=="3U"){K P.cN()}F{K 0}};G.9w=E(){K o.4D?P.9w():o.51};G.4M=E(x){if(P&&(o.2p=="4J"||o.2p=="af"||I(v.9w))){P.4M()}if(v.uX>0){O(o.3J,{"1g":(o.2a?"100%":o.aY-v.uX)})}if(o.3p&&v.2h.KV==1){o.dJ.4M()}if(v.rj==1){SF()}if(o.uj){o.uj.4M()}};G.42=E(){K P?P.42():{}};G.j7=E(){P.j7()};G.8M=E(){1v(\'8M\');o.a1=0;o.1y?v.3j=1:\'\';o.U.9f();if(W&&v.Tc!=1){if(W.J(\'(5G)\')==-1){W=W+(W.J(\'?\')==-1?\'?\':\'&\')+\'Bk=(5G)\'}}if(W){if(o.4D){P.2W(W);G.2D()}F{6F(W)}}};if(!I(o.2g)){rQ()}if(I(v.2g)){if(v.2g!=\'\'){ae(v.2g,o.2g,v.h4);if(v.rd==1&&!o.1y){1m(o.2g)}}F{v.2g=1Y}}E bb(){fA=P?P.6D():\'\'}E Ay(W){3S=W.2z(" or ");V(B i=0;i<3S.R;i++){if(3S[i].J(" gJ ")>-1){qs=3S[i].2z(" gJ ");3S[i]=qs[5G(0,qs.R-1)]}if(I(v.qu)&&3S[i].J("//")==-1){3S[i]=v.qu+3S[i]}}7o=0}E Ar(){bb();if(fA=="7L"||o.5j){o.U.rh()}if(fA!=""){o.U.zg()}}E rQ(){if(o.2g){o.1U.3h(o.2g)}o.2g=1T("26");O(o.2g,{"4j-3i":"28","1E":v.nb,5i:"1E 0.5s"});if(v.rj==1){S8()}F{O(o.2g,{\'1r\':\'2A\',\'1e\':0,\'1d\':0,\'Y\':\'100%\',\'1g\':\'100%\'})}o.1U.1R(o.2g)}E 6F(x,y,Av){2P(ih);v.ik==\'\'?v.ik=\';\':\'\';if(x.J(\'{\')>-1&&x.J(\'}\')>-1&&x.J(v.ik)>-1){B z=x.2z(v.ik);o.aV=[];V(B i=0;i<z.R;i++){o.7C[i]=z[i].1n(z[i].J("{")+1,z[i].J("}")-1);o.aV[i]=z[i].1n(z[i].J("}")+1);if(I(v.aZ)){if(v.aZ==o.7C[i]){o.7i=i}}}x=o.aV[o.7i]}!I(3S)?3S=[]:\'\';o.pI?2P(o.pI):\'\';x&&x!=\'or\'&&x!=\'x\'?Ay(x):\'\';B ft=o.2p;if(3S.R>0){o.2p=qi(3S[7o]);B hg=L;if(Av){hg=H}W=3S[7o];if(W){W=W.1M(/\\(5G\\)/g,2M.5G())}F{W=3S[0]}if(!hg&&x!=\'x\'&&P&&o.2p==ft&&(ft=="cz"||(ft=="af"&&!o.1l.2j)||(ft=="4J"&&o.1y&&!p1)||ft=="dm"||ft=="1F"||ft=="3U")){P.2W(W);1v("2W")}F{1v("Tp");qq();Lf(W)}rD()}if(!y){3R(o.rs);o.rs=7g(Ar,o.pR);if(!I(v.22)&&v.pX==1&&v.rA==1){v.22=\'\'}if(I(v.22)){o.U.g1(v.22)}if(v.eS==1){if(v.oz==1&&o.1l.2j){}F{if(o.2p=="4J"){O(o.3J,{"1d":-hm,"1e":-hm})}F{3l(o.3J)}v.1t.1m=0}}}}E rD(x){if(o.eD||x){if(o.kC){P.gg(o.i1)}F{if(o.an!=o.eD){P.gg(o.5T[o.an])}}}}E qi(x){B 1H="cz";if(x){if(x.J(".LK")>0){1H="1F"}F if(x.J(".Ll")>0){1H="3U"}F if(x.J("w")==0&&x.J("s")==1){1H=o.ws}F if(x.J(\'4J.7d/\')>-1||x.J(\'mH.be/\')>-1){if(1N(rl)==\'E\'){1H="4J";if(v.zn==1){B y=\'cG://4c.4J.7d/vi/\'+qc(x)+\'/\';L5(y+\'M1.iH\',E(z){z>100?v.2g=y+\'M1.iH\':v.2g=y+\'Tb.iH\';if(o.1L){o.1L[o.3q][\'2g\']=v.2g}v.3j==1||o.1y?\'\':ae(v.2g,o.2g,v.h4)})}}F{1v("No Lm")}}F if(v.af==1&&x.J(\'af.7d/\')>-1){1H="af"}F if(v.dm==1&&x.J(\'TQ.7d\')>-1){1H="dm"}F if(v.KY==1){if(1N(KZ)==\'E\'){KZ(x)?1H="6c":\'\'}}}o.4D=1H=="cz"||1H=="1F"||1H=="3U"||1H==o.ws;K 1H}E L5(W,Le){B 4c=1z RX();4c.d4=E(){Le(G.1g)};4c.2W=W}E Lf(x){o.2p=qi(x);if(o.4D){P=1z KN(x,o.3J,L)}if(o.2p=="4J"){P=1z rl(x,o.3J)}if(v.af==1&&o.2p=="af"){P=1z Sb(x,o.3J)}if(o.2p=="6c"){P=1z Sc(x)}if(o.2p=="dm"){P=1z Sd(x,o.3J)}o.Q?o.Q.GA():\'\';B t=0;if(I(v.1q)){if(o.3w&&v.cu==1&&!o.1y){t=o.3w.9Q().t}1C(E(){o.U.3Y(t,v.1q)},100)}}E qq(){if(P){P.4g();P=1Y;fA="7s"}if(3p){3p.4g();3p=1Y;3p=1Q;o.dJ.6r();o.3p=1Y;o.dJ=1Y}};G.4g=E(){qq()};G.T4=E(){3S=[];qq()};G.6F=E(x,y,z){6F(x,y,z)};G.ae=E(x){ae(x,o.2g,v.h4)};G.2D=E(){if(P){iD=L;p1=L;if(o.5j){o.4i.2D()}F{P.2D();v.fN==1?o.U.g5():\'\'}if(I(3p)){3p.2D()}if(o.7T){if(o.4D){if(o.a2>0&&!o.7T.T7()){o.7T.ql()}}F{o.pK=[];o.Q.nZ("cD")}}if(o.4D&&v.La>-1&&!o.uW&&!o.1l.5o){if(o.a2>0){P.KX()}}i6()}F{1C(G.2D,3V)}};E i6(){if(v.Lg>0&&3S.R>1){if(3Y()==0||v.Li==1){2P(o.pI);o.pI=1C(Lh,v.Lg*2n)}}}E Lh(){if(o.1B&&(3Y()==0||v.Li==1)&&4w()==0&&!o.ju){if(P){if(P.9H()==0&&7o!=3S.R-1){6f(\'6F Lj\')}}}}G.Lc=E(1h){if(o.3p){if(v.2h.KV==1){if(o.tx[o.3p]>2){K}}if(1h){1h.bC();1S.1h?1S.1h.6B=H:\'\'}B 1K=P;P.vf(H,o.3p);3p.vf(L,o.3J);P=3p;3p=1K;P.2D();3p.2D();js("2h")}};G.KM=E(){P.2W(W)};G.yf=E(){v.6j==1?o.6j.3v("1m"):\'\';o.sc=H};G.jh=E(){if(v.1t.vM){v.1t.vM=L;if(o.Q){o.Q.w6(1);o.Q.xT()}}o.sc=L};G.KU=E(){if(o.3p&&o.dJ){o.dJ.im()}};G.gX=E(){if(o.4D&&o.5Y){o.hw=H;P.5Y()}};G.ei=E(){if(o.4D&&o.94){P.94()}};G.lM=E(){if(v.eP==1&&I(v.WO)){if(I(o.eP)){o.eP.1u()}F{if(1N(KF)==\'E\'){o.eP=1z KF()}}}jB();if(P){lW(0);P.lM()}};G.gk=E(){o.eP?o.eP.1m():\'\';P?P.gk():\'\'};G.jB=E(x){jB(x)};E jB(x){if(v.WP==1&&2O(v.cV)){if(I(o.cV)){o.cV.1u(x)}F{if(1N(KG)==\'E\'){o.cV=1z KG()}}}}G.3e=E(){if(o.5j){o.4i.3e()}F{P?P.3e():1v("WZ")}if(I(o.3p)){3p.3e()}};G.oC=E(){p1=H;o.U.43(0,L);I(o.2g)?o.U.8E():\'\';6F(\'x\')};G.dv=E(){P?P.dv():\'\'};G.43=E(x){if(P){if(o.5j){o.4i.43(x)}F{P.43(x);if(v.2h.on==1){if(3p){3p.43(x)}}}}};G.5d=E(){if(P){P.5d();o.5j?o.4i.5d():\'\';1v("5e")}if(v.2h.on==1&&v.2h.fW==1){if(3p){3p.5d()}}};G.6y=E(){if(P){P.6y();o.5j?o.4i.6y():\'\';1v("aq")}if(v.2h.on==1&&v.2h.fW==1){if(3p){3p.6y()}}};G.46=E(x){P?P.46(x):\'\';if(v.2h.on==1){if(v.2h.fW==1&&3p&&!o.Kt){3p.46(x)}}if(o.5j){o.4i.46(x)}};G.nG=E(){K P?P.nG():L};G.5z=E(){K P?P.5z():L};G.6D=E(){K fA};G.7s=E(){K iD};G.1b=E(){B x=0;if(P){x=4w();if(o.5j){B y=o.4i.4w();y?x=y:\'\'}F{if(3Y()>0&&x!=3Y()){o.KH=x+0.Wu}}K x}F{K 0}};G.1q=E(){B x=0;if(P){x=3Y();x==0&&I(v.1q)?x=v.1q*1:\'\';if(o.5j){B y=o.4i.3Y();y?x=y:\'\'}}K x};G.9H=E(){K P?P.9H():0};G.fk=E(){o.3O.fk=o.3O.fk?L:H;O(o.3J,{"2Q":(o.3O.fk?"3t(-1)":"3t(1)")})};G.WC=E(){rQ()};G.rP=E(){if(o.4D){P.4F()}};G.KI=E(x,y){if(x==\'1I\'){if(y==1){dw(v.1j.1I/100)}if(y==2){dw(-v.1j.1I/100)}if(y==3){o.P.iL()}}F{if(o.4D){if(!o.9R[x]){if(x==\'p8\'){o.9R[x]=0}F{o.9R[x]=1}}if(y==1){o.9R[x]+=v.1j[x]/100}if(y==2){o.9R[x]-=v.1j[x]/100}if(y==3){if(x==\'p8\'){o.9R[x]=0}F{o.9R[x]=1}}!o.j4?o.j4=[]:\'\';o.j4[x]=x+\'(\'+2K(o.9R[x]*100)+\'%) \';B cf=\'\';V(B i in o.j4){cf+=o.j4[i]}O(P.ai(),{\'6R\':cf});o.Q.nR(x)}}};G.1I=E(x){dw(x)};E dw(x){if(6V(x).J(":")>0){B y=x.2z(":");B z0=o.3b/o.4N;B z1=o.P.42();if(z1.Y>0){z0=z1.Y/z1.1g}B z=y[0]/y[1];if(z0!=z){if(o.4D){P.gn()}B w2=o.4N*z;B x2=w2/o.3b;B h2=o.3b/z;B y2=h2/o.4N;if(x2<1){o.3O.x0=o.3O.x=3T(x2);o.3O.y=1}F{o.3O.x=1;o.3O.y0=o.3O.y=3T(y2)}O(o.3J,{"2Q":"3t("+o.3O.x+") 3x("+o.3O.y+")"});o.jX=x}}F{o.3O.x+=3T(x);o.3O.y+=3T(x);O(o.3J,{"2Q":"3t("+o.3O.x+") 3x("+o.3O.y+")"})}if(v.1W.Xa==1){if(!o.r9){if(o.3O.x>0||o.3O.y>1){r4(o.3J,\'o.Xb\');o.r9=H}}r3()}o.Q.nR(\'1I\')};G.iL=E(){if(o.4D){P.gn()}o.3O.x=o.3O.x0;o.3O.y=o.3O.y0;O(o.3J,{"2Q":"3t("+o.3O.x+") 3x("+o.3O.y+")"});o.Q.nR(\'1I\');o.jX=1Y;r3()};E r3(){if(o.r9&&v.1W.X3!=1){if(o.3O.x==1&&o.3O.y==1){O(o.3J,{"1d":0,"1e":0})}}};G.gl=E(x,y){P.gl(x,y)};G.cv=E(){K cv()};E cv(){K 3S?(3S.R>0?(3S[7o]?3S[7o]:\'\'):\'\'):\'\'};G.sE=E(){K 3S.R};G.ai=E(){K P?P.ai():L};G.6m=E(){if(o.4D){P.6m()}};G.tZ=E(){P.tZ()};E qS(){B 4U=gG(v.qP+\'?W=\'+3S[7o]);4U.d4=E(){if(G.bJ==4&&G.6D==4B){if(G.dr){v.1O=G.dr;o.U.a5(\'1O\')}}};4U.bY()}};B KN=E(W,1G,2h){B 1f=1T(v.eS==1?"qI":"dq");B bZ;B ti=0;B 1F;B 4R=L;B ty=L;B sP=L;B am=L;B g0=-1;B 3U;B 6C=L;B ws;B ta=L;B 6v=L;o.5r=L;B 8l=0;B 9y=L;B 2m;B Xg;B lT=L;B ir=-1;B cC=-1;B tN;B uu;B aw;B i3;B Xk;B KS=\'dq/II; Vj="Vk.Vm, Ve.40.2"\';B lL=L;O(1f,{\'1r\':\'nN\',\'Y\':\'100%\',\'1g\':\'100%\',\'3W-na\':\'ue\',\'5i\':"6R 0.2s 3d",\'9n-1g\':\'2t\',\'6n-1g\':\'28\',\'9n-Y\':\'2t\',\'6n-Y\':\'28\'});gn();if(o.1l.7O&&v.3j==1&&v.sV==1){if(!o.1y&&v.7B){4e(1f,{\'kb\':1})}F{o.3C=H;o.Q?o.Q.5d():\'\';4e(1f,{\'3C\':1,\'kb\':1,\'3j\':1})}}F{if(o.1l.2j){4e(1f,{\'kb\':1})}if(!o.1l.tv){4e(1f,{\'4F\':(v.4F==1?\'8Q\':\'28\')})}}if(v.Vx==1){4e(1f,{"Vc":"KT","UU":"KT"})}4e(1f,{\'2W\':W,\'x-3L-5Y\':\'Kf\',\'Lk\':\'H\'});if(v.UY!=1){4e(1f,{\'Lk\':\'H\'})}if(v.V3==1){4e(1f,{\'2h\':\'L\'})}if(2h){1f.3j=H;if(v.2h.fW!=1||v.3j==1){1f.3C=H}F{1f.1J=2O(v.2h.1J)?v.2h.1J:v.1J}}if(v.VR==1){4e(1f,{\'V4\':\'V5\'})}v3();if(v.V8==1){B dW=1T("aH");4e(dW,{"Kc":"no","yh":"H","Ke":"H","2W":""});O(dW,{"1r":"2A","Y":"100%","1g":"100%","2S":0});1G.1R(dW);B KW=1S.7g(E(){if(dW.kS.1P.bJ==="uw"){1S.3R(KW);O(dW.rS.8S,{"2X":0,"2F":0});dW.rS.8S.1R(1f)}},100)}F{1G.1R(1f)}if(!I(W)){W=\'\'}B uB=L;if(o.1l.tv){if(W.J("Vz")>0){uB=H}}if(W.J(".Ll")>0){6v=H;if(!o.3U){if(1N LY!=="1Q"){o.3U=1z LY()}F{6v=L}}if(I(o.3U)){if(!I(1S.LS)){o.3U.pN()}F{tU()}}}F if(((2G.1F==1&&v.uA!=1)||W.J(".LK")>0)&&!uB&&(o.ge.J("8I")!=-1||I(1S.5D))){4R=H;ty=H;3o{if(I(1S.5D)){if(!5D.LH()||(o.1l.7t&&v.Wc==1&&!o.1l.5o)||(o.1l.7t&&o.1l.5o&&v.LL==1)||(o.1l.qC&&v.Wg==1)){1v(\'8I VU \',5D.LH());4R=L}F{if(v.4F==1||v.3j==1||v.LO==1||2h){et(L)}}}F{4R=L}}2T(2m){4R=L}}F if(W.J("w")==0&&W.J("s")==1&&v.VM==1){9y=H;t8()}if(o.1l.tv&&v.3j==1&&!4R&&!6v&&!9y){1C(E(){o.U.e3()},100)}if(v.7T==1){I(o.7T)?o.7T.8O():\'\';o.7T=1z VN()};G.tZ=E(){tU()};E tU(){6v=H;if(tP()){if(v.4F==1||v.3j==1||v.LR==1){nW(L)}}F{6v=L;1v("Qt hf Lr")}}E nW(x){if(o.3U&&!6C){o.3U.hg(x,1f,W,2h);I(1S.LS)?6C=H:\'\'}}E et(x){1v("8I");if(o.4f.R>1){v.8T=0;v.LT=H}F{v.LT?v.8T=1:\'\'}if(o.aV.R>1){v.ca=0;v.LU=H}F{v.LU?v.ca=1:\'\'}o.aw=L;g0=-1;aw=[];o.3G?o.3G.LE():\'\';B v1=L;if(v.7B&&v.Ln==1){v1=H;v.Ln=0}bZ={Ls:(v.Ly==1&&!2h),P8:(v.4F==1||v.3j==1||2h||x)&&!v1,hc:60,uN:60,Pa:(v.Lz>0?v.Lz*2n:KD),Pb:(v.LA>0?v.LA*2n:KD),Pg:L};if(v.Pj==1){bZ.Pk=H}if(v.he==1){B ks=[\'fp\',\'wv\',\'pr\',\'ck\'];B p5=[\'7d.Qm.Qq\',\'7d.PQ.gL\',\'7d.PW.PX\',\'3F.w3.Q1\'];B dj={};V(B i=0;i<ks.R;i++){if(v[\'he\'+ks[i]]==1){dj[p5[i]]={};if(2O(v[\'he\'+ks[i]+\'l\'])){dj[p5[i]].14w=v[\'he\'+ks[i]+\'l\']}if(2O(v[\'he\'+ks[i]+\'s\'])){dj[p5[i]].14z=v[\'he\'+ks[i]+\'s\']}}}bZ.14j=H;bZ.14l=dj}if(v.LC==1){bZ[\'14o\']=E(4U,W){4U.154=H}}if(I(v.6H)){if(I(v.6H.hc)){if(v.6H.hc>hn){v.6H.hc=hn}v.6H.uN=v.6H.hc}if(I(v.6H.LB)){v.6H.uN=v.6H.hc=v.6H.LB}if(1N v.6H=="3W"){V(B 1c in v.6H){if(v.6H[1c].6g().J(\'2l:\')==0){v.6H[1c]=2l(v.6H[1c].1n(5))}bZ[1c]=v.6H[1c]}}}1F=1z 5D(bZ);js("1F",1F,1);1F.LD(W);1F.15a(1f);1F.on(5D.7r.15b,E(){1v("8I 14Q")});1F.on(5D.7r.14V,E(1h,2b){!2h?o.U.e3():\'\'});1F.on(5D.7r.14L,E(1h,2b){if(!2h&&v.8T==1&&9Y()>1){KQ();qx();o.Q?o.Q.jN(o.3n):\'\'}});1F.on(5D.7r.14a,E(1h,2b){qx()});1F.on(5D.7r.13y,E(1h,2b){qx()});1F.on(5D.7r.13d,E(1h,2b){if(!2h){if(2b.iF.5r!=o.5r){o.5r=2b.iF.5r;o.Q.4H()}o.5r=2b.iF.5r;if(o.5r){1v("13c");o.Lx=W.J("?vG")>-1;if(1f.1q>0&&1f.cA>0){if(1f.1q-1f.cA<10){if(o.hW>0){if(o.hW==1f.cA&&o.Lw==1f.1q){o.oA++;if(o.oA>2){o.oA=0;o.hW=-1;1F.aB();et(H);8H()}}F{o.hW=-1}}F{o.hW=1f.cA;o.Lw=1f.1q}}}}}if(v.8T==1){o.3n=1F.o9;o.Q?o.Q.jN(o.3n):\'\'}o8()});1F.on(5D.7r.137,E(1h,2b){if(I(2b.io)){!2h?js("132",2b.io.131):\'\';if(v.13w==1){1N Lu!=="1Q"?Lu(2b.io):\'\'}}if(g0>-1){1F.Ld=g0;g0=-1}sP=H;Lq()});1F.on(5D.7r.13g,E(1h,2b){js("13Q",2b,1)});1F.on(5D.7r.140,E(1h,2b){if(!2h&&v.ca==1){1C(sK,3V)}});1F.on(5D.7r.142,E(1h,2b){if(!2h&&v.ca==1){sI()}});1F.13Z=L;if(v.13B==1){1F.on(5D.7r.13F,E(1h,2b){if(1N(2b)=="3W"){if(2b.io.1H==\'22\'){B fu=2b.io.W;if(fu){B st=1F.H2;if(o.56){o.3G.us(st+\'c5\'+fu)}F{!aw[st]?aw[st]=[]:\'\';aw[st].2U(fu)}}}}});1F.on(5D.7r.171,E(1h,2b){B x=1F.16Z;B y=\'\';V(B i=0;i<x.R;i++){y+=(y!=\'\'?\',\':\'\')+\'[\'+x[i].6M+\']1F\'+i;x[i].7J?o.oY=x[i].6M:\'\'}3H("22",y)})}1F.on(5D.7r.16T,E(1h,2b){v.1v==1?ea.1v(2b):\'\';js(2b.1H+\'5D\',2b,0,H);o.sO=2b;if(2b.qo){if(2b.1H=="16S"){1v("8I qo tu 2m");if(v.ra==1){tw()}F{2m=2b.iF+\' (\'+2b.1H+\')\';o.2c>0||2h||v.5r==1||9y?\'\':o.2c=4w();1F.aB();if(!2h){o.P.6f()}}}F{B nx=L;if(2b.1H=="16R"){if(v.16D==1&&o.P.sE()>0){nx=H}F{1v("8I qo P 2m, iI");1F.16C()}}F{nx=H}if(nx){2m="8I qo 2m, aB";1F.aB();!2h?o.P.6f():\'\'}}}F{1v("8I ",2b.1H,2b.iF,(2b.qw?2b.qw.q9:\'\'));js("15p",(2b.qw?2b.qw.q9:\'\'));if(8l>0){8l=2;tM()}}});am=H}E qx(){if(!2h&&v.8T==1&&9Y()>1){if(o.3n!=1F.o9){o.3n=1F.o9;o.Q?o.Q.jN(o.3n):\'\';1v("8I 15o "+o.3n)}if(2O(v.c8)&&o.3n>0){B fq=v.c8.2z(",");V(B k=0;k<fq.R;k++){if(o.2C[o.3n].J(fq[k])>-1){1v(\'15T 4Y\');1F.hP=o.3n-1;o.3n--;1k}}}}}E t8(){if(I(1S.Lt)){if(tP()){if(!I(o.ws)){o.ws=1z 16o()}ws=1z Lt(1f,W,2I(v.YZ,{Ls:H}));ta=H}F{9y=L;1v("hf Lr")}}}E Lq(){tL()};G.6m=E(){tL()};E tL(){if(v.FN&&o.Q){if(1f.fV.R>0){if(v.6m==1){1f.fV[1f.fV.R-1].hN="H4"}F{1f.fV[1f.fV.R-1].hN="3k"}if(!o.6m){o.6m=H;o.Q.4H()}}F{if(o.6m){o.6m=L;o.Q.4H()}}}}E tw(){1v("YY");!2h&&o.1B?o.U.3e():\'\';o.U.8E();8l=1;tM(o.1B)}E tM(x){if(8l>0){2P(tN);tN=1C(Lo,v.Lp*2n)}}E Lo(){if(8l>0){1v("ZQ");if(4R){if(8l==1){1F.LD(W)}if(8l==2){1F.aB();et(H);1f.1B()}}F{4e(1f,{\'2W\':W})}}}1f.1A(\'ZV\',Lv);1f.1A(\'2m\',qG);1f.1A(\'7s\',8H);1f.1A(\'1B\',av);1f.1A(\'4m\',ey);1f.1A(\'GX\',cd);1f.1A(\'jd\',jr);1f.1A(\'nv\',jq);1f.1A(\'H5\',c6);1f.1A(\'H7\',eC);1f.1A(\'8e\',8W);1f.1A(\'H8\',ap);1f.1A(\'10a\',LJ);1f.1A(\'H9\',rM);1f.1A(\'Ha\',rR);if(o.1l.7O){1f.1A(\'ZH\',j7)}E Lv(){if(!4R&&!6v){!2h?o.U.e3():\'\'}}E j7(){if(1f.Zz){o.U.fo()}}E qG(){if(!4R&&!6v){if(1f.2m){1v(1f.2m,1f.2m.q9,1f.2m.9L);B x=1f.2m.q9;2m=1f.2m.9L;if(2m==\'\'){if(x==1){2m="ZG"}if(x==2){2m="tu"}if(x==3){2m="dp"}if(x==4){2m="hf mX"}}1v("ZK iE: ",2m)}if(ty&&v.ra==1){2m=1Q;tw()}if(2m!=1Q||o.1l.5o){6f()}}}E 6f(){!2h?o.P.6f():\'\'}E 8H(){if(!2h){o.P.8H()}F{if(v.2h.9c==1){1f.cA=0;1f.1B()}}}E av(){if(!o.1y&&v.7B){1v(\'LP 1B\');4m();o.U.2D();K}if(4R&&8l>0){}F{if(!2h){B aR=o.U.8F()&&o.mj!=1;if(aR||cC==-1){B x=L;if(4R){if(I(o.29)||I(o.5H)){if(aR){}F{1v(\'4m ia\');4m();x=H}}}if(!x){o.P.av()}}}}}E ey(){if(!lL){1v("Y5");if(o.1B&&o.fF&&!1f.7s&&v.LW==1&&!o.a0){1v("LW");hQ()}F{!2h&&!o.LV&&1f.8j?o.P.ey():\'\'}}}E cd(){!2h?o.P.cd():\'\';if(cC>-1){if(4w()>cC){4m();cC=-1}}}E jr(){!2h?o.P.jr():\'\'}E jq(){!2h?o.P.jq():\'\'}E c6(){if(2h){nV()}F{o.P.c6();vb();if(4R&&8l>0){8l=0;1v("Yj up");1F.KJ();hQ();o.Q.2D()}if(I(v.9w)){2E()}1C(LQ,3V)}}E LQ(){if(1f.cw&&o.7C.R==0&&v.YO!=0){B at=1f.cw;V(i=0;i<at.R;i++){B x=o.P.sJ((at[i].7S?at[i].7S+\' (\':\'\')+at[i].LN+(at[i].7S?\')\':\'\'),i);if(x==v.aZ){o.7i=o.al=i}o.7C[i]=x}o.Q.mR(o.al)}if(o.al>0){gh(o.al,1)}};G.9w=E(){K(1f.nM/1f.fT)};E nV(){if(1f.fT>0){O(1G,{"1g":1G.2i/(1f.nM/1f.fT)-2K(v.2h.2S)})}F{if(ti<20){1C(nV,100);ti++}}}E vb(){if(v.nf==1){3R(o.tA);o.tA=7g(tz,100);tz()}}E tz(){if(1f){if(1f.fT>0){o.U.LM(1f.nM/1f.fT);3R(o.tA)}}}E ap(){!2h&&!9y?o.P.ap():\'\'}E eC(){!2h?o.P.eC():\'\'}E 8W(){if(4R&&8l>0){}F{!2h?o.P.8W():\'\'}}E LJ(){o.U.tQ()}E tP(){B mf=1S.LI=1S.LI||1S.10i;B jf=1S.LF=1S.LF||1S.12h;B mP=mf&&1N mf.mP===\'E\'&&mf.mP(KS);B KR=!jf||jf.tC&&1N jf.tC.12L===\'E\'&&1N jf.tC.6r===\'E\';K mP&&KR}B vh="<7h C=\'1E:0.5\'>";E KQ(){if(!2h&&v.8T==1){B x=1F.cO;B q=-1;o.2C=[];if(x.R>1){V(B i=0;i<x.R;i++){if(I(x[i].1g)){B y=o.P.KP(x[i],v.KO);if(o.2C.J(y)>-1||v.12r==1){if(I(x[i].9N)){B yi=o.2C.J(y);yi>-1?o.2C[yi]+=" "+vh+" &h1;"+2K(x[yi].9N/2n)+\' \'+2J(\'fI\')+\'</7h>\':\'\';o.2C[i]=y+" "+vh+" &h1;"+2K(x[i].9N/2n)+\' \'+2J(\'fI\')+\'</7h>\'}}F{o.2C[i]=y}if(I(x[i].KL)){o.aA[i]=x[i].KL[0]}}F if(I(x[i].6M)){o.2C[i]=x[i].6M}F{o.2C[i]=i}if(I(v.4Q)&&q==-1){if(v.4Q==o.2C[i]){q=i}}if(I(o.4Q)){if(o.4Q==o.2C[i]){q=i}}}if(v.je==1){o.2C[x.R]=2J("2t")}F{1F.LX=0;1F.gp=0}if(v.KE==1||q>-1){1F.gp=0;if(v.hF=="6z"||(!o.1y&&v.4F==0)){1F.uc=q}F{if(v.hF=="go"){1F.hP=q}}o.3n=q}F{if(v.je==1){o.3n=1F.cO.R-1}F{o.3n=1F.10C}}if(v.KK>0){1F.gp=x.R-v.KK*1-1}o8()}o.9N=2I(1F.cO[o.3n].9N,0);o.Q?o.Q.4H():\'\'}}E o8(){if(v.ca==1){sK();sI()}}E sK(){if(!2h&&v.ca==1){B x=1F.cw;o.7C=[];B 2L;B 1Z=-1;if(x.R>1){V(B i=0;i<x.R;i++){2L=L;if(I(x[i].gf)&&o.aA.R>0){if(x[i].gf!=o.aA[o.3n]){V(B j=0;j<o.aA.R;j++){if(o.aA[j]==x[i].gf){2L=H}}}}if(!2L){o.7C[i]=I(x[i].6M)?o.P.sJ(x[i].6M,i):i;if(I(v.aZ)){if(v.aZ==o.7C[i]){1Z=i}}}}}}if(1Z>-1){o.7i=1Z;1F.n8=1Z}}E sI(){if(!2h){B x=1F.cw;B y=1F.n8;if(y>-1){if(I(x[y].gf)){if(o.aA.R>0){if(o.aA[o.3n]!=x[y].gf){V(B i=0;i<x.R;i++){if(x[i].6M==x[y].6M&&x[i].gf==o.aA[o.3n]){1F.n8=i;y=i;1k}}}}}o.7i=y;1v("8I 10o",o.7i);o.Q.mR(o.7i)}}};G.gh=E(x,y){gh(x,y)};E gh(x,y){if(1f.cw.R>1){1f.cw[x].uY=H;1f.cw[y==1?0:o.al].uY=L;o.al=x;y!=1?1f.cA=o.P.1b():\'\'}}E 4w(){if(6v){K 6C?o.3U.1b():0}F{K 1f.cA}};E 3Y(){B x=1f.1q;if(x==10p){v.5r=1;x=4w()+10;if(o.cM){x<o.cM?x=o.cM:\'\'}o.cM=x}if(6v&&6C){x=o.3U.1q()}if(I(v.4p)){if(7c([v.4p],\'-\')){x=x+v.4p*1}F{x=v.4p}}K!sH(x)?x:0}G.2D=E(){B p=H;if(4R&&!sP){if(!am){et(H)}1F.KJ()}if(6v&&!6C){nW(H);p=L}if(9y){if(!ta){t8()}ws.1B();p=L}if(1f.C.1d=="-10q"){G.gk()}p?hQ():\'\'};B 10u;E hQ(){if(W!="28"){B pp=1f.1B();if(pp!==1Q){pp.bL(E(){}).2T(E(2m){1v("11t",2m.9L);if(2m.9L.J(\'b8\')==-1&&2m.9L.J(\'11u by\')==-1){if(v.sV==1){1v(\'11d\');o.U.5d();1f.1J=0;B sT=1f.1B();if(sT){sT.bL(E(){}).2T(E(e){1v("12W",e.9L);if(o.1l.tv&&(4R||6v)){}F{o.Q.3e();o.U.8E();js("11g")}})}}F{o.Q.3e();o.U.8E()}}})}}}G.lM=E(){if(o.5H||o.29){if(o.9z){ei()}if(!o.hw&&o.1l.2j&&o.1l.3L){if(!1f.3C){1f.3C=H;lT=H}O(1f,{"1r":"2A","1e":-3X,"1d":-3X});cC=4w();if(!9y){1f.1B()}if(cC==0&&o.2c>0){i3=o.2c}}}};G.gk=E(){if(!o.hw&&(o.1l.2j||o.1l.3L)){O(1f,{"1r":"nN","1e":0,"1d":0});if(I(v.9w)){2E()}if(lT){!o.3C?1f.3C=L:\'\';lT=L}if(i3>0){o.2c=i3;i3=0}cC=-1}};G.3e=E(){1v(\'8j\');4m()};E 4m(){if(9y){ws.4m()}F{1f.4m()}};G.dv=E(){!1f.8j?3e():hQ()};G.43=E(x){if(6v&&6C){o.3U.47(x)}F{if(4R){if(v.11f==1&&x>0&&v7()){g0=1F.hP;1F.Ld=0}}1f.cA=x}};G.5d=E(){1f.3C=H};G.6y=E(){1f.3C=L;if(o.2p=="1F"&&o.1l.5o&&v.29==1){if(!I(o.Lb)){lL=H;1f.4m();1C(E(){1f.1B();lL=L},10);o.Lb=H}}};G.46=E(x){1f.1J=x};G.KX=E(){if(o.L0!=1f){B b8;B 9s;if(o.lJ[1f]){b8=o.lJ[1f];9s=o.uM[1f]}F{1S.lC=1S.lC||1S.10y;if(I(1S.lC)){3o{9s=1z lC();b8=9s.12z(1f);o.lJ[1f]=b8;o.uM[1f]=9s}2T(e){1v(e)}}}if(9s){B i5=9s.12M();i5.i5.5g=v.La;b8.L6(i5);i5.L6(9s.YN);o.uW=H;o.L0=1f}}};G.nG=E(){K!1f.8j};G.5z=E(){K v.5r==1||9y?H:o.5r};G.ai=E(){K 1f};G.v8=E(){4e(1f,{\'Q\':\'1\'});K H};G.4F=E(){4e(1f,{\'4F\':\'8Q\'});if(4R&&!am){et(L)}if(6v&&!6C){nW(L)}};G.6D=E(){B 7v="7L";if(1f.8j){7v="8j"}if(1f.7s){7v="7s"}K 7v};G.vf=E(x,y){2h=x;y.1R(1f);1G=y;if(x){if(v.2h.fW!=1){1f.3C=H}F{if(!o.3C){1f.3C=L}}nV();if(o.2C.R>0){if(4R){ir=o.3n;1F.gp=0;1F.hP=0}}}F{if(!o.3C&&v.2h.fW!=1){1f.3C=L}1f.1J=2O(v.2h.1J)?v.2h.1J:v.1J;vb();if(o.2C.R>0){if(4R){1F.gp=-1;if(ir>-1){ir<1F.cO.R?1F.uc=ir:\'\'}}}}};G.1b=E(){K 4w()};G.1q=E(){K 3Y()};G.9H=E(){B x=0;if(1f.8w){if(1f.8w.R>0){B y=4w();V(B i=0;i<1f.8w.R;i++){if((y>=1f.8w.1y(i)||y>=1f.8w.1y(i)-100)&&y<=1f.8w.4p(i)){x=1f.8w.4p(i)}}x==0?x=1f.8w.4p(1f.8w.R-1):\'\'}}if(I(v.4p)){B ed=v.4p;if(7c([ed],\'-\')){ed=3Y()}x>ed?x=ed:\'\'}K x};G.2t=E(){K v7()};E v7(){B x=L;if(4R){if(am){x=1F.LX}}F if(6v){if(6C){x=o.3U.2t()}}K x}G.42=E(){K{"Y":1f.nM,"1g":1f.fT}};G.2W=E(x){if(x){x=x.1M(/\\(5G\\)/g,2M.5G());W=x;o.ba!=2?o.ba=L:\'\';if(6v){if(6C){o.3U.b8(x)}}F if(4R){4R&&1F?1F.aB():\'\';et(o.1y);ug()}F{4e(1f,{\'2W\':x,\'3j\':0});v3();4m()}}};E v3(){if(o.1l.7t){B y=1f.fV;if(y){V(B i=0;i<y.R;i++){y[i].hN="Zs"}}y=1f.cw;if(y){V(i=0;i<y.R;i++){y[i].uY=(i==0?1:0)}}if(1S.15W){1f.1A(\'16f\',E(1h){o.5Y=1h.15R=="17l";!2h?o.U.jv():\'\'});1f.1A(\'16G\',E(1h){})}}ug();if(v.uj==1){1N LZ!=="1Q"?LZ(W,1f,1G):\'\'}}G.5Y=E(){1f.13X()};G.94=E(){ei()};E ug(){if(o.1l.3L){if(I(1f.13f)&&!o.1l.7O){o.94=H}if(1P.13h&&!1f.14m){o.94=H}}}E ei(){if(o.1l.7t){if(1f.14h==="oj-in-oj"){1f.M0("as");o.9z=L}F{1f.M0("oj-in-oj");o.9z=H}}F{if(!1P.14I){2l(\'1f.XK().bL(p => {o.9z = H;}).2T(2m => {o.9z = L;});\')}F{2l(\'1P.Pf().bL(ok =>{o.9z = L;}).2T(2m => {});\')}}};E rM(){o.9z=H};E rR(){o.9z=L};G.HY=E(x){if(6C){o.3U.tY(x)}};G.KB=E(x){if(6C){if(1f.8w.R>0){o.3U.14B(x)}}};G.14D=E(x){if(o.ws){o.ws.GY(ws,x,-1)}};G.14F=E(x){if(o.ws){o.ws.GY(ws,-1,x)}};G.GZ=E(x){if(am){B y=2K(x);if(x==1F.cO.R){y=-1;1F.gp=-1}if(v.hF=="go"){1C(8W,3V);1F.hP=y}if(v.hF=="6z"){1v("8I 6z 14k "+y);1F.uc=y}if(y==-1){o.3n=1F.o9}o8()}};G.o7=E(){K 1F};G.o5=E(){K 6C?o.3U.14e():L};G.9Y=E(){K 9Y()};E 9Y(){B x=0;if(am){if(1F.cO){x=1F.cO.R}}K x}G.cN=E(){K cN()};G.gn=E(){gn()};E gn(){if(1f){if(v.nc==1||v.4r==1){if(v.14f==1||v.4r==1){O(1f,{\'3W-na\':\'4r\'})}F{O(1f,{\'3W-na\':\'IG\'})}}F{O(1f,{\'3W-na\':\'ue\'})}}}G.4M=E(){2E()};E 2E(){if(v.9w){3H(\'1I\',6V(v.9w).1M(\'/\',\':\'))}}E cN(){B x=0;if(6C){x=o.3U.cO()}K x}G.H0=E(x){if(am){1F.n8=2K(x)}};G.gl=E(x,y){if(y=="1F"&&am&&uu){uu.14g(x)}if(y=="H1"&&am){if(aw[x]&&o.3G){V(B i=0;i<aw[x].R;i++){o.3G.us(aw[x][i])}}1C(E(){1F.H2=x},3V)}if(y=="3U"&&6C){o.3U.158(x)}};G.gg=E(x){if(x){1f.159=x}};G.sy=E(){B x=1f.155;B y=[];V(B i=0;i<x.R;i++){if(x[i].nU.nY()==\'aD\'){x[i].6T("hr",qF);y.2U(x[i])}}V(B i=0;i<y.R;i++){1f.3h(y[i])}o.qM=L};G.H3=E(x,y,z){if(x!=\'\'){if(x.J(\' or \')>0){B xx=x.2z(\' or \');x=xx[0]}B aD=1P.1T(\'aD\');aD.6e(\'2W\',x);aD.6e(\'7S\',y);aD.6e(\'15e\',\'qZ\');aD.6e(\'hN\',\'H4\');if(z){aD.6e(\'7J\',\'\')}1f.1R(aD);aD.1A("hr",qF)}};E qF(e){if(e.4y.7S&&o.3G){V(B i=0;i<o.3f.R;i++){if(o.3f[i]==e.4y.7S){o.3G.9a(i)}}}};G.hG=E(){K 2m?2m:\'\'};G.4g=E(){3R(o.15h);4R&&1F?1F.aB():\'\';6v&&6C?o.3U.15i():\'\';9y&&ws?ws.2L():\'\';1f.6T(\'2m\',qG);1f.6T(\'7s\',8H);1f.6T(\'1B\',av);1f.6T(\'4m\',ey);1f.6T(\'GX\',cd);1f.6T(\'jd\',jr);1f.6T(\'nv\',jq);1f.6T(\'H5\',c6);1f.6T(\'H7\',eC);1f.6T(\'8e\',8W);1f.6T(\'H8\',ap);1f.6T(\'H9\',rM);1f.6T(\'Ha\',rR);1f.2W=\'\';if(1G.nU=="Ks"){1G.rS.8S.3h(1f)}F{1G.3h(1f)}1f=1Y}};B te=E(){B b=[];B gE=[];B 5x=[];B 8e=L;B ol;B 7V=L;B 1j;B X;if(o.4C){o.4C.1m();o.4C=1Y}B n5;o.5T=[0.25,0.5,0.75,1,1.25,1.5,2];if(v.1j.13T==1&&I(v.1j.jk)){v.1j.jk=v.1j.jk.1M(/\\n/ig,\'\');o.5T=v.1j.jk.2z(",")}o.eD=7c(o.5T,1,H);o.an==3?o.an=o.eD:\'\';V(B i in o.5B){if(o.5B.2v(i)){!I(v.1j[i])?v.1j[i]=5:\'\';o[\'eE\'+i]=[\'+ \'+v.1j[i]+\'%\',\'&13U; \'+v.1j[i]+\'%\',(o.5B[i]*100+\'%\')]}}if(v.1t.eK==1&&o.1l.5o&&v.gN==1){v.1t.1m=0}B nP=L;B 8Y=0;B lE=0;B fc=L;B ye=H;B hJ;B bg=1z xt();B 1j;B 5f=[];B rW=L;B rX=L;B jg=0;B cq=[];if(v.gF.1r=="Q-2o"){v.gF.1r="Q"}V(B y in v){if(v.2v(y)){if(y.J("ao")==0&&v[y]){!I(v[y].rV)?v[y].rV=v[y].5f:v[y].5f=v[y].rV;if(5f[v[y].5f]){v[y].5f+=v[y].5f}5f[v[y].5f]=y;if(v.gF.1r!="Q"){if(v[y].1r=="Q-2o"){cq.2U([y,v[y].5f]);rW=H}F{if(v[y].1r=="Q"||v[y].1r==1Q){rW?rX=H:\'\'}}}jg<v[y].5f?jg=v[y].5f:\'\'}}}if(rX){cq.Hb(E(a,b){K a[1]-b[1]});V(B i=0;i<cq.R;i++){5f[v[cq[i][0]].5f]=1Y;v[cq[i][0]].5f=jg+1;jg++;5f[v[cq[i][0]].5f]=cq[i][0]}}if(v.1t.1m==1&&v.1t.dx==1){o.1t=1T("26");o.1U.1R(o.1t);O(o.1t,{\'1r\':\'2A\',\'1e\':0,\'1d\':0,\'Y\':\'100%\',\'1g\':\'100%\',\'5i\':\'1d 0.3s 6A-5y\',\'4j-3i\':\'28\'})}B 7G=1T("26");if(v.1t.1m==1&&v.1t.dx==1){o.1t.1R(7G)}F{o.1U.1R(7G)}B aP;if(v.1t.13P==1){aP=1z xt(H)}O(7G,{\'1r\':\'2A\',\'1e\':0,\'2V\':0,\'Y\':\'100%\',\'1g\':v.1t.h});7G.aI=E(){!o.1l.2j?o.U.Hc():\'\'};if(v.vu==1){3l(bg.c());3l(7G)}V(B i=1;i<5f.R;i++){if(5f[i]){B y=5f[i];if(y){B 1i=v[y].1i;B 13L=v[y].1m;if(o.1l.2j){if(1i=="1J"&&v[y].7Y=="53"){}F{if(1i=="1J"&&v.13N==1&&o.1l.2j){v[y].l0=0}F{if(1i=="1J"||(1i=="2a"&&v.15m)){v[y].on=0}}}if(1i=="aJ"){v[y].16O==1?v[y].on=0:\'\'}}F{if(1i=="aJ"){v[y].16N==1?v[y].on=0:\'\'}}if(v[y].1m==1){if(v[y].HR==1&&I(v[y].nX)){2G[v[y].nX]?v[y].on=0:\'\'}if(v[y].HS==1&&I(v[y].nk)){!2G[v[y].nk]?v[y].on=0:\'\'}}if(v.vu==1){v[y].on=0}if(v[y].on==1){if(1i=="2N"||1i=="1J"){b[y]=1z G8(y,1i);b[y].2E(b[y].s("w"))}F{b[y]=1z FJ(y)}gE.2U(y);if(b[y].g("1i")=="1O"){if(b[y].s("1D")==\'\'){if(b[y].s("B")!=\'\'){if(!I(v[b[y].s("B")])){b[y].1Z("2k",L)}}F{b[y].1Z("2k",L)}}}if(b[y].g("1i")=="4W"){B lu=b[y].s("3g");if(lu){if(lu.J("3v:")==0&&lu.J(",0/1")>0){B z=lu.2z(",");3H(z[0].1n(4))==0?b[y].ch(0):\'\'}if(7c([lu],"2u")){o.fs=H}}}b[y].1Z("1I",b[y].s("1I"))}}}}if(I(v.1j)){if(1N(7W)==\'E\'){1j=1z 7W("1j");v.1j.7U==1?1j.1u():1j.1m()}F{o.16L=H}}if(I(v.X)){if(1N(7W)==\'E\'){X=1z 7W("X");if(I(o.X)){X.wf(o.X);if(v.X.qa==0||!I(v.X.qa)){v.X.7U==0?X.1m():\'\'}F{X.1u()}if(v.X.Hd==1){X.1u()}}F{X.1m(1)}iy()}}oi();z8();2E(H);4o();vs();ye=L;E GM(S){B x=0;B 16H=L;if(S){if(S.g("1i")==\'2N\'){x=5x.1e+S.s("4s")+S.g("Y")/2;if(5x.fJ!=1Y){}F{5x.fJ=[]}}F{if(5x.fJ!=1Y){B cr=S.g("Y")+S.s("4I")+S.s("4s");if(f4(S)){cr=0}if(S.s("3k")==1&&!S.g("1u")){cr=0}if(S.s("bi")>0){cr=0}x=bg.g("w")-v.1t.jM*1-cr+S.g("Y")/2+S.s("4s");B i=0;5x.2o-=cr;V(i=0;i<5x.fJ.R;i++){B cP=b[5x.fJ[i]];if(cP.s("bi")>0){O(cP.c(),{"1e":(cP.g("x0")-cr)})}F{O(cP.c(),{"1e":(cP.g("x")-cr)})}cP.1Z("x0",cP.g("x"))}5x.fJ.2U(S.g("1c"));S.1Z(\'eW\',1)}F{if(S.s("3k")==1&&!S.g("1u")&&!S.g("gw")){if(S.g("1i")=="1J"){if(S.s("1m")==1&&S.s("l0")==1&&fc){8Y+=S.g("Y")+S.s("4s")+S.s("4I");fc=L}}}F{if(S.s("bi")>0){x=5x.1e+S.s("4s")+S.s("4I")}F{B 2L=L;if(S.g("1i")=="1J"){if(S.s("1m")==1&&S.s("l0")==1&&!S.g("gw")){if(!o.eu&&!o.9e){2L=H;fc=L}F{if(!fc){8Y-=S.g("Y")+S.s("4s")+S.s("4I");fc=H}}}}if(f4(S)){2L=H}if(!2L){5x.1e+=S.g("Y")/2+S.s("4s");x=5x.1e;5x.1e+=S.g("Y")/2+S.s("4I")}F{x=5x.1e}}}}}}K x};G.He=E(){oi();if(X&&v.X.7U&&!o.1y){X.1u()}};G.Iq=E(){oi()};E oi(){if(o.fs){1N sg==\'E\'?o.2u=1z sg():\'\'}}E yd(S){B Y=o.2a&&v.1t.kN==0?o.au:o.3b;B 1g=o.4N;B bu=0;if(S!=bg){bu=Y/2+S.s("4s")-S.s("4I")}B eH=1g/2;B sm=S.g("Y");B nQ=S.g("1g");B p=S.s("1r");if(p.J("6k")>-1){bu=o.3b/2+S.s("4s")-S.s("4I")}if(p.J("1d")==0){eH=nQ/2+(S.s("GV")*o.4N/100)}if(p.J("2V")==0){eH=o.4N-(S==bg?nQ:nQ/2)-(S.s("H6")*o.4N/100)}if(p.J("2o")>-1){bu=o.3b-sm/2+S.s("4s")-S.s("4I")-(S.s("GF")*o.3b/100)}if(p.J("1e")>-1){bu=sm/2+S.s("4s")-S.s("4I")+(S.s("j3")*o.3b/100)}if(p.J("9r")>-1){eH=-o.pU/2-(S.s("H6")*o.pU/100)+(S.s("GV")*o.pU/100);bu=(p=="9r"?-1:1)*o.zj/2+(S.s("j3")*o.zj/100)+S.s("4s")-S.s("4I")}if(p.J("Q")>-1){B cx=GM(S);bu=(bg?(bg.c()?5h(bg.c().jJ):0):0)+cx;if(p=="Q-2o"){bu+=8Y}if(v.1t.1r=="1d"){eH=v.1t.h/2-(v.dI<0?v.dI:0)}F{eH=1g-v.1t.h/2}}K{x:bu,y:eH+S.s("8Z")-S.s("do")}}E 2E(9S){B w=o.2a&&v.1t.kN==0?o.au:o.3b;B h=o.4N;if(v.1t.15K==1){v.1t.GE=2O(v.1t.GU)&&o.ah?v.1t.GU:v.1t.rt;v.1t.jM=o.3b*v.1t.GE/100}F{v.1t.jM=v.1t.rt}O(bg.c(),{\'1d\':(v.1t.1r=="1d"?0:o.4N-v.1t.h)-v.dI});bg.1Z("y0",(o.4N-v.1t.h-v.dI));if(v.1t.kN==0&&bg){O(bg.c(),{\'Y\':w,\'1e\':0,\'2F-1e\':0});bg.1Z("w",w);if(o.2a){O(bg.c(),{\'1e\':\'50%\',\'2F-1e\':-w/2})}}5x={"1e":v.1t.jM*1,"2o":(bg.g("w")-v.1t.jM*1)};B rf=L;if(!bg.g("1u")){bg.1Z("2k",H);rf=H}B 1c;V(B i=0;i<gE.R;i++){1c=gE[i];if(b[1c]){B cc=yd(b[1c]);if(cc){if(b[1c].s("5S")=="1r"){if(I(o.7p[1c])){if(b[1c].g("x0")==cc.x&&b[1c].g("y0")==cc.y){3w}F{o.7p[1c].XY(b[1c].g("x0"),cc.x,b[1c].g("y0"),cc.y)}}}b[1c].1Z("x0",cc.x);b[1c].1Z("y0",cc.y);if(b[1c].s("3k")==1&&!b[1c].g("1u")&&!9S){zi(b[1c])}F{O(b[1c].c(),{"1r":"2A","1e":b[1c].g("x0"),"1d":b[1c].g("y0")})}}}}if(rf){bg.1Z("2k",L)}8Y=0;V(1c in b){if(b.2v(1c)){if(b[1c].s("1r")=="Q-2o"&&b[1c].g("1i")!="2N"&&8Y>-1){8Y=5x.2o-5x.1e}if(b[1c].g("1i")=="2N"&&bg){B de;B ml=b[1c].s("4s")+b[1c].s("j3")*o.3b/100;B mr=b[1c].s("4I")+b[1c].s("GF")*o.3b/100;if(b[1c].s("16e")==1){if(b[1c].s("16s")==1){de=(o.3b*b[1c].s("w")/100)-ml-mr}F{de=b[1c].s("w")}}F{if(b[1c].s("1r").J("Q")>-1){de=5x.2o-5x.1e-ml-mr;O(b[1c].c(),{"1e":(5h(bg.c().jJ)+5x.1e+ml+de/2)});8Y=-1}F{de=bg.g("w")-ml-mr;O(b[1c].c(),{"1e":(5h(bg.c().jJ)+ml+de/2)})}}b[1c].1Z("x0",b[1c].g("x"));b[1c].2E(de)}}}if(1j){j8(1j)}if(X){j8(X)}if(nP||o.2a||lE!=8Y){4o()}}E zi(b){B 1e=0;B 1d=0;if(b.s("1r").J("2o")>-1&&b.s("1r").J("Q")==-1){1e=o.3b+b.g("Y")+10}if(b.s("1r").J("1e")>-1){1e=-b.g("Y")-10}if(b.s("1r").J("1d")>-1){1d=-b.g("1g")*2}if(b.s("1r").J("2V")>-1||b.s("1r").J("Q")>-1){1d=o.4N+b.g("1g")+b.g("Y")+10}if(1e>0){O(b.c(),{"1e":1e})}if(1d>0){O(b.c(),{"1d":1d})}}E j8(x){B 1d=-3X;x.j9();B y=o.4N-v.1t.h*(x.s("1r").J("1d")>-1?1:2);if(x==X&&v.uI==1){y=o.4N}B jE=y-(o.2a&&!o.1l.2j?(100+x.s("jF")*1):x.s("jF"))-(x==X&&x.s("jF")*1==0?x.s("8Z"):0);jE<100?jE=100:\'\';O(x.c(),{\'6n-1g\':jE});x.co()?O(x.co(),{\'6n-1g\':jE}):\'\';if(x.g("1u")){1d=o.4N/2-x.g("1g")/2+x.s("8Z")-x.s("do");if(x.s("1r").J("1d")>-1){1d=x.s("8Z")-x.s("do")}if(x.s("1r").J("2V")>-1){1d=o.4N-(v.1t.1r!=\'1d\'?v.1t.h:0)-x.g("1g")+x.s("8Z")-x.s("do")}1d<0?1d=0:\'\'}if(x.g("1c")=="1j"&&o.cS){B GG=o.3b-x.g("Y")-x.s("4I");if(o.cS>GG){O(x.c(),{"1r":"2A","2o":x.s("4I"),"1e":"2t","1d":1d})}F{O(x.c(),{"1r":"2A","1e":o.cS,"2o":"2t","1d":(o.iR<1d?o.iR:1d)})}}F{if(x.s("1r").J("2o")>-1){O(x.c(),{"1r":"2A","2o":x.s("4I")-x.s("mu"),"1e":"2t","1d":1d})}F if(x.s("1r").J("1e")>-1){O(x.c(),{"1r":"2A","1e":x.s("4s"),"2o":"2t","1d":1d})}F{if(x.g("1c")=="X"&&x.s("3A")==1){O(x.c(),{"1r":"2A","1e":o.3b/2-x.g("Y")/2+x.s("4s")/2-x.s("4I")/2,"1d":1d})}F{B l=o.3b/2-x.g("Y")/2+x.s("4s")-x.s("4I");O(x.c(),{"1r":"2A","1e":(l>0?l:0),"1d":1d})}}}x.9P()};G.fB=E(1c){B S=b[1c];B a=S.g("1i");if(a){B d=1z 6S();o.a2=d.9j();if(a&&a!=""){4Z(S);a=="4m"?o.GH=1:\'\';a=="1B"?o.GH=0:\'\'}}pY()};G.rr=E(z,x,y){V(B 1c in b){if(b.2v(1c)){if(b[1c].s(z)==x){b[1c].1Z(y?"6K":"3l")}}}};G.rw=E(x,s){B y=7y(s,x);K y};E 4Z(S,1H){o.qd=H;n5=S;B a=S.g("1i");if(a=="1B"){o.U.2D();if(o.3C&&v.GI==1){o.U.6y();v.GI=0}if(v.1W.on==1&&v.1W.2H==1&&v.1W.rv==1){7A(\'1B\',1)}js("GJ")}F{if(a=="4m"){o.mz=0;o.U.3e();if(v.1W.on==1&&v.1W.2H==1&&v.1W.rv==1){7A(\'1B\',0)}js("GK")}if(a=="2L"){o.U.mB()}}if(a=="GD"){o.U.43(0,L)}if(a=="2a"){!o.5j?o.U.9C():\'\'}F{if(a=="rz"){o.U.8p()}}if(a=="2N"){B ld=o.P.1q();B lt=S.g("2B")*ld;if(v.4A>0){ld-=v.4A*1;lt=S.g("2B")*ld+v.4A*1}if(v.iQ>0){if(v.iQ/ld<=1-S.g("2B")){K}}js(a,lt);o.U.43(lt,H);if(o.3w){o.3w.mE(lt,ld);o.2c>0?o.2c=1Q:\'\'}js("lq",lt)}if(a=="1J"){B x=S.g("2B");x<0.10d?x=0:\'\';x>1?x=1:\'\';if(S.s("7Y")=="53"){x=3T(x*o.5T.6Y(-1)[0]).xq(1);o.U.9x(x,1)}F if(S.s("7Y")=="xr"){o.P.GL(x)}F{if(o.5q&&v.sB==1){3a.7Q("sD",x);if(S.g("2B")>0||o.1l.7O||v.mA==0){3a.rE("kE")}F{3a.7Q("kE",1)}}o.U.46(x)}}if(a=="5e"){if(o.5q&&!o.1l.7O&&v.mA==1){3a.7Q("kE",1)}o.U.5d();if(v.1W.2H==1&&v.1W.GN==1){7A(\'5e\',0)}}F{if(a=="aq"){if(o.5q){3a.rE("kE")}o.U.6y();if(v.1W.2H==1&&v.1W.GN==1){7A(\'5e\',1)}}}if(a.J("1b")==0){S.ZP()?S.hD():S.On()}if(a=="qh"){o.P.vA()}if(a=="1I+"){o.P.dw(0.1)}if(a=="1I-"){o.P.dw(-0.1)}if(a=="1I"){o.P.dw(0)}if(a=="5r"){3H("wE");S.1Z("xu",1);S.1Z("eV",1)}if(a=="2u"){js("2u");za()}if(a=="1j"){o.cS=1Q;if(1j){if(!1j.g("1u")){1j.1u()}F{1j.1m()}}}if(a=="X"){if(o.gO==a){K}o.Q.hS()}if(a=="6z"){o.Q.aG()}if(a=="bH"){o.Q.dz()}if(a=="4W"){if(S.s("gI")==1&&S.s("3g")!=""){B x=4L(S.s("3g"));if(o.gO==a+x){K}if(x.J(\'{1b}\')>-1){x=x.1M(\'{1b}\',(I(o.3w)?o.3w.9Q().t:o.P.1b()))}if(x.J(\'{3z}\')>-1){x=x.1M(\'{3z}\',o.P.cv())}if(x.J(\'{1O}\')>-1){x=x.1M(\'{1O}\',v.1O.1M(/,/ig," "))}if(x=="5Y"){o.P.gX()}if(x.J(\'6U\')==0){if(S.s("6U")>0){o.U.43(o.bP?o.bP.ZO():S.s("6U"))}}if(x.J(\'ZI\')==0){if(o.bP){o.bP.ZM()}}if(x=="Y6"){o.U.43(S.s("j3")*o.P.1q()/100);!o.1B?o.U.2D():\'\'}S.s("GO")==1?o.U.3e():\'\';B y=x.2z(",");if(x.J("3v:")==0){B z=x.1n(4).2z(";");V(B i=0;i<z.R;i++){y=z[i].2z(",");if(y.R>1){if(y[0]==\'47\'){if(v.1W.2H==1&&v.1W.Yd==1){7A(\'47\',y[1]>0?1:0)}}3H(y[0],y[1],S);js("lq",y[1]);y[1]==\'0/1\'||y[1]==\'1/0\'?rq():\'\'}F{if(y[0]=="GP"){B ss=3H(y[0]);if(ss){if(ss.J("2b")>-1){if(v.Y1==1){B 4c=1P.1T(\'4c\');4c.6e(\'2W\',ss);O(4c,{1r:"vj",2o:(I(v.mK)?v.mK:20),2V:(I(v.mK)?v.mK:20),Y:0,5i:"Y 0.5s c4-YI(.75,-0.5,0,1.75)"});4c.C.4T=GQ;1P.8S.1R(4c);1C(E(){O(4c,{Y:(I(v.GR)?v.GR:4B)})},1);4c.aI=E(){G.4k.3h(G)}}if(v.Yp==1){B a=1T("a");a.8k=ss;a.6Q=y[0]+".iH";a.2B()}}}F{1v(y[0]+" 2m")}}F{3H(y[0])}}}}F{if(x.J("js:")==0){if(x.J("(")>0&&x.J(")")>0){2l(x.1n(3))}F{2l(y[0].1n(3)+\'(\'+(I(y[1])?\'"\'+y[1]+\'"\':\'\')+(I(y[2])?\',"\'+y[2]+\'"\':\'\')+\')\')}}if(x.J("1h:")==0){yK(x.1n(6),o.P.1b())}if(x.J("2u:")==0&&o.2u){o.2u.3v(x.1n(6))}if(x.J("yL:")==0&&o.6j){3H("yL",x.1n(7))}if(x.J("3r")==0||x.J("/")==0||x.J("?")==0||x.J("W:")==0){x.J("W:")==0?x=x.1n(4):\'\';1S.5U(x,S.s("GS"))}if(x.J("6Q")==0){o.U.iM()}if(x=="3v:94"){o.P.ei()}}if(x.J("1j#")>-1){if(1j){B si=x.1n(9).2z(",");if(1j.g("1u")&&1j.g("5U")==si[0]){o.cS=1Q;o.iR=1Q;1j.1m()}F{o.cS=S.g("x")-S.g("Y")/2;o.iR=S.g("y")+S.g("h");V(B i=0;i<si.R;i++){i==0?1j.1u():\'\';1j.5U(si[i])}X?X.GT():\'\'}}}if(x.J("1j:")>-1&&v.1j.YA==1){if(!o.4C){o.4C=1z 12a()}if(v.1j.fj==1){if(1H=="6G"){o.4C.1u(x)}F{o.4C.im(x)}}F{if(!1H){o.4C.im(x)}}}if(x=="Fl"){o.U.fx();o.xg=0;S.1Z("3l");B bl=7y("3g","4d");if(bl){bl.1Z("3l")}}if(x=="4d"){S.6x("OK");S.s("oJ")?1S.8D.8k=4L(S.s("oJ")):\'\'}}}};G.1O=E(t){B y=L;V(B x in b){if(b.2v(x)){if(b[x].g("1i")=="1O"){if(b[x].s("B")==t||t=="1O"){if(b[x].s("1m")==1&&b[x].s("xc")==1&&o.1B){y=H}if(v[t]==\'\'||y){b[x].1Z("2k",L)}F{b[x].1Z("2k",H)}b[x].6x(v[t])}}}}yD()};G.Hf=E(){yD()};G.xT=E(){V(B x in b){if(b.2v(x)){if(b[x].g("1i")=="4W"){if(b[x].s("1H")=="1D"){b[x].9A()}}}}};E yD(){V(B x in b){if(b.2v(x)){if(b[x].g("1i")=="4W"){if(b[x].s("1H")=="1D"){b[x].Gx(H)}}}}}E za(){if(I(o.2u)){o.2u.jQ()}}G.GW=E(){za()};G.IN=E(){if(v.1O!=\'\'){V(B x in b){if(b.2v(x)){if(b[x].g("1i")=="1O"){B y=L;if(!b[x].g("1u")){y=H;b[x].1Z("2k",H)}b[x].6x(v.1O);if(y){b[x].1Z("2k",L)}}}}}};G.z9=E(){z8()};E z8(){if(v.8X){if(1N(v.8X)=="3W"){V(B x in v.8X){if(v.8X.2v(x)){jx(x,v.8X[x])}}}}};G.Hg=E(y,z){jx(y,z)};G.z5=E(x){if(b[x]){b[x].zb()}};G.HC=E(){V(B x in b){if(b.2v(x)){if(b[x].g("xl")){b[x].zb()}}}};E jx(y,z){if(y){V(B x in b){if(b.2v(x)){if(b[x].g("xl")){if(b[x].s("4O")==y){if((!b[x].g("1u")||b[x].s("3k")==1)&&!f4(b[x])){b[x].1Z("Gq");b[x].1Z("2k",H)}b[x].jx(z)}}}}}};G.4M=E(){2E()};G.HF=E(){2E(H)};G.lr=E(){j8(1j)};G.j9=E(){j8(X)};G.2D=E(){V(B x in b){if(b.2v(x)){if(b[x].g("1i")=="1B"){b[x].On()}}}o.cV?o.cV.1m():\'\';yV();o.1B=H;4o()};G.3e=E(){V(B x in b){if(b.2v(x)){if(b[x].g("1i")=="4m"||b[x].g("1i")=="2L"){b[x].hD()}}}if(X){if(v.X.Fu==1&&!X.4E()){X.1u()}}o.1B=L;G.8a();4o();if(v.1t.1m==1&&v.1t.fH==1){h0(H)}};G.5d=E(){V(B x in b){if(b.2v(x)){if(b[x].g("1i")=="5e"){b[x].On()}G.46(0)}}4o()};G.6y=E(){V(B x in b){if(b.2v(x)){if(b[x].g("1i")=="aq"){b[x].hD()}}}if(v.1J<0.1){v.1J=0.5;o.U.46(v.1J)}F{G.46(v.1J)}4o()};G.46=E(1J,y){V(B x in b){if(b.2v(x)){if(b[x].g("1i")=="1J"){if(!b[x].s("7Y")||b[x].s("7Y")=="1J"){b[x].6P(1J,1,(y=="no"?y:H))}}if(b[x].g("1i")=="5e"){b[x].vY(1J)}}}4o()};G.9C=E(){B bl=7y("1i","2a");if(bl){bl.On();bl.1Z("1I",bl.s("1I"))}4o();nP?1C(4o,3V):\'\';if(o.2a&&o.FR){if(o.1l.iY||o.1l.tv){1C(2E,10)}}h5();yX()};G.8p=E(){B bl=7y("1i","2a");if(bl){bl.hD()}2E();3R(o.hy);4o();yX()};E yX(){if(o.cS){o.cS=1Q;o.iR=1Q;1j.1m()}}G.8H=E(){V(B x in b){if(b.2v(x)){if(b[x].g("1i")=="1B"){b[x].zr()}}}};G.tV=E(){4o()};G.Ii=E(){yV()};E yV(){if(X){if(X.g("1u")&&v.X.gH==1){o.Q.bE()}}}E 4o(){V(B x in b){if(b.2v(x)){if(b[x].g("1i")!="aJ"){bR(b[x])}}}bR(bg);if(lE!=8Y){lE=8Y;2E()}if(v.1t.1m==1&&v.1t.dx==1){f6(!o.gD&&!o.5c&&!o.2a&&o.1B&&v.1t.eK!=1&&!o.5j)}};E jp(){B 1u=7V&&v.1t.jP==1;if(v.1t.1m==1){if(!o.1B&&v.1t.fH==1){1u=L}}if(1u){V(B x in b){if(b.2v(x)){if(b[x].g("1i")!="aJ"){bR(b[x],L)}}}O(o.1U,{"6u":"7J"});o.jz=H;bR(bg,L);if(bg.g("1u")){jh()}f6(L)}}E h0(){B 1m=o.1B&&v.1t.jP==1&&!o.3I;if(o.dM&&v.1t.12O==1){1m=L}if(!o.1B&&v.1t.1m==1&&v.1t.fH==1){1m=H}if(1j){if(1j.g("1u")&&o.o0){1m=L}}if(o.5j){1m=L}if(1m){V(B x in b){if(b.2v(x)){if(b[x].g("1i")!="aJ"){bR(b[x],H)}}}bR(bg,H);if(!bg.g("1u")){7V=H;o.P.yf();if(o.1B){O(o.1U,{"6u":"28"});o.jz=L}}f6(H)}}E h5(){if(v.1t.jP==1){if(v.1t.eK==1&&!o.2a&&!o.bj){}F{3R(o.hy);o.hy=7g(h0,((v.1t.9u>0?v.1t.9u:v.1t.jc)*2n))}}}E bR(S,d6){B 1m=L;B 1u=L;B d5=L;if(v.1t.1m==1){if((!o.gD&&!o.5c&&!o.2a&&o.1B&&v.1t.eK!=1&&!o.5j)||(o.2a&&7V&&!o.jz)||(o.U.gC()&&o.7s&&!o.5c)){1m=H;1u=L;d5=H}F{1m=L;1u=H}if(I(d6)&&!o.5j){1m=d6;1u=!1m}if(v.1t.1m==1&&v.1t.dx==1&&(S.s("1r").J("Q")==0||S.s("1i")=="2N")){1m=L;1u=H}if(v.1t.fH==1&&!o.1B){1m=H;1u=L;d5=L}if(v.1t.12P==1&&!o.8Q&&o.1B){1m=L;1u=H}}F{if(S.s("1m")!=1){1u=H}}if(1u&&!o.jz){O(o.1U,{"6u":"7J"});o.jz=H}B a=S.g("1i");if(a=="4W"&&S.s("1r").J("Q")==-1){1m=L;1u=H}if(o.5j){if(a=="2N"){if(o.P.1q()==-1){1m=H;1u=L}}}B yc=L;B hp=f4(S);if(S.s("1m")==1){if(S.s("12n")==1){if(d5||d6||(o.1B&&!o.5c)){!d5&&!d6?\'\':hp=H}}if(S.s("12o")==1){if(!d5&&!d6){hp=H}}if(S.s("12p")==1){if(o.1B&&!o.5c){hp=H}}if(S.s("HE")==1||S.s("HK")==1||S.s("HT")==1){nP=H}}if(hp){1m=H;1u=L}F{!1m?1u=H:\'\'}if(S.s("1i")=="1J"){if(S.s("1m")==1&&S.s("l0")==1&&!S.g("gw")){1m=H;1u=L;if(!d5&&(o.9e||o.eu)&&!d6&&S.s("dO")!=1){1m=L;1u=H}F{yc=H}}}if(o.a0||(!o.1y&&v.1t.1m==1&&v.1t.yw==1)||(!o.8Q&&v.1t.1m==1&&v.1t.HU==1)||(!o.2a&&v.1t.1m==1&&v.1t.12s==1)){if(S.s("1r").J("Q")>-1||S.s("1r").J("2V")>-1){1m=H;1u=L}if(v.1t.eK==1&&!o.2a){1m=L;1u=H}}if(1j){if(1j.g("1u")&&v.1j.7U!=1){d5=L;d6=L}}if(X&&o.3c){if(v.X.12u==1){if(o.3c.HG()){K}}}if(a=="2u"){if(I(o.2u)){if(o.2u.4E()){1m=H;1u=L;S.1Z("5S","28")}}}if(a=="X"||a=="6z"||a=="bH"||S.s("HH")==1){if(X){if(X.4E()&&S.s("HH")!=0){1m=H;1u=L;S.1Z("5S","28")}}F{1m=H;1u=L}}if(o.10T==1){1m=H;1u=L}if(yc){B cc=yd(S);if(cc){cc.y>0?S.1Z("y0",cc.y):\'\';O(S.c(),{"1r":"2A","1d":S.g("y0")})}}if(1m){ar(S,(ye?H:L))}if(1u){HB(S)}if(S==bg){if(!1m&&1u){jh();6K(7G);aP?aP.1Z("1E",aP.s("a")):\'\';7V=L;hJ==0?js("ui",1):\'\';hJ=1;o.6s&&o.9T?o.6s.1u():\'\'}if(1m&&!1u&&!o.5j){o.P.yf();cE();3l(7G);aP?aP.1Z("1E",0):\'\';7V=H;hJ==1?js("ui",0):\'\';hJ=0;o.6s&&o.9T?o.6s.1m():\'\'}if(1j){if(1j.tb()){if(!1j.g("1u")){1u&&!1m?1j.1u():\'\'}F{!1u&&1m?1j.1m(2):\'\'}}}if(X){if(v.X.7U==1&&!X.4E()){if(1u||o.a0){if(v.X.HI==1&&o.2a){}F{if(!X.g("1u")){if(v.X.HJ==1){!o.1B?X.1u():\'\'}F{X.1u()}}}}F{if(1m&&X.g("1u")){X.1m()}}}}}};E f4(S){B x=L;B a=S.g("1i");if(S.s("1m")==1){if(S.s("xc")==1){o.1B?x=H:\'\'}if(S.s("fH")==1){!o.1B?x=H:\'\'}if(S.s("10B")==1){o.7s?x=H:\'\'}if(S.s("eZ")==1){x=H}F{if(S.s("11o")==1){if(o.1l.cJ){S.1Z("eZ",1);x=H}}if(S.s("11q")==1){if(o.1l.2j){S.1Z("eZ",1);x=H}}}if(S.s("HK")==1){if(o.3b>S.s("HL")){S.1Z("dO",1);x=H}F{S.1Z("dO",0)}}if(S.s("11w")==1&&!8e){x=H;o.oe=1}if(S.s("11x")==1&&8e){x=H;o.oe=1}if(S.s("HE")==1){if(o.3b<=S.s("HM")){S.1Z("dO",1);x=H}F{S.1Z("dO",0)}}if(S.s("10Y")==1){o.1y?x=H:\'\'}B t=o.P.1b();B d=o.P.1q();if(S.s("Fm")==1&&S.s("HO")>0){if(t>=S.s("HO")){x=H}}if(S.s("Fn")==1&&S.s("HP")>0){if(t<S.s("HP")){x=H}}if(S.s("Fo")==1&&S.s("HQ")>0){if(t<d-S.s("HQ")||d==0){x=H}}if(S.s("11h")==1){if(X){if(!X.bO()){x=H}}}if(S.s("11T")==1){if(o.1y||!o.3w||o.P.5z()){x=H}if(o.3w){if(o.3w.9Q().t==0){x=H}}}if(S.s("yw")==1){!o.1y?x=H:\'\'}if(S.s("pZ")>0){x=H}if(S.s("HR")==1){if(I(S.s("nX"))){2G[S.s("nX")]?x=H:\'\'}}if(S.s("Yf")==1){if(!I(S.s("8X"))){x=H}}if(S.s("HS")==1){if(I(S.s("nk"))){!2G[S.s("nk")]?x=H:\'\'}}if(S.s("165")==1&&o.1l.5o){!o.1y||o.nm?x=H:\'\'}if(S.s("166")==1){!o.P.7s()?x=H:\'\'}if(S.s("17g")==1){!o.P.5z()?x=H:\'\'}if(S.s("16J")==1){!o.5c?x=H:\'\'}if(S.s("13b")==1){!o.2a?x=H:\'\'}if(S.s("HT")==1){o.2a?x=H:\'\'}if(S.s("14S")==1){!o.3C?x=H:\'\'}if(S.s("14R")==1){o.P.5z()&&o.P.cv().J("?vG")==-1?x=H:\'\'}if(S.s("G3")==1){5V(o.2g)?x=H:\'\'}if(S.s("HU")==1){!o.8Q?x=H:\'\'}if(S.s("11E")==1){o.8Q?x=H:\'\'}if(S.s("12q")==1){o.ne?x=H:\'\'}if(S.s("10G")==1){!o.ne?x=H:\'\'}if(S.s("Gk")==1){if(S.g("jA")){x=H}}if(S.s("10l")==1){!o.ab?x=H:\'\'}if(S.s("10t")==1){o.ab?x=H:\'\'}if(S.s("10W")==1){if(v.4F==1&&v.e9==1){if(o.2p=="4J"&&!I(v.2g)&&v.zn==0){if(!o.1y||o.P.6D()=="7s"){if(v.2g==\'\'){}F{x=H}}}}}}if(a=="4W"){B lu=S.s("3g");if(lu){if(lu=="3v:5Y"||lu=="5Y"){if(!o.5Y&&!o.hw){x=H}}if(lu=="3v:94"){if(!o.94||(!o.1y&&v.4F==0)){x=H}}if(lu=="3v:HV"){if(!o.ne){x=H}}if(lu.J("6m")>-1){if(!o.6m){x=H}}if(7c([lu],"6U")&&!7c([lu],"js:")&&S.s("eZ")!=1){B sk=L;if(I(v.6U)){if(!o.bP){1N HN==\'E\'?o.bP=1z HN():\'\'}if(o.bP){sk=o.bP.zG(S)}}!sk?x=H:\'\'}}}if(a=="X"||a=="6z"||a=="bH"){if(X){if(X.4E()){x=H}}F{x=H}}if(a=="1j"){if(1j){if(1j.4E()){x=H;o.2p!=\'1F\'?S.1Z("5S","28"):\'\'}}F{x=H}}if(S.g("1H")=="1D"){if(S.g("R")==0){x=H}}if(S.g("1j#")){if(!S.g("1Z#4t")){x=H}}if(S.s("4i")==1){B cb=1P.7H("11a"+v.id);if((o.P.1q()==0&&o.P.1b()==0)||!o.4D||!5V(cb)||!o.11c){x=H}}if(S.s("xo")==1){!x?S.1Z("xo",1):\'\'}if(a=="1q"){if(o.P.5z()){x=H}}if(S.g("1c")=="xb"&&o.1l.2j){if(o.a0&&o.1l.aL){x=H}}K x}E ar(S,zh){if(S.g("1u")){if(o.bj||S.s("5S")=="28"||zh){S.1Z("2k",L)}F{Hr(S)}S.1Z("1u",L)}};E HB(S){if(!S.g("1u")){if(S.s("5S")=="28"||o.bj){S.1Z("2k",H);if(o.bj){S.1Z("1E",1)}if(S.g("1i")=="1J"){if(o.lk){zi(S)}}}F{HA(S)}if(S.s("1i")=="1J"){o.Q.46(o.3C?0:v.1J)}if(S.s("1i")=="2N"){o.U.zg()}S.1Z("1u",H)}};E Hr(S){zo(S.g("1c"));B 5O="gL|";B 5p="0|";B 1m=1;B a=S.s("5S");if(S.s("Hj")==1){5O=\'\';5p=\'\'}B p=S.s("1r");B iP=S.g("3t");2O(S.s("n1"))?p=S.s("n1"):\'\';if(a=="1I"){5O+="1I|";5p+="0|"}if(a=="1r"){if(p.J("2o")>-1&&p.J("Q")==-1){5O+="x|";5p+=5h(o.3b+S.g("Y")/2*iP)+"|"}if(p.J("1e")>-1){5O+="x|";5p+=5h(-S.g("Y")/2)*iP+"|"}if(p.J("1d")>-1){5O+="y|";5p+=(-S.g("1g")/2)*iP+"|"}if(p.J("2V")>-1||p.J("Q")>-1||p.J("9r")>-1){5O+="y|";if(S.g("1i")=="2N"||S.g("1i")=="1J"){5p+=5h(o.4N+S.s("h")+(S.s("h")<20?20-S.s("h"):0))+"|"}F{5p+=5h(o.4N+S.g("1g")/2)+"|"}}if(p=="6k"){5O+="1I|";5p+="0|"}}B m=1z 5K({"mc":S,"me":S.g("1c"),"1H":5O.1n(0,5O.R-1),"to":5p.1n(0,5p.R-1),"1m":1m})};E HA(S){zo(S.g("1c"));B 5O="";B 5p="";B a=S.s("5S");B p=S.s("1r");2O(S.s("n1"))?p=S.s("n1"):\'\';if(S.g("1E")!=1&&S.s("Hj")!=1){5O="gL|";5p=(S.g("1c")==\'bg\'?v.1t.a:"1")+"|"}if(a=="1I"){if(S.g("3t")!=S.s("1I")){5O+="1I|";5p+=S.s("1I")+"|"}}if(a=="1r"){if(p=="6k"){if(S.g("3t")!=S.s("1I")){5O+="1I|";5p+=S.s("1I")+"|"}}F{if(p.J("Q")>-1){if(S.g("y")!=S.g("y0")){5O+="y|";5p+=S.g("y0")+"|"}}F{5O+="x|y|";5p+=S.g("x0")+"|"+S.g("y0")+"|"}}}if(5O!=""&&5p!=""){B m=1z 5K({mc:S,me:S.g("1c"),1H:5O.1n(0,5O.R-1),to:5p.1n(0,5p.R-1),1u:1})}F{S.1Z("2k",H)}};G.jT=E(1c,1H,zh){B 4M=L;B 2L=L;B S=b[1c];B 1i=S.g("1i");B 3g=S.s("3g");if(1H=="6G"){if(o.lk){if(1i=="1J"||1i=="5e"||1i=="aq"){if(!S.g("gw")){o.9e=H;o.eu=H;4M=H;4o();if(v.gF.Hk==1){B bl=7y("1i","2N");if(bl){3l(bl.c())}}}}}if(1j&&v.1j.fj==1&&((1i=="1j"||3g.J("Hl")==0)||3g.J("1j:")==0)){2P(o.hb);if(!1j.g("1u")||n5!=S){4Z(S,1H);o.gO=1i+3g;1C(E(){o.gO=1Y},3V)}}if(X&&v.X.fj==1&&1i=="X"){2P(o.xV);if(!X.g("1u")||n5!=S){4Z(S,1H);o.gO=1i;1C(E(){o.gO=1Y},3V)}}}if(1H=="5y"){if(o.lk){if(1i=="1J"||1i=="5e"||1i=="aq"){o.9e=L;o.eu=H;1C(E(){if(!o.9e){o.eu=L;V(B x in b){if(b.2v(x)){if(!7V){if(b[x].g("1i")=="1J"&&!b[x].g("gw")){ar(b[x]);2E()}}if(b[x].g("1i")=="2N"){if(v.gF.Hk==1){6K(b[x].c())}}}}}},3V)}}if(1i=="2N"){o.U.6P(1)}if(v.1j.fj==1&&((1i=="1j"||3g.J("Hl")==0)||3g.J("1j:")==0)){2P(o.hb);o.hb=1C(E(){if(!o.3I){cE(1)}},(v.1j.fe>0?v.1j.fe*2n:2n))}if(X&&v.X.fj==1&&1i=="X"){2P(o.xV);o.xV=1C(E(){if(!o.3I){X.g("1u")?X.1m(1):\'\'}},(v.X.fe>0?v.X.fe*2n:2n))}}if(4M){1C(2E,10)}};G.nJ=E(){if(o.5w&&!o.2a&&!o.bj){o.U.5w(L);o.5w=L}if(o.2g){if(v.nE>-1&&5V(o.2g)){O(o.2g,{1E:v.nb})}}if(o.1B&&v.Hn==1&&v.10k!=0){o.U.3e()}if(v.1t.9u>0){2P(o.Hm);o.Hm=1C(4o,v.1t.9u*2n)}F{4o()}};G.Id=E(){if(o.2g){if(v.nE>-1&&5V(o.2g)){O(o.2g,{1E:v.nE})}}if(!o.1B&&v.Hn==1){o.U.2D()}4o();f6(L)};G.fR=E(bz,bB){B y;V(B x in b){if(b.2v(x)){y=b[x].g("1i");if(y=="2N"||y=="1J"){b[x].fR(bz,bB)}}}};G.td=E(){if(v.1t.1m==1){if(v.1t.eK==1&&!o.2a){K}if((!o.5c||o.1l.2j)&&o.P.6D()=="7L"){o.5c=H;4o();o.1l.2j?1C(E(){o.5c=L},3V):\'\'}if(v.1t.jP==1){jp();h5()}f6(L)}};G.g6=E(bz,bB){V(B x in b){if(b.2v(x)){if(b[x].g("1i")=="2N"||b[x].g("1i")=="1J"){b[x].g6(bz,bB)}}}};G.ej=E(1b,1q,Ho){V(B x in b){if(b.2v(x)){if(b[x].g("1i")=="2N"){b[x].6P(1b,1q,Ho)}if(b[x].g("1i")=="1b"){dY(b[x],1b,1q)}if(b[x].s("FT")==1){b[x].vA()}if(b[x].s("FS")==1){b[x].FZ(1b,1q)}if(b[x].s("Fi")==1){if(b[x].s("3g")=="Fp"||b[x].s("3g")=="9N"){1N Hp==\'E\'?Hp(b[x]):\'\'}if(b[x].s("Fq")==1&&!b[x].g("1u")&&7V){}F{if(b[x].g("1u")==f4(b[x])){4o();2E()}}}}}};E f6(x){if(v.1t.1m==1){x?cE():\'\';if(v.1t.dx==1){if(!o.1B&&v.1t.fH==1){x=H}if(x&&!o.w9){O(o.1t,{"1d":bg.h()})}if(!x&&o.w9){O(o.1t,{"1d":0})}o.w9=x}}}E jh(){7V=L;o.P.jh();if(o.vC){o.vC=L;2E();1C(2E,dy)}}E dY(x,1b,1q){if(v.4A>0){1b-=v.4A*1;1q-=v.4A*1}B y=4w(1b);if(x.s("FO")=="1"){y=4w(1q-1b)}if(x.s("10m")=="1"){if(x.s("10z")=="1"){y=y+(1q>0?\' \'+2J(x.s("10O"))+\' \'+4w(1q):\'\')}F{1b==0?y=4w(1q):\'\'}}x.6x(y)}G.w4=E(1b,1q){B x=7y("1i","2N");if(x){x.Jx(1b,1q)}};G.kw=E(y){if(o.P.1q()>0){B x=7y("1i","2N");if(x){x.kw(y)}}};G.9f=E(){if(!8e){if(v.eS==1){2P(ol);ol=1C(9f,3V)}F{9f()}}};E 9f(){if(!8e){js("10J");8e=H;B x=7y("1i","aJ");if(x){x.G2();if(v.Hu==1&&o.1B){2P(o.Hi);o.Hi=1C(Hs,(v.Hq>0?v.Hq:1)*2n)}}o.oe?4o():\'\'}}E Hs(){if(o.1B&&8e){o.U.8E()}}G.Ht=E(y){V(B x in b){if(x==y){b[x].1Z("3l")}}};G.8a=E(){2P(ol);if(8e){js("8w");B x=7y("1i","aJ");if(x){x.hK();if(v.Hu==1&&o.1B){o.U.g5()}}8e=L;o.oe?4o():\'\'}};G.iJ=E(){B x=7y("3g","1J 9p");if(x){x.1Z("6K");x.6x(2J(\'1J\')+\' \'+(o.3C?0:2M.zs(v.1J*100))+\'%\');2P(o.iJ);o.iJ=1C(Hv,2n)}};E Hv(){B x=7y("3g","1J 9p");if(x){x.6x(\'\');x.1Z("3l");2P(o.iJ)}}G.43=E(1b,1q){if(v.4A>0){1b-=v.4A*1;1q-=v.4A*1}V(B x in b){if(b.2v(x)){if(b[x].s("on")==1){if(b[x].g("1i")=="2N"){1q>0?b[x].1Z("2B",1b/1q):\'\';b[x].Jw()}if(b[x].g("1i")=="1b"){dY(b[x],1b,1q)}if(b[x].g("1i")=="5r"){b[x].1Z("xu",0.5);b[x].1Z("eV",0)}}}}};G.3Y=E(1b,1q){V(B x in b){if(b.2v(x)){if(b[x].g("1i")=="1q"){if(v.4A>0){1q-=v.4A*1}b[x].6x(4w(1q))}if(b[x].g("1i")=="2N"){b[x].6P(1b,1q);b[x].Jo(1q)}if(b[x].g("1i")=="1b"){dY(b[x],1b,1q)}}}};G.7W=E(){if(!o.4C){1j.g("1u")?1j.1m():1j.1u()}};G.cI=E(){if(1j){if(o.4C){K o.4C.5V()||1j.g("1u")}F{K 1j.g("1u")?H:L}}F{K L}};G.nR=E(x){if(1j){1j.5B(x)}};G.cE=E(){cE()};G.10D=E(x){if(1j){1j.Hw(x)}};G.IY=E(){if(1j){1j.hT()}};G.J5=E(x){if(1j){K 1j.Hx(x)}};E cE(x){if(1j){1j.g("1u")?1j.1m(x):\'\'}o.4C?o.4C.1m():\'\'};G.bE=E(){if(X){if(X.g("1u")){X.1m(1)}F{X.1u()}}};G.hS=E(x){if(X){if(X.g("1u")&&x!=1){x!=2?X.1m():\'\'}F{1C(E(){X.1u()},100)}}};G.ht=E(){if(X){K X.g("1u")?H:L}F{K L}};G.bT=E(x){K X?X.g(x):\'\'};G.6o=E(x){if(X){X.wf(x)}};G.Hy=E(x){if(X){X.Hz(x)}};G.aG=E(){if(X){X.aG()}};G.nO=E(){if(X){X.nO()}};G.iy=E(){iy()};E iy(){V(B x in b){if(b.2v(x)){if(b[x].g("1i")=="6z"){O(b[x].c(),{"1E":(!X.bO()?0.5:1)})}if(b[x].g("1i")=="bH"){O(b[x].c(),{"1E":(!X.fC()?0.5:1)})}}}}G.bO=E(){if(X){K X.bO()}F{K L}};G.fC=E(){if(X){K X.fC()}F{K L}};G.fw=E(){if(X){K X.fw()}F{K L}};G.nH=E(){if(X){X.nH()}};G.dz=E(){if(X){X.dz()}};G.Hh=E(x){if(x&&X){X.bQ(x)}};G.GB=E(x){if(x&&X){X.nT(x)}};G.FW=E(x){if(x&&X){O(X.co(),{"12S":"28","2X-2o":X.s("7j")});1P.7H(x).1R(X.co());3l(X.c())}};G.12I=E(){};G.vv=E(x){if(1j){1j.5R();1j.g("1u")?1C(E(){1j.1m()},4B):\'\'}};G.jN=E(){if(1j){1j.5R()}if(o.4C){o.4C.dn()}};G.jv=E(x){if(1j){1j.gX()}2E();4o()};G.nZ=E(x){if(1j){1j.i2(x);1j.g("1u")?1j.1m():\'\'}if(o.4C){o.4C.dn()}x=="53"?vs():\'\'};E vs(){if(o.kC){B x=3T(o.i1/o.5T.6Y(-1)[0],1).xq(2);V(B i in b){if(b.2v(i)){if(b[i].s("7Y")=="53"&&o.i1){b[i].6P(x,1)}if(b[i].s("3g")=="3v:53,1.0"){b[i].vY(x)}}}}}G.mR=E(x){if(1j){1j.i2("7l")}if(o.4C){o.4C.dn()}};G.bm=E(){if(1j){1j.9a();1j.g("1u")?1C(E(){1j.1m()},4B):\'\'}if(o.4C){o.4C.dn()}if(o.5j&&o.4D){o.4i.9M()}};G.vq=E(){o.4C?o.4C.1m():\'\';if(1j){1j.vq()}};G.hV=E(lI,2k,7M){V(B x in b){if(b.2v(x)){if(b[x].g("1i")=="1j"){if(b[x].s("hj")==1){b[x].G4()}}if(b[x].g("Gh")=="1j#"+lI){b[x].1Z("1Z#4t",2k);if(b[x].g("1H")=="1D"){if(7M){b[x].6x(vn(7M))}}F{if(v.1j[\'1j\'+lI+\'1i\']=="22"){if(7M==2J("6N")){b[x].ch(0)}F{b[x].ch(1)}}2E()}bR(b[x])}}}};G.GA=E(){if(1j){1j.5R();1j.i2("7l");1j.i2("6Q")}};G.k0=E(){B x=7y("1i","2N");if(x){x.k0()}};G.4M=E(){2E();if(7V){o.vC=H}};G.w6=E(x){if(!7V||x==1){2E();4o()}F{v.1t.vM=H}};G.vS=E(){B b=7y("1H","O");if(b){b.FX()}};G.4H=E(){4o();2E();4o();if(o.a0){3l(7G)}F{!7V?6K(7G):\'\'}};G.IZ=E(1h){if(eL==v.id&&v.1W.on==1){B x=1h.FG;B y=L;if(x==1Q){x=1h.FH}if(I(o.29)||I(o.8d)||o.xg==1){K L}if(o.1B&&v.1W.ia==1){y=H}if(((v.1W.8n==1&&x==32)||(v.1W.11P==1&&x==13))&&(o.5X||o.5c||y)){if(v.1W.2H==1){7A(\'1B\',o.1B?0:1)}o.U.dv();1h.9J();K L}!v.1W.ls?v.1W.ls=0.2:\'\';!v.1W.1I?v.1W.1I=5:\'\';if(v.1W.FD==1&&(o.5X||y)){if(o.P.1q()>0){V(B i=48;i<58;i++){if(x==i){o.U.43((o.P.1q()*(x-48)*10)/100,H)}}}}if(x==39&&(o.5X||y)){lm(v.1W.vE)}if(x==37&&(o.5X||y)){lo(v.1W.vE)}if(x==38&&(o.5X||y)){lm(v.1W.vI)}if(x==40&&(o.5X||y)){lo(v.1W.vI)}if(x==FE&&(o.5X||y)){lm(v.1W.FF)}if(x==12g&&(o.5X||y)){lo(v.1W.FF)}}};E 7y(y,z){V(B x in b){if(b.2v(x)){if(b[x].s(y)==z){K b[x]}}}}E lm(x){if(x=="6z"){if(o.X){o.Q.aG()}F{x="47"}}if(x=="47"){if(o.P.1q()>0){B sk=o.P.1b()+3T(v.1W.47);if(sk<o.P.1q()){o.U.43(sk,H);js("lq",sk)}}}if(x=="1J"){o.U.46(3T(v.1J)+3T(v.1W.ls));1h.9J()}if(x=="1I"){o.P.1I(v.1W.1I/100);1h.9J()}if(v.1W.2H==1){7A(x,1)}}E lo(x){if(x=="6z"){if(o.X){o.Q.dz()}F{x="47"}}if(x=="47"){if(o.P.1q()>0&&o.1y){B sk=o.P.1b()-v.1W.47>=0?o.P.1b()-v.1W.47:0;o.U.43(sk,H);js("lq",sk)}}if(x=="1J"){o.U.46(3T(v.1J)-3T(v.1W.ls));1h.9J()}if(x=="1I"){o.P.1I(-v.1W.1I/100);1h.9J()}if(v.1W.2H==1){7A(x,0)}};G.IC=E(1h){if(eL==v.id){B x=1h.FG;if(x==1Q){x=1h.FH}if(x==57){if(v.1v==1){}}if(o.2a&&x==27){o.U.8p()}if(I(o.29)||I(o.8d)){K L}if(v.1W.f==1&&x==70&&v.eS!=1&&(o.5X||o.5c)){if(v.1W.2H==1){7A(\'2a\',o.2a?0:1)}o.2a?o.U.8p():o.U.9C()}if(v.1W.s==1&&x==83&&(o.5X||o.5c)){if(o.3G){if(v.1W.2H==1){7A(\'22\',o.56?0:1)}3H("FI")}}if(v.1W.m==1&&x==77&&(o.5X||o.5c)){if(v.1W.2H==1){7A(\'5e\',o.3C?1:0)}o.3C?o.U.6y():o.U.5d()}}};G.4g=E(){3R(o.hy);V(B x in o){if(x.J("1a")==0&&x.J("IU")>-1){3R(o[x])}}V(B i=0;i<gE.R;i++){1c=gE[i];if(b[1c]){b[1c].4g()}}if(1j){1j.4g()}if(X){X.4g()}bg.4g();aP?aP.4g():\'\';if(7G.4k==o.1U){o.1U.3h(7G)}F{o.1t?o.1t.3h(7G):\'\'}};G.jp=E(){jp()};G.h0=E(){h0();4o()};G.h5=E(){h5()};G.qD=E(){K 7V}};B FJ=E(1c){B i;B C=[];B w;B h;B wy=0;B bg;B qy;B 9v;B pw=0;B 4t=H;B Gi=L;B 3t=1;B 3x=1;B 2y;B jy;B 2R;B 8C;B 1i;B aC=\'\';B x0;B y0;B on;B 6G=L;B cB=L;B iN=0;B Yw;B Yr=0;B eW=0;B Fs=0;B iT=0;B pb=L;B Gw=L;B jA=L;B 3k=L;B jD;B hj;B ox;B wA=L;C=aE(C,fP.S);C=aE(C,v[1c]);B U=[C.1i];1i=U[0];I(C.FC)?U[1]=C.FC:\'\';I(C.FK)?U[1]=C.FK:\'\';I(C.1O)?C.1D=C.1O:\'\';if(2O(C.FM)){o.ah?C.1I=C.FM:\'\'}if(1i=="2u"){o.fs=H}if(I(C.3g)){if(C.1H=="1D"&&C.3g!=\'\'){if(I(v[C.3g+\'1D\'])){C.1D=v[C.3g+\'1D\']}}if(C.3g.J("1j#")==0){aC=C.3g;if(C.2R==\'\'&&aC.J(",")==-1){C.2R=2J(v.1j[\'1j\'+aC.1n(9)+\'1i\'])}}if(C.3g.J("6m")>-1){v.FN=H}if(C.3g.J("2u:")>-1){o.fs=H}if(C.3g=="YU"){C.YS=1z YQ(C)}}B 7k=C.2R?C.2R.2z("///"):[];if(C.FP==1){C.1H="1D";C.1D=hB(0)+(U.R>1?\'///\'+hB(1):\'\');if(2O(C.bn)){C.1w=C.bn}}C.it=[];C.il=[];B wL=0;B 2H=1z d3();B 1o=1z d3();B dE=1z d3();B YP=1z d3();B hx=0;B b4;if(C.1H=="1D"){if(C.4O){if(I(v[C.4O+\'1D\'])){C.1D=v[C.4O+\'1D\']}}if(I(C.1D)){2H[0]=4L(C.1D);C.oO=C.1D.R;B xs=[\'/\',\'|\',\'-\'];xs.J(C.1D.1n(-1))>-1?C.wg=C.1D.1n(-1):\'\';xs.J(C.1D.1n(0,1))>-1?C.wm=C.1D.1n(0,1):\'\';if(1i=="1b"||1i=="1q"){if(C.1D.J(\'0:\')==0){C.p0=H}if(C.1D.2z(":").R==3){C.Gy=H}F{if(C.1D.J(\'cg:cg\')>-1){C.Gz=H}}if(C.mL==1){v.mL=1}}if(C.FO==1&&C.1D.J("-")==0){C.Gr=H}if(C.1D.J("///")>0&&(1i=="4W"||C.FP==1)){C.fv=C.1D.2z("///");C.1D=2H[0]=C.fv[0]}}if(v.xN==1){1C(9A,100);1C(9A,3V);1C(9A,2n)}}F{if(I(C.1o)){2H[0]=C.1o;if(2H[0].J("///")>0&&2H[0].J("kT")==-1){2H=C.1o.2z("///")}if(I(C.oQ)){2H[1]=C.oQ}if(C.Ge==1){if(2O(C.FQ)){2H.2U(C.FQ);hx=2H.R-1}}}}if(1i=="4W"){if(C.YE==1&&I(C.oJ)){C.wT=C.3g}}B 1a=1T("26");if(C.1r.J(\'9r\')>-1){o.9r?o.9r.1R(1a):1C(E(){o.9r.1R(1a)},100);o.FR=H}F{if(7c([C.1r],"1a")&&v.1t.1m==1&&v.1t.dx==1){o.1t.1R(1a)}F{o.1U.1R(1a)}if(1i=="aJ"&&C.Y0==1){1a.C.4T=wP}}if(C.FS==1){C.hE=1z Y3(C,1a)}B qy=1T("26");1a.1R(qy);B dN=1T("26");O(dN,{"1r":"2A","1e":0,"1d":0});1a.1R(dN);O(1a,{"1r":"2A","1e":0,"1d":0,"1E":1,"eh":"nl","lz":"kW"});if(2O(C.4O)){4e(1a,{"id":(v.id+"4z"+"ao"+C.4O)})}if(C.FT==1||C.Gj==1){O(dN,{"5i":"2Q 0.2s 3d"})}if(2H.R>0){V(i=0;i<2H.R;i++){1o[i]=1T("26");O(1o[i],{"1r":"2A","1d":0,"1e":0,"a9":"28","1E":C.a,"5i":"1E 0.1s 3d"});if(C.fE>C.1I){O(1o[i],{"5i":"1E 0.1s 3d,2Q 0.1s 3d"})}if(C.1H=="fn"&&C.2W!=\'\'){if(2O(C.4O)){4e(1o[i],{"id":(v.id+"4z"+"1a"+"4z"+C.4O+"4z"+"1o")});if(v[C.4O+\'2W\']){C.2W=v[C.4O+\'2W\']}}if(FL(C.2W,[".vQ",".iH",".Yc","kT",".96"])){C.2W.J("//")==-1&&C.2W.J("kT")==-1?C.2W=\'//\'+C.2W:\'\';B z=1T("4c");C.9B=1;z.1A("hr",wO);z.2W=C.2W;1o[i].1R(z);C.w=1o[i].2i;C.h=1o[i].2Y;if(C.FA>0){O(z,{1g:C.FA})}}}if(C.1H=="1D"){O(1o[i],{"1w":(C.1w),"eh":C.h9*2I(v.8o,1),"zl":hq(C.4b),"f7-eF":C.iB+\'px\',"2X":"0 bt 0 bt","9O-8n":"d0"});if(o.ah){if(2O(C.Fr)){O(1o[i],{"eh":C.Fr*2I(v.8o,1),})}}if(C.2B==1){if(C.1D.J("<a ")>-1||1c=="cK"){O(1o[i],{"a9":"2t"})}}if(C.Fz==1){O(1o[i],{"4b-dD":"Fz"})}if(C.m6>0){O(1o[i],{"4b-dD":C.m6})}if(C.Fj){O(1o[i],{"lz":C.Fj+"em"})}2H[i]==\'5r\'?2H[i]=2J("5r"):\'\';1o[i].1V=zm(2H[i]);1C(wu,100);C.w=1o[i].2i;C.h=1o[i].2Y;if(2O(C.4O)){4e(1o[i],{"id":(v.id+"oI"+C.4O+"Ym")})}}if(C.1H=="O"){o.1y?1C(zt,4B):\'\'}B 8V=2H[i].6g();if(8V.J(\'B:\')==0){8V=2I(1S[8V.1n(4)],\'\')}B m9=8V.J(\'<2e\')>-1||8V.J(\'<YW\')>-1;if(C.1H=="2e"&&(8V.J(\'<g>\')>-1||m9)){if(1i=="5e"||1i=="4W"){8V=8V.1M(/gi/g,\'gi\'+v.id+1c)}if(8V.J(\'4j\')>-1){c9(1o[i])}1o[i].1V=(!m9?"<2e Y=\'20\' 1g=\'20\' 3N:3M=\'3r://3E.w3.3F/6L/3M\' 3N=\'3r://3E.w3.3F/3X/2e\'>":\'\')+8V+(!m9?"</2e>":\'\');1o[i].2i>20?C.w=1o[i].2i:\'\';1o[i].2Y>20?C.h=1o[i].2Y:\'\';O(1o[i],{"Y":C.w,"1g":C.h});if(C.bn!=-1){pj(1o,C.bn)}if(2O(C.4O)){4e(1o[i],{"id":(v.id+"oI"+C.4O+"ZN"+i)})}}dN.1R(1o[i]);i>0?1m(1o[i]):\'\'}bc();ox?wO():\'\';if(C.3g=="4i"){C.4i=1;C.1m=1;o.4i?1o[0].1V=o.4i.nq(C.bn!=-1?C.bn:\'#3K\'):\'\';if(o.1l.2j){1o[0].Fk=wF;1o[0].ZJ=5u;1o[0].xi=wH}F{1o[0].gx=5Z;1o[0].gU=5u;1o[0].lb=df}}F{if((bg.2i*C.1I<35||bg.2Y*C.1I<35)&&C.1H!=\'1D\'){wQ();c9(9v)}F{c9(bg)}}if(1i=="4W"){B lu=\'\';if(C.gI==1&&I(C.3g)){lu=C.3g;if(lu.J("3v:")==0){B 1K=lu.1n(4).2z(",");if(1K.R==2){B wU=1K[1].2z("/");if(wU.R==2){1K[0]==\'hd\'?1K[0]="4Q":\'\';if(v[1K[0]]==wU[1]){C.a=1;O(1o[0],{"1E":C.a})}}}}if(lu=="Fl"||lu=="4d"){o.U.hi();1a.C.4T=wP;o.xg=1}}if((C.1m==1&&(C.Fm==1||C.Fn==1||C.Fo==1))||lu.J("6U")==0||lu=="Fp"||lu=="9N"){C.Fi=1;if(7c([C.1r],"1a")){C.Fq=1}}if(lu.J("6U")==0){1a.C.4T=wP}}V(B sf in C){if(2O(C[sf+\'4z\'+\'B\'])){if(2O(2G[C[sf+\'4z\'+\'B\']])){C[sf]=2G[C[sf+\'4z\'+\'B\']]}}}if(1i=="1j"&&C.hj==1){hj=1z ZS(1a,bg,C)}if(C.2B==0){f0(1a)}if(C.9B==1){1m(bg)}if(C.2y==1){mn()}if(C.1r.J("2o")>-1){eW=1}if(C.1r.J("1d")>-1){Fs=1}if(C.1r.J("2V")>-1||C.1r.J("1a")>-1){iT=1}2E();B t=\'\';if(C.bD!=0){t+="qh("+C.bD+"z6)"}if(C.Zx==1){t+=" 3t(-1)"}if(C.Zg==1){t+=" 3x(-1)"}if(t!=\'\'){O(dN,{"2Q":t})}if(1i=="aJ"){hK()}B 1K=[];B i;if(1i=="X"){1K=[\'eA\',\'Ft\',\'qa\',\'Fu\',\'q8\',\'nC\'];V(i=0;i<1K.R;i++){if(I(C[1K[i]])&&!I(v.X[1K[i]])){v.X[1K[i]]=C[1K[i]]}}}if(1i=="1O"){1K=[\'q7\',\'wJ\',\'wI\'];V(i=0;i<1K.R;i++){if(I(C[1K[i]])&&!I(2G[1K[i]])){v[1K[i]]=C[1K[i]]}}}C.p3==1?9E():\'\';if(1i=="4W"&&C.on==0){3l(1a)}if(C.1m==1&&C.pZ>0){1C(Fv,C.pZ*2n)}}E Fv(){C.pZ=-1;o.Q.4H()}E wQ(){if(9v){9v.4k.3h(9v)}9v=1T("26");O(9v,{"1r":"2A","1d":0,"1e":0,"Y":C.1H=="fn"?bg.2i:(bg.2i>35?bg.2i:35)*C.Fw,"1g":C.1H=="fn"?bg.2Y:(bg.2Y>35?bg.2Y:35)*C.yp});C=4h(C,\'l8\',\'l8\');1a.1R(9v)}E c9(x){if(1i.J("1b")==0&&U.R==1){C.2B=0}if(1i=="4W"&&C.gI==0){C.2B=0}if(C.2B==1){if(C.la==1){O(x,{"6u":"4j"})}O(x,{"a9":"2t"});if(o.1l.2j){x.1A("cB",E(e){wH(e)});x.1A("fL",E(e){wF(e)});x.1A("er",E(e){Fx(e)})}if(v.cJ==1||!o.1l.2j){x.aI=9b}if(v.1t.kY==1||C.kY==1){O(x,{"2x-1w":"#oH","1E":0.5})}}F{O(x,{"6u":"7J"})}if(!o.1l.2j){x.gx=5Z;x.gU=5u}if(C.3k==1||C.2y==1){x.lb=df}}E wH(e){js("Zb"+1c);e.bC();cB=H}E wF(e){C.Fy==1?5Z():\'\';e.bC()}E Fx(e){e.bC();e.9J();C.Fy==1?5u():\'\';if(!cB){9b(e)}cB=L}E bc(){if(bg){bg.4k.3h(bg)}bg=1T("26");O(bg,{"1r":"2A","1d":0,"1e":0});if(2O(C.4O)){4e(bg,{"id":(v.id+"oI"+C.4O+"Z3")})}w=C.w;h=C.h;C.fm=-1;C.aR=-1;C=4h(C,\'2F\',\'2F\');C=4h(C,\'ac\',\'ac\');if(C.b9&&o.ah){if(C.b9!=\'0 0 0 0\'){C=4h(C,\'ac\',\'b9\')}}if(C.1H=="1D"){w=1o[wL].2i;h=1o[wL].2Y;if(C.x8>0){w<C.x8?w=C.x8:\'\'}}C=4h(C,\'fU\',\'fU\');C=4h(C,\'FU\',\'FU\');if(2O(C.4O)&&I(v.4W)&&C.1i=="4W"){if(1N(v.4W)==\'3W\'){V(B i=0;i<8c.6t(v.4W).R;i++){if(v.4W[i][C.4O]){if(v.4W[i][C.4O]=="6N"){C.on=0}F{B 1K=v.4W[i][C.4O].2z(":");if(1K[0]=="2F-1e"){if(1K[1].J("%")>0){C.j3=2K(1K[1])}F{C.4s=2K(1K[1])}}}}}}}C.h=h;C.w=w;if(C.bg==1){h=h+C.9W+C.ag;w=w+C.7q+C.7j;C.h=h;C.w=w;if(C.1H=="1D"){C.l3=1o[0].2Y}}F{C.5A=0}O(bg,{"Y":(C.FB==1?FV:w),"1g":h,"yq":(C.oy*h)/2,"2x":(C.Gg==1?"3d-4S("+(C.Ze==1?"to 2o,":\'\')+5M(C.5a,C.5A)+","+5M(C.Z6,C.5A)+")":5M(C.5a,C.5A)),"5i":"2x .1s 3d, 2Q .1s 3d"+(2O(C.dG)?\', 6R .1s 3d\':\'\')});if(C.1H=="fn"){O(bg,{"Y":w,"1g":h,"yq":(C.oy*h/C.1I)/2,})}if(C.JU==1){zH(bg,C.5a,C.JM,C.JB)}if(C.oL==1){O(bg,{"2S":2I(C.Zf,1)+"px 6q "+C.pt})}if(C.9K==1){O(bg,{\'kU-6R\':\'9K(bo)\'})}qy.1R(bg)}E 2E(){B fm=(-bg.2Y/2);B aR=(-bg.2i/2);if(fm!=C.fm||aR!=C.aR){O(bg,{"1d":(-bg.2Y/2),"1e":(-bg.2i/2)});C.fm=fm;C.aR=aR}if(9v){B x=C.1H=="fn"?bg.2i:(bg.2i>35?bg.2i:35);B y=C.1H=="fn"?bg.2Y:(bg.2Y>35?bg.2Y:35);O(9v,{"1d":(-y/2)+C.JS-C.JT,"1e":(-x/2)+C.Zv-C.Zr})}V(B i=0;i<2H.R;i++){B it=C.1H=="2e"?2M.4q(2K(1o[i].C.1g))/2:2M.4q(1o[i].2Y)/2;B il=C.1H=="2e"?2K(1o[i].C.Y)/2:1o[i].2i/2;if(it!=C.it[i]||il!=C.il[i]){O(1o[i],{"1d":-it,"1e":-il});if(bg){O(1o[i],{"1d":(5h(1o[i].C.1d)+C.9W/2-C.ag/2+C.Zn/2+C.Zj/2),"1e":(5h(1o[i].C.1e)+C.7q/2-C.7j/2+C.Zi/2+C.10j/2)})}C.it[i]=it;C.il[i]=il}}}E 5Z(){B i;6G=H;if(C.dE==1){if(on&&I(C.oQ)){i=1}F{i=0}if(b4&&dE.R>2){i=2}if(dE[i]){pJ();1u(1o[dE[i]])}}if(C.bg==1){O(bg,{"2x":5M(wX(C.cL,C.5a),wX(C.9Z,C.5A))});if(2O(C.dG)){O(bg,{"6R":"fy("+C.dG+")"})}}if(C.7F>-1&&!Gi){V(i=0;i<2H.R;i++){if(1o[i].C.5P!="3k"){O(1o[i],{"1E":C.7F})}}}if(C.oV!=-1){pj(1o,C.oV)}if(C.Gj==1){iN+=45;jj(1o[0],iN)}if(C.fE>C.1I&&C.fE>-1){1I(C.fE)}if(1i=="1j"&&o.Q.cI()){}F{if(C.2y==1&&C.p3!=1){B x=7k.R>1&&!on?7k[1]:7k[0];if(x){if(x.J(\'B:\')==0){2R.1V=1S[x.1n(4)];9E()}}1u(2y);O(2y,{"1E":1})}}if(1i=="5e"){o.U.5w(H);o.5w=H}o.dM=H;o.Q.jT(1c,"6G")}E 5u(){6G=L;B i;if(C.dE==1){if(on&&I(C.oQ)){i=1}F{i=0}if(b4&&dE.R>2){i=2}pJ();1u(1o[i])}if(C.bg==1){O(bg,{"2x":5M(C.5a,C.5A)});if(2O(C.dG)){O(bg,{"6R":"fy(1)"})}}if(C.7F>-1){V(i=0;i<2H.R;i++){if(1o[i].C.5P!="3k"){O(1o[i],{"1E":C.a})}}}if(C.fE>-1){1I(C.1I)}if(C.oV!=-1){pj(1o,(C.bn==-1?\'#3K\':C.bn))}if(1i=="5e"&&!o.2a){o.U.5w(L);o.5w=L}wY();o.dM=L;o.Q?o.Q.jT(1c,"5y"):\'\'}E wY(){if(C.2y==1&&C.p3!=1){1m(2y);O(2y,{"1E":0})}}E 9b(e){e?e.6B=H:\'\';if(!pb){o.Q.fB(1c);if(1i=="4W"){oG()}wY();if(C.16q==1){iN+=45;jj(1o[0],iN)}jA=H;if(C.Gk==1||(1c=="xb"&&C.1m==1&&C.xc==1)){o.Q.4H()}}};G.Gl=E(){9b()};E oG(){if(2H){if(2H.R>1){if(on==H){1u(1o[0]);1m(1o[1])}F{1u(1o[1]);1m(1o[0])}}if(C.2y==1&&7k.R>1){2R.1V=o.ni+(on==H?7k[0]:7k[1])+o.hL;9E()}}if(I(C.wT)){if(on==H){C.3g=C.wT}F{C.3g=C.oJ}}qv();on=on!=H;if(C.3g){if(C.3g.J(",0/1")>-1){js(C.3g,on?1:0)}}if(C.bg==1&&I(C.wS)){if(C.wS!=-1){if(on){C.Gm=C.5a;C.5a=C.wS}F{C.5a=C.Gm}bc();c9(bg);2E();if(C.1H=="1D"){9A()}F{1I(C.1I)}}}}E qv(){if(I(C.fv)){if(C.fv.R>1){if(on==H){6x(C.fv[0])}F{6x(C.fv[1])}}}}E zr(1h){1h.6B=H;o.Q.fB(1c)}E pJ(){V(B i=0;i<2H.R;i++){if(1o[i].C.5P!="3k"){O(1o[i],{"1E":C.a});1m(1o[i])}}}E wu(1D){if(1o[0]){if(1o[0].2i>o.3b-C.4s-C.4I-C.7q-C.7j){if(C.wD==1){if(!1D){1D=1o[0].1V}1o[0].1V=\'<wD>\'+1D+\'</wD>\'}F{O(1o[0],{"9O-8n":"ek"})}O(1o[0],{"Y":o.3b-C.4s-C.4I-C.7q-C.7j})}}}E wO(){if(bg){ox=L;C.9B=0;1m(bg);if(1o[0]){C.w=1o[0].2i*C.1I;C.h=1o[0].2Y*C.1I;1I(C.1I)}C.9H=0;bc();wQ();c9(9v);1u(bg);2E();o.Q.4M();if(!5V(1a)){3l(1a)}}F{ox=H}}E Jk(1h){1h.6B=H}E df(){if(!o.1l.2j&&!o.dM){5Z()}9E()}E 1I(x){if(x>0){O(bg,{"2Q":"1I("+x+")"});V(i=0;i<2H.R;i++){O(1o[i],{"2Q":"1I("+x+")"})}if(C.hE){C.hE.1I(x)}3t=x;3x=x}}E mn(){2y=1T("26");O(2y,{\'1r\':\'2A\',\'1e\':0,\'1d\':0,\'1g\':\'2t\',"1E":0,"5i":"1E 0.1s 3d"});jy=1T("26");C=4h(C,\'kv\',\'kv\');C=4h(C,\'Gn\',\'Gn\');O(jy,{\'1r\':\'2A\',\'1e\':0,\'1d\':0,\'Y\':\'100%\',\'1g\':30,\'2x-1w\':C.kx,\'1E\':C.kz,\'2S-7b\':C.xP});2R=1T("26");O(2R,{\'1r\':\'2A\',\'1e\':C.xG,\'1d\':C.m7,\'1w\':C.xK,\'4b-hk\':hq(C.xF),\'4b-42\':C.xM*2I(v.8o,1),"f7-eF":C.xO+\'px\',"2N-1g":"1"});if(C.2R){if(C.2R.J("B:")==0){C.Gp=H}}if(!C.Gp){O(2R,{\'9O-8n\':\'d0\'})}if(C.gz==1){8C=1T("26");8C.1V=\'<2e Y="bo" 1g="xQ" xR="0 0 8 6" 8G="1.1" 3N="3r://3E.w3.3F/3X/2e" 3N:3M="3r://3E.w3.3F/6L/3M"><gA id="Kq" 3P="28" 4r="#\'+C.kx.1M("#","")+\'" 4r-gy="Kj" 8P="0 0 8 0 4 6"></gA></2e>\'}if(C.p3==1){O(2y,{"1E":1});c9(2y)}F{f0(2y)}1a.1R(2y);2R.1V=o.ni+(C.2R==\'\'?2J(1i):7k[0])+o.hL;2y.1R(jy);2y.1R(2R);if(C.gz==1){2y.1R(8C);B xU=o.xL?\'-bo\':\'-xQ\';B ps=C.15n;if(!I(ps)){ps=\'\'}B tp=ps.J("1d")>-1;if(tp){jj(8C,\'-15G\')}O(8C,{\'1r\':\'2A\',\'2o\':(ps.J("2o")>-1?10*C.1I:\'2t\'),\'1e\':(ps.J("1e")>-1?10*C.1I:(ps==\'\'||ps==\'1d\'?\'50%\':\'2t\')),\'2F-1e\':(ps==\'\'||ps==\'1d\'?\'-Iy\':0),\'2V\':(tp?\'2t\':xU),\'1d\':(tp?xU:\'2t\'),\'1E\':C.kz})}9E()}E 9E(){if(C.2y==1){O(2y,{"1d":(iT==1?-h-2y.2Y+3:-2y.2Y/2)+C.16v-C.17d,"1e":(eW==1?-2R.2i:(iT==1?-w/2:+2R.2i))-(iT==1?0:2R.2i/2+5)+C.17f-C.17o,"1g":C.m7+2R.2Y+C.xJ,"Y":C.xG+2R.2i+C.Ko});O(jy,{\'1g\':2y.2Y});2y.C.4T="2n"}}G.c=E(){K 1a};G.s=E(x){K C[x]};G.ss=E(x,x2){K I(C[x])?C[x][x2]:L};G.g=E(x){bK(x){1p"Y":K w;1k;1p"1g":K h;1k;1p"h":K 2I(C.l3,h);1k;1p"x":K 5h(1a.C.1e);1k;1p"y":K 5h(1a.C.1d);1k;1p"1E":K 1a.C.1E?1a.C.1E:1;1k;1p"1u":K 4t;1k;1p"3t":K 3t;1k;1p"3x":K 3x;1k;1p"1i":K 1i;1k;1p"Gh":K aC;1k;1p"jA":K jA;1k;1p"1H":K C.1H;1k;1p"R":K C.oO?C.oO:0;1k;1p"1c":K 1c;1k;1p"x0":K x0;1k;1p"y0":K y0;1k;1p"6G":K 6G;1k;1p"1j#":K aC.J("1j#")==0;1k;1p"1j:":K aC.J("1j:")==0;1k;1p"xl":K 1i=="4W"&&C.1H=="1D";1k;1p"1Z#4t":K wA;1k;7J:K L}};G.1Z=E(k,x){bK(k){1p"1u":6G?5u():\'\';4t=x;1k;1p"2k":Gt(x);1k;1p"6K":6K(1a);1k;1p"3l":3l(1a);1k;1p"Gq":C.3k=0;1k;1p"xo":if(C.Gs>0&&C.3k!=1&&!jD){2P(jD);jD=1C(E(){3l(1a);(C.16F!=1?C.3k=1:\'\');jD=1Q},C.Gs*2n)}1k;1p"1I":1I(x);1k;1p"16I":O(1a,{"2Q":"1I(0)"});1k;1p"3t":O(1a,{"2Q":"3t("+x+")"});3t=x;1k;1p"3x":O(1a,{"2Q":"3x("+x+")"});3x=x;1k;1p"1E":O(1a,{"1E":x});1k;1p"xu":O(1o[0],{"1E":x});1k;1p"eV":O(1o[0],{"6R":"eV("+x+")"});1k;1p"1e":O(1a,{"1e":x});1k;1p"1d":O(1a,{"1d":x});1k;1p"Y":O(1a,{"Y":x});1k;1p"1g":O(1a,{"1g":x});1k;1p"x9":C.x9=x;1k;1p"eW":eW=x;1k;1p"1Z#4t":wA=x;1k;1p"x":O(1a,{"1e":x});1k;1p"y":O(1a,{"1d":x});1k;1p"5S":C.5S=x;1k;1p"6U":C.6U=x;1k;1p"x0":x0=x;1k;1p"y0":y0=x;1k;1p"eZ":C.eZ=x;1k;7J:K L}};E Gt(x){if(x&&o.1l.2j){pb=H;1C(Gv,dy)}if(!x){if(oP()&&b4){1m(1o[hx]);1u(1o[0]);b4=L}}if(C.9B==1){x?1u(1a):1m(1a)}F{if(1c=="16w"||1c=="Gu"){x?1u(1a):1m(1a)}F{O(1a,{"2k":(x?"4d":"28")})}4t=x;x?1u(1a):\'\'}if(x&&C.py){C.py=L;1C(9A,100)}}E Gv(){pb=L}G.6x=E(x,y){if(aC!=\'\'&&(C.1D==\'x\'||C.1D==\'1x\')){x=x+\'x\'}if(y){x=C.1D+x}6x(x);!5V(1a)?C.py=H:\'\'};B vy;G.jx=E(x){if(vy!=x){C.8X=x;6x(x);!5V(1a)?C.py=H:\'\';o.Q?o.Q.4M():\'\'}vy=x};G.vA=E(){jj(dN,pw);pw+=20};E jj(x,y){O(x,{"2Q":"qh("+y+"z6)"+(x==1o[0]&&!Gw&&3t!=1?\' 1I(\'+3t+\')\':\'\')})};G.Gx=E(x){if(C.1D.J("{1O")>-1){6x(C.1D)}};G.oG=E(){oG()};E 6x(1D){if(C.1H=="1D"){if(I(1D)){if(C.Gy){if(1D.R==4){1D=(C.p0?\'0:0\':\'cg:0\')+1D}if(1D.R==5){1D=(C.p0?\'0:\':\'cg:\')+1D}if(1D.R==7){1D=(C.p0?\'\':\'0\')+1D}}if(C.Gz){if(1D.R==4){1D=\'0\'+1D}}C.oO=1D.R}1D=(C.wm?C.wm+(C.Gr?\'\':\' \'):\'\')+1D+(C.wg?\' \'+C.wg:\'\');B Gf=1o[0].2i+(C.bg==1?C.9W+C.ag:0);B G6=1o[0].2Y+(C.bg==1?C.9W+C.ag:0);1o[0].1V=o.ni+(1i=="4W"?zm(1D):1D)+o.hL;if(C.16U==1){1o[0].1V+=\'<7h C="2k:as-4d;Y:dL"></7h><7h C="2S-1d: bt 6q \'+3y(C.1w)+\';2S-1e: bt 6q d2;2S-2o: bt 6q d2;1r: 2A;2o:bt;1d: 50%;2F-1d: -3Q;"></7h>\'}if(1i=="1O"){O(1o[0],{"Y":"2t","9O-8n":"d0"});wu(1D)}C.w=1o[0].2i+(C.bg==1?C.9W+C.ag:0);C.h=1o[0].2Y+(C.bg==1?C.9W+C.ag:0);if(Gf!=C.w||G6!=C.h||(C.w>0&&wy==0)){9A()}if(1o[0].2i>0){wy=C.w}F{aC!=\'\'?1m(1o[0]):\'\';if(1D!=\'\'){1C(9A,10)}}}}G.9A=E(){9A()};E oP(){K!o.P.5z()&&C.Ge==1}E 9A(){if(C.1H=="1D"){if(1o[0]){if(1o[0].2i>0){aC!=\'\'?1u(1o[0]):\'\';w=C.w=1o[0].2i;h=C.h=1o[0].2Y;bc();c9(bg);2E();if(o.Q){if(7c([C.1r],"1a")){o.Q.w6()}F{o.Q.4M()}}}}}}G.vY=E(x){if(C.FY==1){B n=4;if(1c=="14b"){if(o.1l.2j){K}}F{n=8}B y=\'gi\';B z=[];V(B i=1;i<n;i++){z[i]=1P.7H(y.a7(v.id,1c,\'15k\',i))}if(z[1]){V(B i=1;i<n;i++){z[i]?1m(z[i]):\'\'}if(n==4){V(B i=1;i<n;i++){x>(i/n)&&z[i]?1u(z[i]):\'\'}}F{V(B i=n;i>0;i--){if(x*1+(1/n)>=(i/n)&&z[i]){1u(z[i]);1k}}}}}};G.On=E(){if(!on){if(2H){if(2H.R>1&&U.R>1){1m(1o[0]);1u(1o[1])}}if(U.R>1){1i=U[1];if(C.2y==1){2R.1V=hB(1);9E()}}if(oP()&&b4){1m(1o[hx]);b4=L}qv();on=H}};E hB(x){K o.ni+(C.2R==\'\'?2J(U[x]):(7k.R>1?7k[x]:7k[0]))+o.hL}G.ch=E(x){ch(x)};G.FZ=E(x,y){if(C.hE){C.hE.dn(x,y)}};E ch(x){B y=\'gi\';B z=1P.7H(y.a7(v.id,1c,\'13z\'));if(z){O(z,{"5i":"2Q 0.1s 6A-5y"});if(x==1){z.C.2Q=\'G0(0, 0)\'}F{z.C.2Q=\'G0(-G1, 0)\'}}F{if(x==1){C.a=1}F{C.a=0.5}}on=x==1;if(C.2y==1&&7k.R>1){2R.1V=(on?7k[0]:7k[1])}O(1o[0],{"1E":C.a})};G.hD=E(){if(on){if(2H){if(2H.R>1&&U.R>1){1u(1o[0]);1m(1o[1]);O(1o[0],{"1E":C.a})}}1i=U[0];if(U.R>1){if(C.2y==1){2R.1V=hB(0);9E()}}qv();on=L;b4=L}};G.zr=E(){if(oP()){pJ();1u(1o[hx]);b4=H}};G.G2=E(){B 2L=L;if(C.1m==1){if(C.G3==1){if(5V(o.2g)){2L=H}}if(C.145==1&&!o.2a){2L=H}if(C.144==1&&o.2a){2L=H}}if(!2L){6K(1a);B gr=1a.aS("*");V(B i=gr.R;i--;){O(gr[i],{"5S-1B-7v":"143"})}4t=H}};G.hK=E(){hK()};E hK(){3l(1a);B gr=1a.aS("*");V(B i=gr.R;i--;){O(gr[i],{"5S-1B-7v":"8j"})}4t=L}G.4g=E(){if(2H.R>0){V(i=0;i<2H.R;i++){if(1o[i].4k==1a){1a.3h(1o[i])}1o[i]=1Y}}if(bg){bg.gW("aI");bg.gW("gx");bg.gW("gU");bg.4k.3h(bg);bg=1Y}if(C.1r.J(\'9r\')>-1){if(1a.4k==o.9r){o.9r.3h(1a)}}F{if(1a.4k==o.1U){o.1U.3h(1a)}F{if(o.1t){if(1a.4k==o.1t){o.1t.3h(1a)}}}}if(2y){if(2y.4k==1a){1a.3h(2y)}}1a=1Y};G.G4=E(){hj?hj.im():\'\'};G.FX=E(){zt()};E zt(){G5(2H[0],C.1w,1o[0])}E zm(x){B z=x+\'\';if(x.J(\'{\')>-1){if(x.J(\'{1b}\')>-1&&I(o.3w)){x=x.1M(\'{1b}\',eY(o.3w.9Q().t))}if(x.J(\'{1O\')>-1){B y=o.dc?o.dc:(v.1O?v.1O:\'\');if(x.J(\'{cF}\')>-1&&o.Q){x=x.1M(\'{cF}\',o.Q.bT(\'cF\'))}if(o.b7&&o.Q){y=o.Q.bT(\'b7\')}x=x.1M(\'{1O}\',y);if(o.b7&&!o.Q){1C(6x,100,z)}}if(x.J(\'{1D\')>-1){V(B i=1;i<6;i++){if(x.J(\'{1D\'+i+\'}\')>-1){if(I(v[\'1D\'+i])){x=x.1M(\'{1D\'+i+\'}\',v[\'1D\'+i])}F{x=x.1M(\'{1D\'+i+\'}\',\'\')}}}}if(x.J(\'{6z}\')>-1){o.i7=1c;if(o.Q){x=x.1M(\'{6z}\',o.Q.bT(\'Fh\'))}}}K x}G.zb=E(){6x(C.1D)};E pj(1o,4l){V(B i=0;i<1o.R;i++){G7(1o[i],4l)}if(C.3g=="4i"){if(o.4i){o.4i.13V(1o[0],4l)}}}};B G8=E(1c,1i){B i;B C=[];B w;B h;B bg;B 4t=H;B x0;B y0;B 3t=1;B 3x=1;B eT=0;B 9D=0;B 13x;B 3I;B qm;B 6G;B 2B;B 3B;B Jy;B Ju;B xf;B Jv;B 2y;B 2R;B 8C;B eU;B xk;o.JA=-1;B pf;B 6G;B wn;V(i in fP.S){C[i]=fP.S[i]}B 1i=v[1c].1i;B 1H=v[1c].1H;V(i in fP[1i]){C[i]=fP[1i][i]}V(i in v[1c]){C[i]=v[1c][i]}C.w=2K(C.w);C.h=2K(C.h);C=4h(C,\'2F\',\'2F\');C=4h(C,\'ac\',\'ac\');if(o.ah){if(C.G9>0){C.w=2K(C.G9)}if(C.b9){if(C.b9!=\'0 0 0 0\'){C=4h(C,\'ac\',\'b9\')}}}B 1a=1T("26");if(v.1t.dx==1&&v.1t.1m==1){o.1t.1R(1a)}F{o.1U.1R(1a)}1i=="2N"?o.9r=1a:\'\';B 8J=L;if(C.7Y){if(C.7Y!=\'1J\'){8J=H}}O(1a,{"1r":"2A","1d":0,"1e":0,"1E":1,"eh":"nl","lz":"kW"});if(C.Ga==1){1a.C.4T=C.5f}bc();B 9t=1T("26");O(9t,{"1r":"2A","2V":2M.4q(-C.h/2),"1e":2M.4q(-C.w/2)});if(C.7m>0&&C.JP==1){O(9t,{"2S-7b":C.7m*C.h/2,"1g":C.h,"6O":"3k","4j-3i":"28"})}if(2O(C.4O)){4e(1a,{"id":(v.id+"oI"+C.4O)})}1a.1R(9t);if(1i==\'2N\'&&v.yl==1){JV()}if(C.2y==1){mn()}B 9i=1T("26");l2(0,9i,0.3,(C.4S==1?"3d-4S("+(C.yk==1?"to 1e,":\'\')+3y(C.Gb)+", "+3y(C.oZ)+")":3y(C.oZ)),C.w,C.12X);if(C.JE==1&&I(C.qn)){B hZ=1T("26");hZ.1V=C.qn.1M(/\\#JF/g,3y(C.oZ));9i.1R(hZ);O(hZ,{"1r":"2A","2V":-2M.4q(C.h/2),"1e":0,"4j-3i":"28"});O(9i,{"6O":"3k","2x":"28"});B x=["7a","gA","oK","l5","dA"];V(B y=0;y<x.R;y++){B z=hZ.yM("2e "+x[y]);if(z.R>0){V(B y2=0;y2<z.R;y2++){z[y2].C.4r=3y(C.oZ)}}}}9t.1R(9i);B 12Z=[];B cU=1T("26");l2(1,cU,C.Gc,(C.4S==1?"3d-4S("+(C.yk==1?"to 1e,":\'\')+3y(C.Gd)+", "+3y(C.HW)+")":C.HW),0,C.138);9t.1R(cU);if(C.7F>0){B dB=1T("26");l2(2,dB,C.GC,C.139,0,C.7F);9t.1R(dB)}B 7z=1T("26");l2(3,7z,C.HX,(C.4S==1?"3d-4S("+(C.yk==1?"to 1e,":\'\')+3y(C.Ji)+", "+3y(C.1w)+")":C.1w),0,C.a);if(C.JE==1&&I(C.qn)){B qp=1T("26");qp.1V=C.qn.1M(/\\#JF/g,3y(C.1w));O(qp,{"1r":"2A","2V":-2M.4q(C.h/2),"1e":0,"4j-3i":"28"});O(7z,{"6O":"3k","2x":"28"});7z.1R(qp)}if(C.5g==1){B cT=1T("26");C=4h(C,\'yZ\',\'yZ\');C=4h(C,\'z3\',\'z3\');O(cT,{"1r":"2A","2V":C.h/2,"1e":0,"4j-3i":"28","4b-42":C.JH*2I(v.8o,1),"1w":C.6p,"2N-1g":"100%","2X-1d":C.13u,"2X-2V":C.13s,"2X-1e":C.13r,"2X-2o":C.13q,"2F-1d":C.13m,"2F-2V":C.13k,"2F-1e":C.13i,"2F-2o":C.147,"2S-7b":(C.JI+"px"),"2k":"28"});if(C.JJ==1){O(cT,{"2x":3y(C.JK)})}7z.1R(cT);B kA=L;B 14W=L}o.pU=C.h;9t.1R(7z);if(C.f1==1){B 8P=[];if(1N JD!=="1Q"){B 9d=1z JD(1a,8P,w,C)}}if(C.3B==1){if(C.dK.6g().J(\'<2e\')==-1){C.dK==\'\'?C.dK="<2e Y=\'20\' 1g=\'20\'><g><dA ry=\'5\' rx=\'5\' cy=\'10\' cx=\'10\' 4r=\'#gM\'/></g></2e>":\'\'}3B=1T("26");3B.1V=C.dK.6g();C=4h(C,\'JL\',\'JL\');O(3B,{"1r":"2A","1d":-10+C.14P-C.14O,"1e":-2n,"4j-3i":"28","1g":20,"Y":C.g8,"1E":C.w1,"5i":"2Q 0.1s 3d, 1E 0.1s 3d"});if(C.kG==1||C.zc==1){O(3B,{"2Q":"1I(0)"})}F{if(C.oM!=1){O(3B,{"2Q":"1I("+C.oM+")"})}}if(C.153==1){O(3B,{"6R":"15d-aj(3Q 3Q bt 5m(0, 0, 0, .7))"})}1a.1R(3B);if(C.yN!=-1){B x=["7a","l5","dA"];V(B y=0;y<x.R;y++){B z=3B.yM("2e "+x[y]);if(z.R>0){V(B y2=0;y2<z.R;y2++){z[y2].C.4r=3y(C.yN)}}}}C.gq=3B.2i}if(C.bD!=0){O(1a,{"2Q":"qh("+C.bD+"z6)"})}if(C.3k==1){1m(1a);4t=L}if(1i=="1J"&&!8J){if(C.1m==1&&C.l0==1){o.lk=H;C.3k=H}F{o.lk=L}}C.bi=0;if(C.bD!=0){C.l9=2M.IO(C.bD);if(C.l9>45&&C.l9<135){C.bi=90}if(C.l9>15f&&C.l9<JN){C.bi=Jn}}if(8J){C.7Y?o[\'2N\'+\'4z\'+C.7Y]=C.7Y:\'\';w=C.w;C.7Y=="53"?6P(1,o.5T.6Y(-1)[0],"no"):\'\';if(C.7Y=="xr"){B pv=v.1J;v.2h?(v.2h.1J?pv=v.2h.1J:\'\'):\'\';6P(pv,1,"no")}}E l2(n,x,y,z,JO,JQ){O(x,{"1r":"2A","2V":0,"1e":0,"Y":JO,"1g":(C[\'h\'+n]>0?C[\'h\'+n]:C.h),"2x":z?(z.J("3d")>-1?z:3y(z)):\'\',"2S-7b":(C.JP==1?1:C.7m*C.h/2),"1E":JQ,"4j-3i":"28","5i":"2Q 0.2s 6A-in-5y"})}E bc(){bg=1T("26");C=4h(C,\'fU\',\'fU\');B l3=C.h+C.9W+C.ag;B JR=C.w+C.7q+C.7j;if(C.bg==1){}F{C.5A=0}C=4h(C,\'l8\',\'l8\');if(v.1t.kY==1||C.kY==1){C.5a=\'#oH\';C.bg=1;C.5A=0.5}O(bg,{"1r":"2A","1d":0,"1e":0,"Y":JR,"1g":l3*C.yp,"yq":(C.oy*l3)/2,"2x":5M(C.5a,C.5A),"a9":"2t","5i":"1E .1s 3d, 2x .1s 3d"});if(C.9K==1){O(bg,{\'kU-6R\':\'9K(bo)\'})}if(C.oL==1){O(bg,{"2S":"3Q 6q #"+C.pt})}if(C.2B==1){if(C.la==1){O(bg,{"6u":"4j"})}if(!o.1l.2j||v.cJ==1){bg.aI=9b;bg.14K=wq;bg.14J=p4;bg.lb=df}}F{O(bg,{"6u":"7J"})}if(!o.1l.2j){bg.gx=5Z;bg.lb=df;bg.gU=5u}if(o.1l.zA&&C.2B==1){bg.1A("fL",E(1h){1h.6B=H;if(!I(1h.6h)&&1h.8b.R>0){1h.6h=1h.8b[0].kL;1h.9o=1h.8b[0].nL}pf=1h;5Z(1h);p4(1h)});bg.1A("er",E(1h){1h.6B=H;o.3I=L;5u(1h);wq(pf)});bg.1A("2B",E(1h){1h.6B=H});bg.1A("cB",E(1h){if(!I(1h.6h)&&1h.8b.R>0){1h.6h=1h.8b[0].kL;1h.9o=1h.8b[0].nL}pf=1h;o.3I=H;df(1h);if(o.1l.zA){p4(1h)}})}O(bg,{"1e":2M.zs(-C.w/2-C.7q)});O(bg,{"1d":2M.zs(-C.h/2-C.9W+C.JS-C.JT)});if(C.JU==1){zH(bg,C.5a,C.JM,C.JB)}1a.1R(bg)}E 2E(Y){if(Y!=w){w=Y;o.zj=w;B b6=w/9i.2i;O(bg,{"Y":(w+C.7q+C.7j),"1e":-w/2-C.7q,});O(9t,{"1e":-w/2});O(9i,{"Y":w});O(9t,{"Y":w});B xx=cU.2i*b6;if(xx>9i.2i){xx=9i.2i}O(cU,{"Y":xx});B wp=7z.2i*b6;O(7z,{"Y":wp});kB(wp);if(1i=="2N"){Kr()}if(C.f1==1){9d?9d.Jp(w):\'\'}if(o.6s){o.6s.2E()}}}E kB(x){if(C.3B==1){if(x<C.gq/2&&C.g8!=20){x=C.gq/2}if(x>w-C.gq/2&&C.g8!=20){x=w-C.gq/2}B y=x-w/2-C.gq/2+C.14d-C.14s;O(3B,{"1e":y})}}E wx(){O(3B,{"2Q":"1I("+C.oM+")"})}E 5Z(1h){o.Q.jT(1c,"6G");if(C.bg==1){if(C.9Z!=-1){B m=1z 5K({"mc":bg,"1H":"8q","to":C.9Z,"1b":0.1,"me":(1c+"bg")})}if(2O(C.cL)){O(bg,{"2x-1w":C.cL})}}if(2O(C.zk)){O(7z,{"2x-1w":C.zk})}if(C.3B==1){if(C.Js==1&&I(C.w8)){if(C.oN==1&&3I){}F{3B.1V="<2e Y=\'"+C.g8+"\' 1g=\'20\' 3N:3M=\'3r://3E.w3.3F/6L/3M\' 3N=\'3r://3E.w3.3F/3X/2e\'>"+C.w8.6g()+"</2e>"}}if(C.kG==1){if(C.zc==1&&!o.1y){}F{wx()}}F{if(C.qe!=-1){B m2=1z 5K({"mc":3B,"1H":"8q","to":C.qe,"1b":0.1,"me":(1c+"3B")})}}}if(C.2y==1&&(o.P.1q()>0||1i=="1J"||8J)){kV()}if(C.eR>0){O(bg,{"2Q":"3x("+((C.eR-1)/5+1)+")"});wo(C.eR)}if(C.3B==1&&C.wZ==1){kB(dU(1h.6h)-9D)}if(1i=="1J"){o.U.5w(H);o.5w=H}6G=H;o.dM=H}E wo(x){O(9i,{"2Q":"3x("+x+")"});O(cU,{"2Q":"3x("+x+")"});dB?O(dB,{"2Q":"3x("+x+")"}):\'\';O(7z,{"2Q":"3x("+x+")"})}E 5u(){if(!qm){if(C.7F>0){O(dB,{"Y":0})}if(2O(C.zk)){O(7z,{"2x-1w":C.1w})}if(C.bg==1){if(C.9Z!=-1){B m=1z 5K({"mc":bg,"1H":"8q","to":C.5A,"1b":0.1,"me":(1c+"bg")})}if(2O(C.cL)){O(bg,{"2x-1w":C.5a})}}if(C.3B==1){if(C.Js==1&&I(C.w8)){if(C.oN==1&&3I){}F{3B.1V="<2e Y=\'"+C.g8+"\' 1g=\'20\' 3N:3M=\'3r://3E.w3.3F/6L/3M\' 3N=\'3r://3E.w3.3F/3X/2e\'>"+C.dK.6g()+"</2e>"}}if(C.kG==1){O(3B,{"2Q":"1I(0)"})}F{if(C.qe!=-1){B m2=1z 5K({"mc":3B,"1H":"8q","to":C.w1,"1b":0.1,"me":(1c+"3B")})}}}if(C.eR>0){O(bg,{"2Q":"3x(1)"});wo(1)}if(1i=="1J"&&!o.2a){o.U.5w(L);o.5w=L}o.Q.jT(1c,"5y")}if(C.f1==1&&9d){9d.5y()}if(C.2y==1&&(o.P.1q()>0||1i=="1J")){pn()}if(o.pa&&1i=="2N"){o.th.1m();o.JA=-1}6G=L;o.dM=L}E 9b(1h){1h.6B=H}E Jk(1h){1h.6B=H}E wq(1h){if(1i=="1J"){if(o.9e){qm=H;2P(wn);wn=1C(E(){qm=L;5u()},2n)}}wW();o.3I=L;if(C.3B==1){if(C.oN==1&&I(C.wh)){3B.1V="<2e Y=\'20\' 1g=\'20\' 3N:3M=\'3r://3E.w3.3F/6L/3M\' 3N=\'3r://3E.w3.3F/3X/2e\'>"+C.dK.6g()+"</2e>"}}da(1h.6h,1h.9o);o.Q.fB(1c);o.Q.g6(1h.6h,1h.9o);1h.6B=H}E p4(1h){3I=H;if(C.3B==1){if(C.oN==1&&I(C.wh)){3B.1V="<2e Y=\'20\' 1g=\'20\' 3N:3M=\'3r://3E.w3.3F/6L/3M\' 3N=\'3r://3E.w3.3F/3X/2e\'>"+C.wh.6g()+"</2e>"}}eT=kZ(bg);9D=gY(bg);da(1h.6h,1h.9o);6P(2B,1,"no")}E da(dh,dQ){B x;dh=dU(dh);dQ=dU(dQ);B Jm=2M.6n(1P.ph.bv,1P.8S.bv);B Jl=2M.6n(1P.ph.dF,1P.8S.dF);if(o.1l.2j){}F{dQ=dQ+Jl;dh=dh+Jm}if(C.bi>0){x=dQ-eT-C.7j;2B=x/w;if(C.bi==Jn){x=dQ-eT-C.7q;2B=x/w;2B=(2B-1)*-1}}F{x=dh-9D-C.7q;2B=x/w;if(C.bD>134&&C.bD<Q0){x=dh-9D-C.7j;2B=x/w;2B=(2B-1)*-1}}2B>1?2B=1:\'\';2B<0?2B=0:\'\'}E dU(x){if(o.9U>1){x=x/o.9U}K x}G.Jo=E(){9d?9d.Jp(w):\'\'};G.k0=E(){9d?9d.dn(w):\'\'};E wW(){3I=L}E df(1h){9D=gY(bg);if(C.7F>0){if(o.1y||1i!=\'2N\'){O(dB,{"Y":dU(1h.6h)-9D})}}if(C.2y==1&&(o.P.1q()>0||1i=="1J"||8J)){kV();eT=kZ(bg);da(1h.6h,1h.9o);if(1i=="2N"){if(v.PU==1){if(o.P.5z()&&o.P.cv().J("?vG")>0){2R.1V=\'- \'+eY((1-2B)*o.P.1q(H))}F{2R.1V=eY(2B*o.P.1q())}}F{B d=o.P.1q();if(v.4A>0){d=d-v.4A*1}B bq=\'\';if(C.f1==1&&9d){bq=9d.2y(2B*d);bq!=\'\'?bq=bq+\'<br>\':\'\'}2R.1V=bq+eY(2B*d)}}if(1i=="1J"||8J){2R.1V=xp(2B)}9E(1h)}if(o.pa&&1i=="2N"&&o.th){xk=1h;if(!eU||v.Jq!=1){xy()}if(v.Jq==1){2P(eU);eU=1C(xy,50)}}if(C.3B==1&&C.wZ==1){kB(dU(1h.6h)-9D)}}E xy(){2P(eU);eU=1Q;if(C.2y==0){eT=kZ(bg);9D=gY(bg);da(1h.6h,1h.9o)}6G?o.th.cY(xk,w,2B,9D):\'\'}E 9E(1h,t,l){B 1e=(-w/2+(dU(1h.6h)+1P.ph.bv-9D)-2R.2i/2)+(l?l:0);B kp=0;if(v.yJ!=1){if(1e+w/2+2R.2i+10>o.3b){kp=1e;1e=o.3b-w/2-2R.2i-10}if(1e+o.3b/2<0){kp=1e;1e=-o.3b/2}}B x={"1d":(-2R.2Y-C.Jj*1-C.m7-C.xJ)-(C.Jr==1?(C.h/2)*(C.eR>0?C.eR:1):0)+(t?t:0),"1e":1e};O(2y,x);if(C.gz==1){O(8C,{\'1r\':\'2A\',\'1e\':2R.2i/2-4+(kp!=0?kp-1e:0),\'1d\':2R.2Y-6})}}G.kV=E(e,x,t,l){kV();2R.1V=x;9E(e,t,l)};E kV(){if(!5V(2y)||2y.C.1E==0){1u(2y);O(2y,{"1E":1})}}G.pn=E(){pn()};E pn(){1m(2y);O(2y,{"1E":0})}G.c=E(){K 1a};G.s=E(1c){K C[1c]};G.ss=E(x,x2){K C[x][x2]};G.g=E(x){bK(x){1p"Y":K w;1k;1p"PV":K 9i.2i;1k;1p"1g":K C.h;1k;1p"x":K 5h(1a.C.1e);1k;1p"y":K 5h(1a.C.1d);1k;1p"1E":K 1a.C.1E?1a.C.1E:1;1k;1p"1u":K 4t;1k;1p"3t":K 3t;1k;1p"3x":K 3x;1k;1p"1i":K 1i;1k;1p"1c":K 1c;1k;1p"x0":K x0;1k;1p"y0":K y0;1k;1p"2B":K 2B;1k;1p"gw":K 8J;1k;7J:K L}};G.1Z=E(1c,x){bK(1c){1p"1u":4t=x;1k;1p"3I":3I=x;1k;1p"2k":1i=="2N"||C.1m==1?O(1a,{"5P":(x?"4t":"3k")}):O(1a,{"2k":(x?"4d":"28")});4t=x;1k;1p"3t":O(1a,{"2Q":"3t("+x+")"});3t=x;1k;1p"3x":O(1a,{"2Q":"3x("+x+")"});3x=x;1k;1p"1E":O(1a,{"1E":x});1k;1p"1e":O(1a,{"1e":x});1k;1p"1d":O(1a,{"1d":x});1k;1p"2B":2B=x;1k;1p"dO":C.dO=x;1k;1p"Y":O(1a,{"Y":x});1k;1p"1g":O(1a,{"1g":x});1k;1p"x9":C.Q5=x;1k;1p"x":O(1a,{"1e":x});1k;1p"y":O(1a,{"1d":x});1k;1p"x0":x0=x;1k;1p"y0":y0=x;1k}};G.2E=E(x){2E(x)};G.nJ=E(x){};G.fR=E(bz,bB){if(3I){if(1i=="1J"||8J){da(bz,bB);o.Q.fB(1c)}if(1i=="1J"){o.9e=H}da(bz,bB);6P(2B,1,"no")}};G.g6=E(bz,bB){if(3I){wW();3I=L;da(bz,bB);o.Q.fB(1c);6P(2B,1,"no")}};E 6P(1b,1q,x){1b<0?1b=0:\'\';if(v.4A>0&&1q>1){1q=1q-v.4A;1b=1b-v.4A}if(C.3B==1&&C.zc==1&&C.kG!=1){if(!C.Jt&&1b>0){wx();C.Jt=H}}if(3I&&1q!=1){}F{B 4u;if(1q>0&&1b>0){if(1b>1q){1b=1q}4u=w*(1b/1q);if(4u==7z.2i){4u=-1}}F{4u=0}if(4u>=0){O(7z,{"Y":4u});if(C.wZ==1&&6G&&!x){}F{kB(4u)}}if(I(cT)){if(1q<2&&1i=="2N"){if(kA){3l(cT);kA=L}}F{if(!kA){6K(cT);kA=H}cT.1V=1i=="2N"?4w(1b==0?1q:1b):xp(1b)}}}};G.6P=E(1b,1q,x){if(1q!=Ju||1b!=Jv||x){6P(1b,1q,x)}};G.Jw=E(){2B>1?2B=1:\'\';2B<0?2B=0:\'\';O(7z,{"Y":(2B*w)})};G.Jx=E(1b,1q){if(1q>0&&1b>0){B 4u=w*(1b/1q);4u>w?4u=w:\'\';O(cU,{"Y":5h(4u)});Jy=1q;xf=1b}F{xf=0;O(cU,{"Y":0})}};G.kw=E(x){if(C.6s==1){if(!o.6s){if(x!=0){if(1N Jz!=="1Q"){o.6s=1z Jz(1a,C,x);o.9T=H}}}F{if((!I(x)||x==0)&&o.9T){o.6s.1m();o.9T=L}F{if(!o.9T||(I(x)&&x!=1&&x!=0)){o.6s.wE(x);o.9T=H}}}}};E JV(){o.cY=1T("26");O(o.cY,{\'1r\':\'2A\',\'1e\':0,\'1d\':0,\'Y\':v.JC,\'1g\':v.JW,\'6O\':\'3k\',"4j-3i":"28","2x-1w":"#gS","2S-7b":v.Ki+\'px\',"2k":"28"});o.cY.id="Ph"+v.id;if(v.Kk==1){O(o.cY,{"2S":v.Kl+"px 6q "+wM(\'1w\',v.Km)})}if(v.Kn==1){O(o.cY,{"5W-aj":"ee 3Q f5 5m(0,0,0,0.5)"})}o.cY.C.4T="jS";1a.1R(o.cY)}E mn(){2y=1T("26");O(2y,{\'1r\':\'2A\',\'1e\':0,\'1d\':0,\'1g\':\'2t\',"4j-3i":"28","1E":0,"5i":"1E 0.1s 3d"});C=4h(C,\'kv\',\'kv\');2R=1T("26");O(2R,{\'1r\':\'2A\',\'2X-1e\':C.xG,\'2X-2o\':C.Ko,\'2X-1d\':C.m7,\'2X-2V\':C.xJ-1,\'1D-6W\':\'6k\',\'1w\':C.xK,\'4b-hk\':hq(C.xF),\'4b-42\':C.xM*2I(v.8o,1),\'f7-eF\':C.xO+\'px\',\'2N-1g\':"1",\'2x-1w\':5M(C.kx,C.kz),\'2S-7b\':C.xP});C.Kp?C.gz=C.Kp:\'\';if(C.gz==1){8C=1T("26");8C.1V=\'<2e Y="bo" 1g="xQ" xR="0 0 8 6" 8G="1.1" 3N="3r://3E.w3.3F/3X/2e" 3N:3M="3r://3E.w3.3F/6L/3M"><gA id="Kq" 3P="28" 4r="\'+3y(C.kx)+\'" 4r-gy="Kj" 8P="0 0 8 0 4 6"></gA></2e>\'}1a.1R(2y);2y.1R(2R);if(C.gz==1){2y.1R(8C);O(8C,{\'1E\':C.kz})}2y.C.4T="2n"};E Kr(){if(o.3w&&v.cu==1&&!o.1y){B f=o.3w.9Q();if(f.t&&f.d){6P(f.t,f.d)}}};E xp(x){B y=2M.4q(x*100);if(8J){if(o.kC){K(8J&&2O(C.2R)?C.2R+\'&h1;\':\'\')+3T(x*o.5T.6Y(-1)[0]).xq(1)}if(o.Kt){K(8J&&2O(C.2R)?C.2R+\'&h1;\':\'\')+o.xr}}K y};G.4g=E(){1a.3h(9t);if(bg){bg.gW("aI");bg.gW("gx");bg.gW("gU");bg.4k.3h(bg);bg=1Y}if(3B){1a.3h(3B)}if(1a.4k==o.1U){o.1U.3h(1a)}F{if(o.1t){if(1a.4k==o.1t){o.1t.3h(1a)}}}1a=1Y}};B xt=E(1d){B i;B C=[];B w;B h;B 4t=H;B 3t=1;B 3x=1;B x0=0;B y0=0;B bp=5G(my,P5);B 1i,1c="bg";B 1H="Pc";if(1d==H){C["1r"]=\'1d\';C.h=2I(v.1t.PE,50);C.a=2I(v.1t.PA,0.5);C.1w=2I(v.1t.Px,\'#gS\')}F{C["1r"]=v.1t.1r;V(B k in v.1t){if(v.1t.2v(k)){C[k]=v.1t[k]}}}if(C.1u==0){v.1t.h=C.h=0;C.2X=C.2F="0 0 0 0";C.4S=0}C["1I"]=1;C=4h(C,\'2F\',\'2F\');if(I(C.kJ)){if(C.kJ!=20&&C.2F=="-20 0 0 0"){C.8Z=C.kJ}}if(2O(C.Ku)&&o.ah){C=4h(C,\'2F\',\'Ku\')}if(C.Rd==1){C.4s+=\'%\';C.4I+=\'%\'}B 1a=1T("26");if(C.9K==1&&C.4S==0){C.a<1?C.vr=C.a:C.vr=0.2;v.1t.a=C.a=1}F{C.9K=0}O(1a,{\'1r\':\'2A\',\'1e\':0,\'1d\':0,\'Y\':(C.kN==1||1d?\'100%\':o.au),\'1E\':C.a,\'4j-3i\':\'28\',\'eh\':\'nl\',\'lz\':\'kW\'});o.1U.1R(1a);B bg=1T("26");O(bg,{\'1g\':C.h-(C.1r!=\'1d\'?C.do+C.8Z:0),\'2k\':\'4d\',\'2F-1e\':C.4s,\'2F-2o\':C.4I,\'2S-7b\':C.7m});if(C.kO>0){B kO=\'3Q 6q \'+5M(2I(C.Rl,\'3K\'),C.kO);if(C.Rf==1){O(bg,{\'2S-1d\':kO})}F{O(bg,{\'2S\':kO})}}1a.1R(bg);w=1a.2i;v.dI=-C.8Z;if(C.4S==1||1d){if((C.1w==\'3Z\'||v.1t.aa!=\'\')&&!1d){if(C.1r!=\'1d\'){v.dI=98-C.h}B 4c=\'2b:aa/vQ;kT,Re+Rw/T/D+N1/Ml/Mk==\';if(v.1t.aa.J("2b:aa")>-1){4c=v.1t.aa}O(bg,{\'1g\':C.h+(C.1r!=\'1d\'?v.dI:0),\'2x\':\'W(\'+4c+\') gV-x 50% 100%\',\'2x-42\':\'2t\'})}F{B h6=(1d?\'to 1d, \':\'to 2V, \')+5M(C.1w,0)+\', \'+5M(C.1w,1);O(bg,{\'2x\':\'-lO-3d-4S(\'+h6+\')\',\'2x\':\'-3L-3d-4S(\'+h6+\')\',\'2x\':\'-ms-3d-4S(\'+h6+\')\',\'2x\':\'-o-3d-4S(\'+h6+\')\',\'2x\':\'3d-4S(\'+h6+\')\'})}}F{if(C.9K==1){O(1a,{\'kU-6R\':\'9K(bo)\'});O(bg,{\'1E\':C.vr})}O(bg,{\'2x-1w\':C.1w})}if(1d){O(1a,{"5i":"1E 0.2s 6A-5y"})}G.h=E(){K C.h-(C.1r!=\'1d\'?C.8Z:0)};G.c=E(){K 1a};G.s=E(1c){K C[1c]};G.g=E(x){if(1a){bK(x){1p"w":1a.2i>0?w=1a.2i:\'\';K w;1k;1p"Y":K 1a.2i;1k;1p"1g":K 1a.2Y;1k;1p"x":K 5h(1a.C.1e);1k;1p"y":K 5h(1a.C.1d);1k;1p"1E":K 1a.C.1E?1a.C.1E:1;1k;1p"1u":K 4t;1k;1p"3t":K 3t;1k;1p"3x":K 3x;1k;1p"1c":K 1c;1k;1p"x0":K x0;1k;1p"y0":K y0;1k;1p"bp":K 1c+bp;1k;7J:K L}}F{K L}};G.1Z=E(1c,x){bK(1c){1p"1u":4t=x;1k;1p"w":w=x;1k;1p"2k":O(1a,{"2k":(x&&v.vu!=1?"4d":"28")});4t=x;1k;1p"1I":O(1a,{"2Q":"1I("+x+")"});3t=x;3x=x;1k;1p"3t":O(1a,{"2Q":"3t("+x+")"});3t=x;1k;1p"3x":O(1a,{"2Q":"3x("+x+")"});3x=x;1k;1p"1E":O(1a,{"1E":x});1k;1p"1e":O(1a,{"1e":x});1k;1p"1d":O(1a,{"1d":x});1k;1p"Y":O(1a,{"Y":x});1k;1p"1g":O(1a,{"1g":x});1k;1p"x":O(1a,{"1e":x});1k;1p"y":O(1a,{"1d":x});1k;1p"x0":x0=x;1k;1p"y0":y0=x;1k}};G.4g=E(){o.1U.3h(1a);1a=1Y}};if(1N(2G)=="5b"){Kv()}o.G=G;if(2G.id){if(1P.7H(2G.id)){vU()}F{1P.1A(\'NB\',ha)}}F{1N vT==\'E\'?vT():\'\'}E vU(){if(I(2G.id)){if(1P.7H(2G.id)){if(!IT(1P.7H(2G.id))||2G.4t==1){2G.Nz==1?1C(ha,50):ha()}F{1C(vU,50)}}}}E ha(){V(B i=0;i<59.R;i++){if(I(59[i])){if(59[i].3v("id")==2G.id){if(59[i].3v("7L")){59[i].3v(\'2L\')}}F{if(v.Nx==1&&59[i].3v("v","3j")==1){2G.3j=0}}}}59.2U(o.G);B 2L=L;if(I(2G.3m)){V(B i=2;i<10;i++){if(2G.3m==i&&o[\'u\'+i]!=\'\'){v=aE(v,5l.6Z(dp(o[\'u\'+i])));2L=H}}}if(o.u!=\'\'&&!2L){v=aE(v,(1N o.u!="3W"?5l.6Z(dp(o.u)):o.u))}if(1N(NP)!="E"){V(B 1c in 2G){if(2G.2v(1c)){if(1c.J("Kw")==0){2G[1c]=1Y}}}}v=aE(v,2G);o.1G=1P.7H(v.id);if(v.km==1&&v.O8==1&&1N(wj)=="E"){rb(o.1G,"O1");if(!wj()){1S.1P.1A("9p",wj)}}F{Kx()}}E Kx(){B fQ=v.2g;if(v.NZ==1&&I(v.2g)&&I(fQ)){v.2g!=\'\'?v.2g=fQ:\'\'}if((!I(v.3z)||v.3z==\'\')&&v.NY==1){1v(\'6r\');K}if(v.Ky==1||v.xW==1){1S.1A(\'9L\',E(1h){B x=1Q;B y;I(1h.2b.1b)?x=1h.2b.1b:\'\';I(1h.2b.1J)?x=1h.2b.1J:\'\';I(1h.2b.Kz)?y=1h.2b.Kz:\'\';I(1h.2b.3v)?y=1h.2b.3v:\'\';if(y&&v.wt){if(v.wt!=\'\'){B pm=v.wt.1M(/\\s+/ig,\'\').2z(\',\');if(pm.J(y)==-1){K}}}if(v.xW==1){if(1N(KA)=="E"){KA(1h)}}if(y&&o.8R){if(I(1h.2b.1Z)){x=1h.2b.1Z}B z=3H(y,x);1S.7X.om({1h:y,bG:z},\'*\')}})}V(B 1c in o.ge){if(o.ge.2v(1c)){o.ge[1c]!=\'\'?o.lf+=o.ge[1c]+\' \':\'\'}}1v(o.8G+\' \'+o.lf);eL=v.id;o.d=8D.we;o.hs=8D.RV;if(!v.4G&&7c([o.hs],\'#1B-\')){v.4G=o.hs.1n(o.hs.J(\'#1B-\')+6)}if(7X){B oa=L;3o{if(7X){if(7X.1P){B oc=7X.1P.aS("Ks");V(B i=0;i<oc.R;i++){if(oc[i].kS===1S){o.8x=oc[i];o.o6=H;v.Kh!=1?O(o.8x,{"2S":"28"}):\'\';o.KC=o.8x.C;1v("aH")}}}F{oa=H}}}2T(es){oa=H}if(oa){o.o6=H;1v("VQ-k7")}}o.o6&&1P.lA?o.k7=1P.lA.2z(\'/\')[2]:\'\';!o.K7?Kg():\'\';if(1N(JZ)=="E"){if(JZ()){K}}o.8R=H;K0();B K1=1z 6S();if(K1.VI()==20){if(5G(1,20)==10&&v.VH!=0){wC(o.zu,o.zu);1C(E(){if(1S.ga){ga(\'hg\',\'UA-VE-6\',\'2t\',{\'6M\':\'6c\',\'VD\':H});ga(\'VC\',\'K2\');ga(\'K2:VV\',[o.d]);ga(\'6c.bY\',\'1h\',{K3:\'n2\',K4:\'ha\',K5:o.d})}},hm)}}if(v.ga==1&&v.JY!=1){if(1N K6==\'E\'){o.ga=1z K6()}}if(!o.1G){v.1v=1;1v(\'id "\'+v.id+\'" hf mX\');K L}o.1G.1V=\'\';O(o.1G,{\'2X\':0,\'W0-eF\':\'ek\'});o.9k=o.1G.2Y;o.9m=o.1G.2i;if(I(v.kh)&&!I(v.51)){if(I(v.kh.51)){v.51=v.kh.51}if(I(v.kh.nf)){v.nf=v.kh.nf}}if(o.1G.C.Y.J("%")>-1){o.VZ=o.1G.C.Y}if(v.51=="6N"||o.1G.C.1g.J("%")>-1){v.51="%";o.nu=o.1G.C.1g;o.9k=0}if(o.9m==0){if(o.1G.C.Y.J("px")>0){o.9m=2K(o.1G.C.Y)}F{if(o.1G.4k.C.Y.J("px")>0){o.9m=2K(o.1G.4k.C.Y)}F{if(o.1G.4k.4k.C.Y.J("px")>0){o.9m=2K(o.1G.4k.4k.C.Y)}}}}if(6V(v.51).J("x")>0){o.51=v.51.2z("x")[0]/v.51.2z("x")[1];if(o.9k==0){o.9k=o.9m/o.51}}F{o.51=0}O(o.1G,{\'1r\':\'hl\',\'5W-l6\':\'y6-5W\',\'1D-6W\':\'1e\',\'-3L-ho-kj\':\'28\',\'zl\':hq(\'nB-ny\'),\'9n-1g\':15,\'eh\':14*2I(v.8o,1),\'2N-1g\':\'kW\',\'Jh\':\'ID\',\'1w-K8\':\'28\'});if(v.aj==1){O(o.1G,{\'5W-aj\':\' 0 K9 VW 5m(50,50,93,.1), 0 f5 K9 5m(0,0,0,.Vd)\'})}if(o.51>0){O(o.1G,{\'1g\':o.9k})}F{O(o.1G,{\'1g\':o.9k==0?o.nu:o.9k})}if(o.9m==0){O(o.1G,{\'Y\':\'100%\'})}o.1U=1T("26");O(o.1U,{\'1r\':\'2A\',\'5W-l6\':\'y6-5W\',\'8f\':v.np,\'1w\':\'#3K\',\'Y\':\'100%\',\'1g\':\'100%\',\'1e\':0,\'1d\':0,\'eh\':\'nl\',\'2N-1g\':\'kW\'});if(v.yJ!=1){o.1U.C.6O=\'3k\'}if(v.Vy==1){o.1U.C.8f=\'d2\'}o.O=1P.1T(\'C\');o.O.1H=\'1D/O\';o.1U.1R(o.O);o.1U.6e("id",\'Va\'+v.id);lW(1);if(1S.Ka){B Kb=1z Ka(E(e){if(e[0].yn.R>0){V(B i=0;i<e[0].yn.R;i++){if(e[0].yn[i]==o.1U){rg()}}}});Kb.V7(o.1G,{V6:H})}o.ep=1T(\'aH\');4e(o.ep,{"id":"Kd"+v.id,"Kc":"no","1O":"Kd"+v.id,"yh":"H","Ke":"H","Kf-mY":"H"});O(o.ep,{\'1r\':\'2A\',\'Y\':\'100%\',\'1g\':\'100%\',\'2S\':0,\'4j-3i\':\'28\'});if(v.2S==1){if(v.US==1){O(o.ep,{"5W-aj":"ee ee ee "+v.yg+"px "+v.8u+" V0",\'4T\':2})}F{O(o.1G,{\'2S\':v.yg+\'px 6q \'+v.8u})}}if(!1P.UZ(\'.yW\')){B 1K="";if(v.JX==1){V(B i=1;i<4;i++){if(2O(v[\'1w\'+i])){1K+=\'--UX\'+i+\':\'+3y(v[\'1w\'+i])+\';\'}}}l4("5k, 5k > *{-3L-UW-5P: 3k;1r: nN;1d: 2t;1e: 2t;6O:4t;Jh:ID!62;6n-Y:28!62;eq-1i: UT;2Q-Jg: 6k 6k;5W-l6:y6-5W!62;-3L-Ik-Il-1w: 5m(0,0,0,0);-3L-Ik-Il-1w: d2;1D-Vo:0!62;"+1K+"} 5k 4c{6n-Y:28} 5k > *:5X{Im: 28} 5k,5k a,5k a:Vv,5k a:Vt,5k a:gI,5k a:e6,5k a:5X{1w:#gM;4b-42:100%;}5k aH{2S:0}5k aH{2k:4d!62;6n-1g:28!62;2x:d2}.yW{}5k 2e{2F:0}");o.1U.6e(\'Vs\',\'yW\')}o.1U.1R(o.ep);o.1G.Vr=E Vq(e){o.lU++;if(o.lU==5){v.1v=1;1v(o.8G+\' \'+o.lf+\' \'+o.jR)}if(!e)B e=1S.1h;e.6B=H;if(e.bC)e.bC();B x=e.kL-gY(o.1U);B y=e.nL-kZ(o.1U);if(v.Vn==1){if(I(v.lp)){if(4L(v.lp)!=\'\'){o.yU=v.lp;I(v.In)?o.fb=v.In:\'\';v.lp==\'28\'?o.fb=o.d:\'\'}}}ro(x,y);K L};E ro(x,y){if(o.fb.J(o.d)==-1||v.Io==1||v.4P==1){if(!I(o.4P)){!v.nn?v.nn="3Z":\'\';!v.sb?v.sb="3K":\'\';o.4P=1T(\'26\');B 1K;B n=0;V(B i=0;i<10;i++){if((v[\'rm\'+i]==1&&v.4P==1)||i==9){if((I(v[\'rm\'+i+\'t\'])&&I(v[\'rm\'+i+\'a\'])||i==9)){1K=1T("z2");if(i==9){if(v.Vl!=1){1K.yR=o.yU+(v.Ip==1?" "+o.8G:\'\')}F{1k}}F{1K.yR=v[\'rm\'+i+\'t\']}if(i!=9){if(v[\'rm\'+i+\'a\'].J(",0/1")>-1||v[\'rm\'+i+\'a\'].J(",1/0")>-1){B z=v[\'rm\'+i+\'a\'].2z(\',\');1K.yR+=\' (\'+(3H(z[0].1n(4))==1?2J(\'on\'):2J(\'6N\'))+\')\'}if(v[\'rm\'+i+\'a\'].J("2u")==0){o.fs=H;!o.2u?o.Q.Iq():\'\'}}1K.6e("i",i);Ix(1K);1K.1A("2B",Ir);o.4P.1R(1K);n++}}}O(o.4P,{"1D-2Q":"Vi","2N-1g":"1","9O-8n":"d0","2x":5M(v.nn,0.7)});if(n>1){O(o.4P,{"2X":"f5"})}o.4P.C.4T="Vg";o.4P.lb=Ij;o.1U.1R(o.4P)}F{6K(o.4P)}O(o.4P,{"1r":"2A","1d":y,"1e":x,"1D-6W":"1e"});B vg=L;if(o.3b-x<o.4P.2i-20&&v.yJ!=1){O(o.4P,{"1e":x-o.4P.2i});vg=H}if(v.Xl==1||vg){O(o.4P,{"1D-6W":"2o"})}o.It=x;o.Iu=y;2P(o.mC);o.mC=1C(E(){3l(o.4P)},3X)}}E Ij(){2P(o.mC);o.mC=1C(E(){3l(o.4P)},3X)}E Ir(e){B i=e.4y.6a("i");B y;B rK=L;if(i>0){if(i==9){o.fb!=\'\'?1S.5U(o.fb):\'\'}F{B x=v[\'rm\'+i+\'a\'];if(x){if(x.J("3v:")==0){if(x.J(",0/1")>-1||x.J(",1/0")>-1){B z=x.2z(\',\');B b=o.Q.rw(x,"3g");B u=3H(z[0].1n(4),z[1],b);js(z,u);rq();ro(o.It,o.Iu);rK=H}F{y=x.2z(",");3H(y[0].1n(4),(I(y[1])?y[1]:1Y))}}if(x.J("2u:")==0&&o.2u){o.2u.3v(x.1n(6))}if(x.J("js:")==0){y=x.2z(",");2l(y[0].1n(3)+\'(\'+(I(y[1])?\'"\'+y[1]+\'"\':\'\')+(I(y[2])?\',"\'+y[2]+\'"\':\'\')+\')\')}if(x.J("W:")==0){x=x.1M(/\\(W\\)/g,Iv());x=x.1M(/\\(Xc\\)/g,rk(I(v.Iw)?v.Iw:1P.lA));x=x.1M(/\\(1O\\)/g,o.dc);x=x.1M(/\\(7S\\)/g,v.7S);1S.5U(x.1n(4))}}}!rK?3l(o.4P):\'\'}}E Ix(x){O(x,{"2X":"Iy f5","4b-42":(v.Iz?v.Iz:"55")*2I(v.8o,1)+"%","f7-eF":"0.X9","1E":0.9,"1w":v.sb});x.1A("ng",IA);x.1A("n9",Is)}E IA(e){O(e.4y,{"1E":1});O(e.4y,{"2x":5M(v.nn,0.5)})}E Is(e){O(e.4y,{"1E":0.9});O(e.4y,{"2x":"28"})}o.1l=1z Ih();if(o.1l.5o){B qO=(v.I8==1?\'*::-3L-P-Q-1y-Xm-nq {2k: 28!62;-3L-qK: 28;}\':\'\');if(v.oz==1&&v.Ig!=1&&(v.I0!=1||!o.1l.7O)&&(v.I1!=1||!o.1l.kq)){}F{if(o.1l.5o&&v.gN==1){}F{qO+=\'dq::-3L-P-Q {2k:28 !62;}*::-3L-P-Q-XA {2k: 28!62;-3L-qK: 28;}*::--3L-P-Q-1B-nq {2k: 28!62;-3L-qK: 28;}\'}}B 1K=1P.1T(\'C\');1K.1H=\'1D/O\';1K.1R(1P.I2(qO));o.1U.1R(1K)}if(o.1l.I3){v.3j==1&&v.Xp==1?v.3j=0:\'\'}if(o.51==0){if(o.1U.2Y==15&&!o.nu&&v.I4>0){O(o.1G,{"1g":v.I4})}}if(I(v.kk)){v.X.eA=v.kk}if(I(v.nD)){v.X.nC=v.nD}if(I(v.1y)){o.2c=v.1y}if(I(1S.I5)&&v.Xv==1){1S.I5(gd)}F{gd()}}E gd(){1v("gd");o.U=1z I6();if(!v.3z){v.3z="?"}if(v.pl){v.3z=v.pl+o.ex}o.Xt=kf();o.HZ=0;o.5q=r8();if(o.5q){if(3a.4n("r7")!=1Y){o.qJ=3a.4n("r7")}F{o.qJ=kf();3a.7Q("r7",o.qJ)}if(v.qT==1){if(3a.4n("qX")!=1Y){o.4Q=3a.4n("qX");if(2O(v.c8)){if(v.c8.J(o.4Q)>-1){o.4Q=1Y}}}}if(v.I7==1){if(3a.4n("r6")!=1Y){v.aZ=3a.4n("r6")}}V(B i=0;i<o.cs.R;i++){if(v[\'I9\'+o.cs[i]]==1){if(3a.4n("Ia"+o.cs[i])!=1Y){}F{v[o.cs[i]+\'s\']=0}}}7R("X1");7R("X0")}o.9F=o.8k.1n(o.8k.J("://")+3);if(o.9F.J("#")>0){o.9F=o.9F.1n(0,o.9F.J("#"))}if(o.5q&&v.cu==1){o.3w=1z Ib()}if(v.km==1){o.5P=v.WB;rb(o.1G,"5P",H)}v.gj==1&&v.km==1?o.gj=1z WA():\'\';v.ab==1?Wz():\'\';if(v.Wx==1){o.bI=1z Ww();o.bI.b0()}o.P=1z Ic(v.3z);if(!o.1l.2j||v.cJ==1){o.1U.1A("Wk",E(){o.5c=H;o.o4=H;o.Q?o.Q.Id():\'\'});o.1U.1A("Wr",E(e){if(!o.3I){if(v.1t.9u>0){2P(o.Ie);o.Ie=1C(E(){if(o.5c!=o.o4){o.5c=o.o4;o.Q.tV()}},v.1t.9u*2n)}F{o.5c=L}o.o4=L;if(o.Q){o.Q.nJ()}}})}if(!o.1l.2j){o.1U.1A("If",E(e){if(!o.kR){o.3I=H}});o.1U.1A("a4",E(e){if(!o.kR){o.3I=L;if(!o.5w){o.9e=L;o.eu=L}if(o.1l.eq&&o.1l.cJ&&o.2a){1C(E(){o.5c=L;o.Q.tV()},3V)}1C(E(){o.5X=H},3V);if(o.1l.2j&&o.Q.qD()){}F{o.Q?o.Q.g6(e.6h,e.9o):\'\'}if(v.eS==1){if(o.Q.cI()){o.Q.7W()}}}});o.1U.1A("v4",E(e){if(!o.kR){if(I(o.Q)){if(o.3I){o.Q.fR(e.6h,e.9o)}F{o.Q.td()}}}})}if(o.1l.2j){1S.1A("Wo",IM,L)}v.su==1&&1N IB==\'E\'?o.su=1z IB():\'\';o.3J.1A("fL",E(e){if(e.8b){o.gu=e.8b.R}o.3I=H;o.5c=H;o.oq=L;nI("1y",e)},{fS:H});o.3J.1A("cB",E(e){if(e.8b){o.gu=e.8b.R;if(o.gu>1){o.uE=1}}if(o.3I){o.oq=H;nI("Wn",e)}},{fS:H});o.3J.1A("er",E(e){o.3I=L;1C(E(){o.5c=L},3V);if(v.q3==1){B k5=1z 6S().9j();if(k5-o.a2<(v.ku?v.ku:0.3)*2n){oT(e)}}!o.oq&&o.gu<2&&o.uE!=1?gZ(e):\'\';o.oq=L;o.gu=0;if(e.8b.R==0){o.gu=0;o.uE=0}nI("4p",e)},{fS:H});3o{1S.1P.1A("a4",E(e){o.5X=L;if(!o.5w){o.9e=L;o.eu=L}if(o.3I&&o.Q){o.3I=L;o.Q.g6(e.6h,e.9o);o.Q.nJ()}if(!o.5c&&!o.1l.2j&&!o.1l.tv){o.Q.cE();if(o.3c){o.3c.8O()}o.Q.Ii()}})}2T(es){}1S.1P.1A("v4",E(e){o.Q&&o.3I?o.Q.fR(e.6h,e.9o):\'\'});if(!o.1l.tv){o.1U.1A("fL",E(e){o.kR=H;o.1l.2j=H;o.eq=H;o.3I=H},{fS:H});o.1U.1A("er",E(e){o.eq=L;o.3I=L},{fS:H});1S.1P.1A("cB",E(e){if(o.Q&&o.eq){o.Q.fR(e.8b[0].kL,e.8b[0].nL)}},{fS:H})}1S.1P.1A("WD",E(e){B x=e.4y.nU.nY();if(x==\'lH\'||x==\'uK\'||x==\'IX\'){K}F{o.Q?o.Q.IC(e):\'\'}});1S.1P.1A("WE",E(e){B x=e.4y.nU.nY();if(x==\'lH\'||x==\'uK\'||x==\'26\'||x==\'IX\'){K}F{o.Q?o.Q.IZ(e):\'\'}});if(o.8x){uS(7X.1P,IE)}uS(1P,IL);E uS(x,z){B y=[\'\',\'lO\',\'3L\',\'ms\',\'WY\'];if(x){V(B i=0;i<y.R;i++){x.1A(y[i]+(i<y.R-1?"WX":\'\'),z,L)}}}if(!I(o.ep.kS)){1v("WW");K}F{o.ep.kS.1A(\'4M\',pu,H)}if(!o.1l.2j){o.3J.1A("2B",E(e){!o.kR?gZ(e):\'\'},L);if(v.oB==1&&v.q3==1){o.3J.1A("J0",oT,L)}}po();if(v.4i){v.4i.on==1?o.4i=1z WU():\'\'}v.6j==1?o.6j=1z WT():\'\';v.gb==1?o.gb=1z WS():\'\';o.Q=1z te();if(v.cK.J1){o.lV=v.cK.J2}a5();aF();if(o.5q){if(v.sB==1&&v.1J!=0&&!o.1l.2j){if(3a.4n("sD")!=1Y){v.1J=3a.4n("sD")}if(3a.4n("kE")==1&&v.mA==1){v.5e=1}}if(v.J3==1){B sp=3a.4n("J4");if(I(sp)){if(sp.J(\'.\')>0&&o.kC){o.U.9x(sp,1)}F{if(o.5T){B mF=7c(o.5T,sp,H);if(mF!=-1&&o.Q.J5(\'53\')){o.an=mF;o.P.9x(o.5T[mF])}o.Q.IY()}}}}B tG=L;if(v.tc==1){V(B j=0;j<o.ci.R;j++){if(3a.4n("mO"+o.ci[j])!=1Y){v[o.ci[j]]=3a.4n("mO"+o.ci[j]);tG=H}}}if(o.1l.2j){if(!tG){v.tH&&v.tH>-1?v.cp=v.tH:\'\'}if(I(v.J6)){v.mG=v.J6;2O(v.J8)?v.mt=v.J8:\'\'}}}if(o.3w){B f=o.3w.9Q();if(f.t&&f.d){o.Q.ej(f.t,f.d);o.Q.3Y(f.t,f.d);v.1q=f.d}}o.U.46(v.1J);if(v.5e==1){o.U.5d();o.Q.4H()}if(I(v.J9)){3H("53",v.J9)}o.8v=1z tj();if(v.7m>0){if(v.eS==1||o.aY<120){O(o.1G,{"2S-7b":(v.7m+"px")});O(o.1U,{"2S-7b":(v.7m+"px")})}F{UQ()}}if(I(v.6J)){ts("6J")}if(I(v.fD)){ts("fD")}if(I(o.X)){js("X")}if(v.8d==1&&v.Tm==1){o.U.mm()}V(B i=2;i<10;i++){if(I(v["e1"+i])){if(v["e1"+i]=="2j"&&o.1l.2j){3H("e1",i)}}}1C(pu,3V,H);1C(E(){js("8R");if(v.4a){if(1N v.4a==\'E\'){v.4a=v.4a.6M};2l(v.4a+(v.4a.J(\'()\')==-1?\'("\'+v.id+\'")\':\'\'))}},1)}E gZ(e){if(o.tx[o.3J]>2){K}o.qd=H;v.ku==0?v.q3=1:\'\';if(o.pq&&v.e9==1&&!o.1l.tv){oT(e)}F{B t=(v.ku?v.ku:0.35)*2n;ou();2P(o.Ja);o.Ja=1C(E(){o.bW=0},t+4B);if(v.q3==1||(v.oB==0&&v.1W.oX!=1)){tk()}F{o.pq=1C(tk,t)}}o.bW++;pY()}E tk(){ou();if(o.1l.2j){if(o.Q.qD()){o.Q.td();if(o.3C&&v.qj==1){o.U.6y();v.qj=0}if(v.SG!=1){K}}if(o.kD){if(v.Jb==1&&v.SX==1&&o.1l.aL){K}if(v.gN==1&&v.SO==1&&o.1l.5o){K}}}if(o.bW>1&&v.1W.oX==1){o.bW=0;K}o.bW=0;if(v.e9==1){o.1l.2j&&v.SY==1?\'\':o.U.gZ()}}E oT(e){ou();B y=L;if(v.1W.oX==1){if(e){if(v.1W.Ti==1&&!o.1l.2j){}F{B x;if(o.1l.2j){x=e.Th;if(!x){if(e.Jc){x=e.Jc[0].kL-gY(o.1U)}}}F{x=e.Tf}if(o.9U>1){x=x/o.9U}if(x){if(x<o.3b/2){if(x<o.3b*20/100){3H("47","-"+2I(v.1W.Jd,10)*o.bW);v.1W.2H==1&&v.1W.Je==1?7A(\'47\',0):\'\';y=H}}F{if(x>o.3b-o.3b*20/100){3H("47","+"+2I(v.1W.Jd,10)*o.bW);v.1W.2H==1&&v.1W.Je==1?7A(\'47\',1):\'\';y=H}}if(y){if(e.bC)e.bC()}}}}}if(!y){if(v.oB==1){if(v.oz==1&&o.1l.2j){}F{o.2a?o.U.8p():o.U.9C()}}}}E ou(){2P(o.pq);o.pq=1Q}E pu(x){if(o.Jf!=o.1U.2i){x?o.Jf=o.1U.2i:\'\';pu()}F{aF()}}E aF(){B y=L;if(o.au!=o.1U.2i||o.aY!=o.1U.2Y){y=H}po();o.Q?o.Q.4M():\'\';o.P.4M();y&&!o.2a?js("4M",o.au+\',\'+o.aY):\'\'}E po(){B xw=o.1U.2i;B xh=o.1U.2Y;if(o.Q){if(v.uI==1){if(v.X.1r!="2V"){B x=o.Q.bT("J7")+o.Q.bT("1d")+5+o.Q.bT("IW")+2I(v.T2,0);O(o.1G,{"1g":x})}}}if(o.51>0&&!o.2a&&!o.di){xh=xw/o.51+2I(v.uX,0);O(o.1G,{"1g":xh})}if(!o.2a&&!o.di&&!o.bj){o.au=2M.4q(xw);o.aY=2M.4q(xh)}if(o.1l.2j&&o.2a&&v.sl==1&&ay.dS){if(o.51>0){if(o.51<1||o.P.9w()<1){B sp=ay.dS.vc(\'IR\');if(sp!==1Q){sp.bL(E(){}).2T(E(e){})}}F{B sp=ay.dS.vc(\'rZ\');if(sp!==1Q){sp.bL(E(){}).2T(E(e){})}}}F{B sp=ay.dS.vc(\'rZ\');if(sp!==1Q){sp.bL(E(){}).2T(E(e){})}}}o.3b=xw;o.4N=xh;if(I(v.1O)&&o.Q){v.1O!=\'\'?o.Q.IN():\'\'}if(I(o.jX)){o.P.1I(o.jX)}if(o.29&&!o.2a){o.29.2E()}o.3c?o.3c.2E():\'\';o.bI?o.bI.2E():\'\';o.6j?o.6j.3v(\'4M\'):\'\';o.cR?o.cR.2E():\'\'}E a5(){o.U.qE(v);V(B x in v){if(v.2v(x)){if(x.J("1O")==0){if(v[x]!=\'\'){o.v6=v[x];o.U.a5(x)}}}}o.gb?o.gb.IV():\'\'}E ae(W,1G,1I){if(W){if(W!=\'\'){if(v.bM==1){W=bM(W)}if(1G==o.2g&&W==o.tT){}F{if(W.J("#"+v.ak)==0){W=o[o.fd[0]](W)}if(W.J("#0")==0){W=bN(W)}W=qV(W);if(I(v.IF)&&W.J("//")==-1){W=v.IF+W}B s="ue";if(1I=="4r"){s="IG"}if(1I=="28"){s="2t"}if(1I=="IH"){s="100% 100%"}if(W.J(\' gJ \')>0&&1G==o.2g){o.ke=W.2z(\' gJ \');3R(o.ud);o.ud=7g(IJ,2I(v.S5,2)*2n);o.h3=0;W=o.ke[0]}W=W.1M(/ or /g,\'"),W("\');W=W.1M(/\\s/g,\'%20\');if(v.RW==1&&7c([W],\'.II\')){B 1K=\'6c\'+v.id+\'S1\';1G.1V=\'<dq id="\'+1K+\'" 2W="\'+W+\'" 9c=1 kb=1 3j=1 3C=1 C="Y:100%"></dq>\';o.h7=1P.7H(1K)}F{o.h7=1Q;1G.1V=\'\';O(1G,{\'2x-aa\':\'W("\'+W+\'")\',\'2x-gV\':\'no-gV\',\'2x-1r\':\'6k\',\'2x-42\':s})}1u(1G);1G==o.2g?o.tT=W:\'\'}}}};E IJ(){if(I(o.ke)&&I(o.h3)){o.h3++;if(o.h3>=o.ke.R){o.h3=0}ae(o.ke[o.h3],o.2g,v.h4)}}E RZ(x){if(x.on==1&&I(x.2W)){x.2W=qV(x.2W);B y=1T("26");if(x.2W.J("3r")>-1||x.2W.J("//")==0){B z=1T("4c");z.2W=x.2W;y.1R(z)}x=aE(x,v.IK);x=4h(x,\'2F\',\'2F\');O(y,{\'1r\':\'2A\'});if(x.1r.J("2V")>-1){O(y,{\'2V\':x.do})}if(x.1r.J("2o")>-1){O(y,{\'2o\':x.4I})}if(x.1r.J("1d")>-1){O(y,{\'1d\':x.8Z})}if(x.1r.J("1e")>-1){O(y,{\'1e\':x.4s})}o.1G.1R(y)}};E IL(){if(o.2a&&!sn()){o.U.qR(H);o.1l.ff?aF():\'\'}F{if(o.di||o.5c){sn()?o.2a=H:\'\';o.U.r0()}}1v("2a",o.2a)}E IE(){if(v.km==1){rb(o.1G,"5P",H)}}E Tq(){1v("dS "+ay.dS.pw)}E IM(){if(2M.IO(1S.dS)===90){1v("rZ");if(v.IS==1){B ok=H;if(v.IP==1&&!o.1y){ok=L}if(v.IQ==1&&!o.1B){ok=L}if(o.9z){ok=L}if(o.29){ok=H}!o.2a&&ok?o.U.9C():\'\'}}F{1v("IR");if(v.IS==1){o.2a&&v.sl!=1?o.U.8p():\'\'}}}E sn(x){!x?x=1P:\'\';B y=L;3o{y=!!(x.Sn||x.Si||x.Sx||x.S0||(x.S4!=1Q))}2T(e){y=L}K y}E IT(x){K x.2i==0&&x.2Y==0};E rg(){V(B x in o){if(x.J("IU")>-1){3R(o[x])}if(x.J("rp")>-1){2P(o[x])}}1v("16y")}}', 62, 4307, '|||||||||||||||||||||||||||||||||||||var|style||function|else|this|true|exist|indexOf|return|false|||css|media|controls|length|but||actions|for|url|playlist|width||||||||||||control|time|key|top|left|pjstg|height|event|action|settings|break|system|hide|substr|icon|case|duration|position||toolbar|show|log|color||start|new|addEventListener|play|setTimeout|text|opacity|hls|container|type|scale|volume|tmp|playlist_dic|replace|typeof|title|document|undefined|appendChild|window|createElement|frame|innerHTML|hotkey|faction|null|set|||subtitle||||div||none|vast|fullscreen|data|seekto||svg|subs|poster|pip|offsetWidth|mobile|display|eval|error|1000|right|file_type|vasturl|sub||auto|share|hasOwnProperty|open_action|background|tip|split|absolute|click|files_quality|Play|Resize|margin|options|icons|existv|Lang|parseInt|stop|Math|line|exist2|clearTimeout|transform|tiptext|border|catch|push|bottom|src|padding|offsetHeight|_type|||||||||||localStorage|screen_w|droplist|linear|Pause|files_subtitle|linkurl|removeChild|events|autoplay|hidden|hide2|player|current_quality|try|media2|plid|http||scaleX|current_subtitle|api|continue|scaleY|CheckColor|file|floatleft|handle|muted|rows|www|org|sbt|apiProcessor|mouseDown|mediacontainer|ffffff|webkit|xlink|xmlns|mediascale|stroke|1px|clearInterval|urls|parseFloat|dash|500|object|2000|Duration|000000||vasttype|size|Seek|||Volume|seek|||ready|font|img|block|attr|files|Remove|MarginPadding|chromecast|pointer|parentNode|clr|pause|getItem|ShowOrHide|end|round|fill|marginleft|visible|_to|values|Time|obj|target|_|delete|200|settings2|tagvideo|empty|preload|plstart|refresh|marginright|youtube||trim|resize|screen_h|dom|rightmenu|default_quality|is_hls|gradient|zIndex|xhr|_from|custom|f2title|quality|Action||aspect||speed|||subtitle_on|||pljssglobal|bgcolor|string|mouseHere|Mute|mute|order|value|int|transition|casting|pjsdiv|JSON|rgba|folder|ios|m_to|storage|live||canvas|onOut|valuefontsize|volumewheel|butPosition|out|isLive|bga|menuproc|shuffle|Hls|arr_down|arr_up|random|vastloader|f2value|_value|Motion|f2action|hex2rgb|vast_loaders|m_type|visibility|ftitle|SetQuality|animation|files_speed|open|isVisible|box|focus|airplay|onOver|||important||||||||getAttribute|dechar|pjs|plx|setAttribute|onError|toString|clientX|iset|effects|center|vast_|captions|max|UpdatePlaylist|valuecolor|solid|remove|cut|keys|cursor|is_dash|evntclk|UpdateText|Unmute|next|ease|cancelBubble|dash_created|status|minutes|File|over|hlsconfig|charAt|midroll|show2|1999|name|off|overflow|UpdatePlay|download|filter|Date|removeEventListener|skip|String|align|control2|slice|parse|||||||||||path|radius|indOf|com|intro|activeiconsize|setInterval|span|current_audiotrack|bgpaddingright|tips|audiotrack|rounding|redirect|current_url|motions|bgpaddingleft|Events|ended|safari|cuid|state|okpd|obj2|FindBut|line3|PluginHotIcon|preroll|files_audiotrack|vast_and|ioff|aover|bg2|getElementById|playedstore|default|seconds|playing|val|_url|iphone|embed|setItem|SettingsTimers|label|channels|always|toolbarHidden|Settings|parent|customline|f2i|||||||||||StopWaiting|touches|Object|pass|waiting|backgroundColor|navigator|txt|_show|paused|href|is_sleep|noads|space|globalfs|Normalscreen|alpha_div|fvalue|timer|hours|bordercolor|alert|buffered|parentIframe|lastwheel|VAST|Advertising|realfullscreen|tipcrn|location|ShowPoster|isVastBgLoad|version|onEnded|HLS|_cul|layer|floor|reload|Value|Close|points|metadata|init|body|hlsquality|sub_off|icn|onWaiting|customtext|stretch_width|margintop||vast_or|xbg||pipwebkit||gif||||SetSubtitle|onClick|loop|pnt|hidden_volume_over|Waiting|opid|ll1I|line0|getTime|container_h|close|container_w|min|clientY|scroll|info|timeline|ctx|lines|hideleavetimeout|area|ratio|SetSpeed|is_ws|ispipkit|ResizeText|loading|Fullscreen|leftBg|Tip|href2|apiprm|loaded|wait|preventDefault|blur|message|Sub|bitrate|white|Arrows|flag|fltrs|all|cutted|fzoom|curtain|bgpaddingtop|plhistory|HlsLevelsLength|bgaover|nativecontrols|reloadTimer|clicktime|srch|mouseup|Title|lIll|concat|End|pointerEvents|image||marginproc||Poster|vimeo|bgpaddingbottom|small|tag|shadow|enc2|ncrtat|hls_created|current_speed|control_|onDuration|unmute|HideControl|inline||normal_w|onPlay|hls_subs|created|screen|fbg|files_quality_ag|destroy|actionstt|track|UpdateObject|MainResize|PlaylistNext|iframe|onclick|buffer|Stop|android|charCodeAt|lang|_cstm|bgtop|evntout|bgl|getElementsByTagName|_keyStr|f2id|audiotracks|_hide|Switcher|normal_h|default_audio|Start|||onMouseUp|replay|m3u|delta|butplstart|source|mrgnprs|media_error|Status|Background|upld||gaTracker||evntovr|vertical|fullscreen_process|||SubtitleChanged|iconscolor|8px|motion_id|add||Retimer|3px|but_x|scrollLeft|pld|scrollbgcolor||stage_x|_css2|stage_y|stopPropagation|rotation|Playlist|salt|answer|prev|quiz|readyState|switch|then|fplace|fd0|PlaylistNextExist|skpbt|playById|ShowOrHideProcessor|reloadto|PlaylistG|enc3|linecap|clicks|open_settings|send|hls_config|||||cubic|id_|onMeta|ldr|forbidden_quality|Clickable|hlsaudio|||onTimeupdate|CreateItem||00|CustomSwitch|sub_options|_speed|||StyleItem|deltaY||sub_bottom|_rb|but_space|vsts||timestore|currentFile|audioTracks|||native|currentTime|touchmove|pause_before_vast|channel|SettingsClose|title2|https|volumewheelin|SettingsVisible|desktop|control_title|bgcolorover|dur|DashLevelsLength|levels|but2|VastRemoveAndPlay|rec|sttx|line3value|line1|vast_loadtxt|Remove2|sub_shift|thumb|gao|nowrap|pjs_i|transparent|Array|onload|toolbar_hide|forcehide|qualities|browser|search|CalculateClick|sec|titlestore||line_width|onMove|PlayerState|event_x|fullscreen_start|||l1lI||update|marginbottom|decode|video|responseText|ll1l||pljsplayfrom_|Toggle|Scale|hidedown|300|PlaylistPrev|ellipse|line2|stout|weight|iconsover|scrollTop|bgbrovr|SetAudioTrack|toolbar_margintop|mediapip|handleicon|10px|controlover|icns|hiddenwidth|file2|event_y|_start|orientation|_lastime|Zoomed|err404v|tagframe|fontnames|UpdateTime|shuffle_|Home|design|pauseroll|MediaReady|ActionPlaylist|plfolder|active|NewFile|vast_longtimeout|screenclick|console|pjs_id|qbr2||0px|ScrollTo|is_visible|fontSize|PipWebkit|Played|normal||||coh|frameresize|touch|touchend|err|CreateHLS|hidden_volume_over_process||cow|pltxt|onPause|vast_impressions|autoplaylist|toend|onVolume|speed1|files_|spacing|floatwidth|but_y|Pos0|played|hidejustfull|pljssglobalid|loading_error|or0|file3_separator|vast_poster|sub_settings_on|expand|hidevideo|topBg|thmove|saturate|rightside|rldcnt|timeFormat|hdnn|Pnt0|pointed||Reload|HideProof|5px|ToolbarDown|letter|_step|SubtitleSettingsMenu||brandurl|stretch_with_volume||showoverto||sub_color|sub_sizeproc|justshow|showovercontrol|flip||bgt|pic|NativeEnterFs|||Hide|shareme|||texts|PlaylistExist|RemoveCurtain|brightness||_status|ControlClick|PlaylistPrevExist|overlay|scaleover|actplay|f2bg|hideonpause|kbps|rightbs|subtitle_start|touchstart|Il1l|posterhide|mediaSession|default_style|pstr|StageMove|passive|videoHeight|bgpadding|textTracks|nomute|subupld|srs|opt|hls_force|Subtitle|url_shift|_id|sub_or|HidePoster|StageMouseUp|_preloaded|handle_width|sub_color2||mediatags|_ease|Ready|compilation|groupId|setSpeed|nativeAudioTrack|pjs_|minify|AfterVast|hlsDashSub||ObjectFit|current|autoLevelCapping|handlewidth|items|20px|VastAddPreload|tchs|textArea|cul|onmouseover|rule|tippointer|polygon|FindPlStart|plNxtExst|starttimeout|butNames|control_line|XHR|autohide|link|and|abc|alpha|fff|nativefullios|overopentimeout|other|opn|seeking_time|000|VastRecover|onmouseout|repeat|removeAttribute|Airplay|findLeft|ScreenClick|HideForce|nbsp||pstrsi|poster_scale|HideInterval|bgg|pstrv|upldfl|fontsize|Init|settingsovertimer|maxBufferLength||hlsdrm|not|create||Curtain|hdicon|family|relative|3000|600|user||checkFont|load||PlaylistVisible|Parsed|heartbeatInterval|airplayed|iconreplay|toolbarInterval|ctx2|memory|TipText|RenameQualities|Off|tmln|hlschangequality|errorMessage|SubtitleLoad2|qbr1|uijs|BufferStop|ni2|subload|mode|VastNext|currentLevel|TagPlay|TimeSub|PlaylistShow|UpdateSpeed|heartbeat|SettingsN|hls_stuck_time|swipev|result|svg0|SubtitleLoad|custom_speed|SetSetting|_seekaftervast|unshift|gain|FileTo|ctxtnk|ssfontsize|url2|onplay|ErrorOr|hlsrows|||||hlsend_to||va2l|file2_separator||toggle||frag|file_separator|srt|pip_quality|||PluginSub|RenewSubtitle|canvas2|copied|PlaylistControls||pldur|letterspacing|chrome|_ended|Error|details|yamtrid|jpg|recover|volumescroll|m3ut|normalscale|Download|iconangle|240p|scl|seekwindow|stty|Thumbs|bottomside|sub_weight|pl_first_id|pjs_parent|midrolls|win|sub_bgcolor|sub_bga|sub_shadow|480p|marginprocleft|cftlr|galabels|offsettimer|iosfull|ResizeSettings|resizePlaylist|360p|998|hidetimeout|seeking|hlsautoquality|sourceBuffer|_max_order|ToolbarShow|days|Rot|speeds|shift|400|NativeControls|scrollleft|ShowForce|onSeeked|onSeeking||autoQuality|errorto|AirplayChanged|wheelstep|CustomText|tipbg|fcdef|clicked|VstLdTxt|dontplay|htto|ymax|hmaxk|vast_longtomsg|_t|Ctxt|offsetLeft|copyObject|playlist_source|lrpd|QualityChangedNoHand|gatracked|hidewithoutmoving|Show|playerid|999|Mouse|prm|616046|StyleArrow|custom_aspect|L11|48743763|RenewPoints|sxs|||embedvars|now|scrollarrows|domain|shareiconscale|YtInit|_wait|playsinline|ScrollOverOut|HistoryPlaylist|pstrs|randomstr|shr|playersize|removed|select|autonext|_activeIcon|observer|parentcontainer|87798468|left0|ipad|_prevIcon||copy|dclckto|tippadding|Cut|tipbgcolor|L12|tipbga|l3v_show|HandleWidth|line_speed|nativefull|pljsmute|33571875|handlehide|C15|_play_i|paddingtop|186|pageX|headfontsize|stretchonfullscreen|brd|floatheight|05|touched|contentWindow|base64|backdrop|ShowTip|1em|downin|clickarea|findTop|hideoutmute|mpi|StyleLine|bgh|pushCSS|rect|sizing|FltrVal|clickmargin|rotation2|hand|onmousemove|limitmaxwidth||xtitle|compilations||plrs2||float|hidden_volume|pljsplayed_|KeyPlusUp|showinterval|KeyPlusDown|rc_label|userseek|resizeSettings|vol|||done|eventstracker|quartile|started|lineHeight|referrer|find|AudioContext|153204|stretch_width_last|UpdateVars|adsfirst|input|num|audiosrc|0933314|nops|BeforeVast|BgBrAct|moz|037|gaTrackPlay|playlist_title|UpdateVars0|unmuteplease|rightclick|title_template|datetime|ResizePlaylist|resizeonplay|vast_type|playbgcolor|||||yaCounter|wght|tippaddingtop|pauserollonplay|isvg|tpp|vstpause||rld||mediaSource|StyleActive|lang_|nonzero|vastfrombg|timeld||Password|CreateTip|Copied|playroll|ima|||sub_size_fullscreen|scrollwidth|VastAndLimit|subopt1|autonextopenfolder|100000|rldplay|mutestore|StopMedia|rightout|omt|write|spd|sub_size|youtu|VastBgLoad|wheelinterval|ssflyp|dvrtime|VastLoader|Load|pljs|isTypeSupported|lastIndexOf|AudioTrackChangedNoHand|53790984|twitter|subdrag|nhs|navigationUI|found|scripts|classList|autoprevopenfolder|apdr|Player|insertBefore|thumbnails|_lastactbut|_fullscreen_end|VolumeWheelX|audioTrack|mouseout|fit|poster_a|covervideo|mlr|mini|changeheight|mouseover|vars||bgtmp|hidevar2|14px|newfile|rmbgcolor||screencolor|button|while|fid|full|container_h_procent|seeked|StringVar||serif|gifed|limitwidth|sans|playlistrewind|playlistloop|poster_aover|shareiconscaleover|isPlaying|PlaylistRewind|Touch|StageLeave|facebook|pageY|videoWidth|static|PlaylistHere|resizeonwidth|but_h|MenuProc|floatlimitwidth|openById|tagName|PipSize|CreateDASH|hidevar|toLowerCase|SettingChanged|setaction|NativeExitFs|VastVisible|current_file|mouseHere2|getDASH|iniframe|getHLS|HlsUpdateAudio|loadLevel|exception|scrollarrowsize|frames|sub_reset|wtcntrl||scrollarrowcolor|fspr|CreateShare|picture||wait_to|postMessage||setActionHandler|MidrollOverlay|mouseMove||Start0|6642813|ClearClick|SubtitleOff|YoutubeReady|imgldd|bgo|nativecontrolsmobile|stuck|doubleclick|Recover|youtube_id|333333|Ended|CustomToogle|ff0000|_control_|linkurl2|polyline|bgborder|handlescale|handleiconspress|lngth|isReplay|icon2|sub_x|dashquality|DoubleClick|onClickSubtitle|iconscolorover|drtn|seeksides|remember_sub|colorbg|timeshort|_stopped||tipalways|onDown|ksu|1080p|filerorto|sepia|_steps|thumbs_on|noclick|PlaylistError|rename_audio|onStep|lastTouch|720p|documentElement|quality_received|IconsColor|suboptns|||HideTip|MainUpdateSize||click_t|||bgbordercolor|FrameResizer||angle||resizetxt|_readyonplay|vastonmobile|iclr|sub_all|ShowLayer|sub2|clr_options|plurls|current_plurl|fileTimeout|hideAllIcons|files_channel|alldd|HidePoster2|script|sleeptimer|upload|worked|timerTime|sub_stroke|parsed|timeline_h|plrs|subsor|sub_upload|JsClk|hideuntilto|restart_audio|||click0timeout|160p|postroll|valuefromlang|showtitleplaylist|openplaylistroot|code|openplaylistbefore|playVideo|YoutubeID|acted|handleaover|marginbg|container_id|rotate|FileType|unmuteonclick|opera|Update|mouseUp|customdesignsvg|fatal|svg3|RemoveMedia|mtp|urls_and||prefile|SwitchText|response|HlsLevel|bgcontainer|SubtitleError|YouTubeIframeAPIReady|ssa|edge|ToolbarHidden|TitleTemplate|iOSTrackLoaded|onTagError|Action2|audio|userid|appearance|marginbgpadding|nativesub|1440p|ioscss|tagsurl|fullblack|NormalscreenUI|RadioTags|qualitystore|historybga|checkBase64|sleep2|pljsquality|historybgcolor|subtitles|FullscreenUI|||xy00|PluginMovable|540p|pljstrack|pljsuserid|StorageSupport|mediadrag|livewakeup|Visibility|introstart|posterhidepause||bg_hide|Destroy|Playing|nohead|poster_float|encodeURIComponent|MediaYoutube||clientWidth|RightMenu|timeout|reRightMenu|toggleControl|timerInterval|leftandrightpadding||playiconbut|butByS|||normalscreen|sub_upload0|reloadlog|zpTSJW48HZ9WajM|StartSpeed|removeItem|play75|settimer|play50|play25|_blank|dont|xvalue|onPipEnter|msRequestFullscreen|2160p|Preload|CreatePoster|onPipLeave|contentDocument|floatmarginright|paddingright|order0|_rights|_move_rights|paddingleft|landscape|deltaX|||||NativeSubtitle|ll11|webkitRequestFullScreen|mozRequestFullScreen|requestFullScreen|join|rmcolor|toolbarhidden|getQuality|getAudioTrack||PluginShare|||l1ll||landfullmobile|but_w|isFullscreen|requestFullscreen||volumewheelfull||||geo||||removeTracks|noprevicon|VastPreloadLoad|volumestore|IndexPlaylistProcessor|pljsvolume|urlsl|StyleSubtitle|hdbrdclr|isNaN|HlsAudioTrack|renameTracks|HlsAudioTracks|bordercolored|pjs_parent_i|RemoveForNextAd|hlserror|hls_started|fileorto|End2|End3|pp2|splice|autoplaymute|ie9|moveOr2end|clck|ActionOptions|onClick2||||||plcontinue|vast_preload|CreateWS|_i|ws_created||sub_designstore|StageMove2|Controls|outro|midrollo||pipto|Alert|ScreenClick2|vast_starts|vstdwn|NewAspect|||UpdateStart|vastclick|str2obj||network||HlsSleep0|moving|is_hls2|WaitSize|heightInterval|VastPreloaded|prototype|IndexPlaylist|stopotherplayers|posteronpause|substore|sub_bottommob|pstr_to|plopenid|playbgcolored|Captions|HlsSleep|sleep_timeout|vast_midroll_limit|MseIsSupported|LoadedData|fjs|Heartbeat|currentposter|CheckDash|Review|scrollarrowbgcolor|scrollarrowbg|setQuality|onDash||advertising||||||||||_tags|nextLevel|pstrsin|contain||CheckPip|ErrorMsg||v360|vastcontainer|downi|checknative|reloadfirst|wheel||historytitlea|exitfullscreen|hlsSub|onYoutubeReady|_hlssubtracks|marginbgcolor|complete|Seeked|VolumeWheel|arrinterval|playerjscom|nohls|ControlOut|Metadata|tchs2|overlays|pjslng|mdswp|change2playlist|onerror|textarea|VastGo|audioctx|maxMaxBufferLength|VastCheckNext|PlaylistLoad|_recover|adsinchain|FSL|offsetTop|fts|vts|gained|screenmarginbottom|enabled|VastVideo|reloadtimeout|dontload||tagSrc|mousemove|ErrorReload|maintitle|isAuto|nativeControls|vastgo|stvs|PlayerSize|lock||m3ui|ChangePip|tmpr|span05||fixed||49474569|_timeout|NoSpan|_stop|9830753|SubOpt|blra|SpeedChanged|025|nocontrols|QualityChanged|L13||lastt|destroyed|Rotate|Alpha|resizeonmouse|SetCurrentQuality|leftright|099|DVR|ssfontcolor|updown|sstext|062|startwait_t|resizeme|drawImage|086|pldur2|png|pldur3|startcss|PluginReplace|VisibleCheck|submm|embedsize|logout|UpdateVolume|minute|hour|handlea|||Loaded|3600|resizeFromText|pauseVideo|handleiconover|toolbarisdown|ClickAction|sub_font|iurl|Playerjs|hostname|updatePlaylist|postsmbl|handleiconpress|59038667|InitVisible|winHeight|winWidth|presmbl|onup_to|LineScale||onUp|sharer||postmessages|Marquee|||ShowHandle|last_text_w|second|settingsNumberVisible|piped|Script|marquee|restart|onMobOver|scrpt|onMobMove|addtitleplaylistbr|addtitleplaylist|IconSVG|_currentIcon|SettingsParser|Text|imageLoaded|2001|ClickArea|onYtPlayerReady|bgcolorlink2|linkurl0|tmp2|getVideoData|EndMove|exist2v|TipHide|handlemove||||||mutedautoplay|TheEnd|cntrls|minw|over_final|tem|control_start|hideonplay|together|match|_time_load|stopkeys||ontouchmove|927|movevent|ctxt|show_settings|show_playlist|hidetime|TipVol|toFixed|volume2|smbls|ControlsBg|iconopacity||||Thumb2|butseekto|ahd|AddPlgn|976|cpm|rename|tipfont|tippaddingleft|91628571|playerjs_|tippaddingbottom|tipcolor|doctype|tipfontsize|fonts|tipletterspacing|tipbgrounding|6px|viewBox|606|resizetext|btm|playlistovertimer|pjsframed|_set_quality|vsrc|SubtitleLoadAll||||||SubUpload|content|Shuffle|Menuproc|utx|FileReader|Prefile|re_y|ControlCoordinate|firstly|ToolbarHide|bordersize|allowfullscreen||Replace|grdlft|thumbs|SubRem|removedNodes|last|clickscaley|borderRadius|stringify|chr|dash_subs|SetSubtitle2|activeicon|hideuntilstarted|encoded||pepper|pljssubtitle|sub_store|lastsub|TitlePl|subpausehide|SubtitleTimerMenu|StartTimeout|start2|urlcnfg|notofh|JsEvent|effect|querySelectorAll|handlecolor|MediaSess|VisibleItems|SubtitleParse|innerText|vtt|vdid|brand|ClosePl|pjscssed|CloseSttx|ttl|valuepadding|||div2|valuemargin|cnt|upText|deg|ass|CustomTextButs|customTextPl|ShowShare|UpText|handlehideinit|sub_bgpadding|Style|spn|Loading|quick|HidePositionControl|timeline_w|coloroverplay|fontFamily|Places|youtubeposter|killMotion|playedstored|removebykey|ReplayIcon|ceil|SetCSS|gaurl||NxtExt|_css|getDuration||mobtch|decoration|255|fromCharCode|ytautoquality|Empty|check|Bglines|426|floatheightsmall|floatwidthsmall|RzGtYRBN|livets|Qualities|tSnFZSdS|PLAYING|PluginPip|firefox|incorrect|993|ffect|PluginPlSrch|swiping|Swiping|posterhidestart|935|swipep|Wheel|sub_big_fullscreen|smallfontsize|Open|analytics|SubtitleBottom|sub_allmyt|seekTo|sub_off_title|maxTouchPoints|default_subtitle|1150||220|onMouseDown|playerjs|noindex|sub_split2words|pipSrc|playId|1550|onYtPlayerStateChange|plapto|apto|ShuffleEnd|playByYoutubeId|Timer|1800|setupx|subshift|crt|ChkHlsEnd|after|ParseUrl|PluginRec|msie|sub_lineheight|lI1l|sub_bgo|recovery|dashaudio|width_div|arial|removeNativeSubtitle|yterrors|helvetica|onPlayTag|ffdd1f|height_div|getPlayerState|nativeSubtitle|666666|sub_bg|alerts|900|alert404|alertsbgcolor|alert404text|alertscolor|alert404v|alert404video|PluginErrorVideo|iset2|alertspaddingv|timestorejustbut|alertspaddingh|onQualityChanged|RenameTracks|cstm|customyterror|_xIcon|Number|700|ControlOver|994|962|pressed|I1lI|ReloadTimeout|contrast|483|rand|416|006|984|alertsfontsize|nameofyoutubequality|elastic|DownIn|ENDED|access|denied|str|640|sub_off0|_subfile|Ease|360|alertsbga|tagsinterval|nor|norld|0785714|MSIE|XMLHttpRequest|rgb|unset|share2|keyframes|_html|share1|styleSheet|sharebgcolor|shareclred|sharecolor|GET|zoom|offsetwrite|frmvst|parentElement|show1value|msExitFullscreen|webkitCancelFullScreen|_ue|_ud|mozCancelFullScreen|224||||cancelFullscreen|||Scripted|share3|exitFullscreen|ScrollUp|embedheight|embedwidth|ArrowsInterval||Stopped|embedhtmlstart|full_hours|full_minutes|Uncopied|shareiconmargin|ScrollDown|pjs_share_link_|notag|ScrollRight|ScrollLeft|PlaylistBack|toLocaleTimeString|historycolor|sharetitle|historytitlestrike|sharetop|square|L16|bgclr|sugar|cancelFullScreen|pjslog|Start00|playedquartile|PluginThumbs|Quartile|Exit|SubtitleSettings|PluginTrack|isOpen|passontime|ShowTimeout|nomidroll|SubtitleSettingsClose|width100|heartbeatinterval|hidecontrol|adblock|resume|fullonplay|reloadlive|fullonplaymobile|redirectonplay|yamtr|endfull|seeked_time|writePl|autoplayed|iosExitFullscreen|fs_error|valuealign|scrollX|globalfontname|getBoundingClientRect|whlskfll|offset|scrollwheelfull|scrollHeight|Width|url3|PostFullscreen|playlistfolder|outside|showById|InvertPlaylist|reverse|TheEnd2||intros|trcka|scroll_down|finishrewind|openpl|scroll_left|rel|ct2|FindFileInPlaylist|shwvstfnsh|onClickSubtitle2|adsinvitation|slng|yamtr_event|Yandex|ga_event|gtag|yaHit|vpaid_starts|0956563|reachGoal|onClickTimer2|redirectonclick|pjsfrm|skipads|Papi41|SetChannel|borderbottom|VastBreak|updateCuid|last_subtitle|adscounter|setVolume|ads|High|time2|HidePoster3|PlayingChecker|comment|_reset|notv|Youtube|castdevice|casterror|Playback|device|StopOtherPlayer|0val|copyurl|playsinlineonmobile|posterhidetime|1val|youtubecontrols|limit|iframe_api|ffeeab|ytcl|18px|HideLayer|pljs_yt_|headbordercolor|brda|timebreak|winTop|0645937|9616447|VastInfo|scrollarrowgradient|wrapper|scrollarrowbgover|isVpaid|ovr|winLeft|vast_adid|Pop|FindIdPl|current_vast_url|php|midrollimprsd|minduration|scrollarrowbgovercolor|rest|embedhtmlend|mss|PluginIntro|timelimited|timelimit|40px|api_|6265714|_nextIcon|L19|16114286|1411563|223|isyoutube|youtubeready|geobj|last_ors|getContext|preloaded|playlist_id|dasherror|049|bgbract|andlimit|358|074|menu|90342661|VastLongTimeout|vast_prestarttimeout|0725739|vast_longtimemsg|PlayerjsEvents|PlayerjsAsync|nxtttl|often|lineh|ontouchstart|unblock|hideafter|hidebefore|hidebefore2|bandwidth|often2|fontsizesmall|topside|openplaylistafter|openplaylistpause|Hideuntilto|clickscalex|onMobOut|mobileover|bold|picheight|bgstretch|action2|nums|187|plusminus|which|keyCode|togglesubs|Control|opposite|indOf2|scalesmall|hlscaptions|inversetime|liketext|icon3|rszr|svgtmln|rotateplaying|iconmargin|5000|PlaylistMove|setcss|displayvolume|Tmln|translate|7px|Buffer|hidewithposter|HdIcon|controlCSS|prevorius_default_h|SvgColor|ControlLine|wps|ontop|gradientcolorbg|linespeed1|gradientcolorload|iconsreplay|prevorius_default_w|bggr|action_settings|selectOpen|rotateonhover|hideafterclick|Click|bgcolorlink0|tipmargin||tipvar|unhidden|minus4back|hidesec|DisplayControl|control_duration|noClickTimeout|zoomed|RenewFromTitle|with_hours|with_min|UpdateSettings|PlaylistOpenId|linespeed2|back|lrppp|marginprocright|sttr|actpause|unmuteonplay|userplay|userpause|pipVol|ControlX|muteiconbut|linkpause|screenshot|1001|ssflyw|linktarget|plclose|lrpps|marginproctop|showShare|timeupdate|setTracks|setHlsQuality|setHlsAudioTrack|hls2|subtitleTrack|addTrack|showing|loadedmetadata|marginprocbottom|volumechange|durationchange|enterpictureinpicture|leavepictureinpicture|sort|ControlsBgClick|always2|NewPl|titlepl|customText|PlaylistPlayId|wtpstr_to|apdra|hideonvolume|setting|leavetimeout|playonhover|upd|PluginMbps|pstrwt|HideAnimate|WaitPoster|HideElement|posteronwait|Volumescrolled|UpdateTimer|Exist|PreNewPl|prenewpl|ShowAnimate|ShowControl|upTexts||hideonwidth|resize2|Visible|hidewithoutplaylist|alwaysnotfullscreen|alwaysjustpause|hideoverwidth|hideoverwidthlimit|hideonwidthlimit|PluginSkip|hideaftersec|hidebeforesec|hidebeforesec2|hideonvar|hidewovar|hideonfullscreen|hideuntilmeta|unfixing|colorload|linespeed3|setDashQuality|sesstime|nativenotiphone|nativenotipad|createTextNode|mobiletv|playerheight|requestAnimationFrame|Actions|trackstore|hidestartbutios|vast_nofirst|pljsfirst|TimeStore|Media|StageOver|leavetimeout2|mousedown|nativenotios|System|closePl|RightMove|tap|highlight|outline|rc_labelurl|rc_anyway|rc_version|CrShr|RightClick|RightOut|right_x|right_y|Href|parent_domain|RightCSS|4px|rmsize|RightOver|PluginGeo|KeyUp|ltr|ParentFS|preposter|cover|stretch|mp4|Posters|logo|FullscreenChange|OrientationChange|updateTitle|abs|lsfullstart|lsfullplay|portrait|landscapefull|isHidden|Interval|read|margin_bottom|pjsin|SettingsSpeed|KeyDown|dblclick|templated|template|speedstore|pljsspeed|SettingsExist|sub_sizemob|scroll_height|sub_sizemobfull|default_speed|click_t2|nativefulldroid|changedTouches|seeksidesec|seekicon|screen_lw|origin|direction|gradientcolor|linetipmarginbottom|CancelBubble|yOffset|xOffset|270|PlacePoints|place|thumb_move|toptip|handleiconsover|handleinit|_duration_play|_time_play|UpdatePlaySeek|UpdateLoad|_duration_load|PluginCut|current_thumb|bgline2|thumb_width|PluginPoints|customdesign|FFFFFF|372|valuesize|valuerounding|valuebg|valuebgcolor|handlemargin|bgline1|315|_w|roundout|_a|bgw|clickmargintop|clickmarginbottom|bglines|CreateThumb|thumb_height|clrs|ga4|PjsFr|CustomFonts|today|linker|eventCategory|eventAction|eventLabel|PluginOldGA|prted|scheme|15px|MutationObserver|obsrvr|scrolling|pjsfrrs|allowtransparency|allow|prtObj|notframe|thumb_radius|evenodd|thumb_border|thumb_borderwidth|thumb_bordercolor|thumb_shadow|tippaddingright|linetippointer|Rectangle|Continue|IFRAME|line_volume2|mrgnsmll|optStr|rc_|Init2|postmessage|method|PjsFrMsg|setDashAudioTrack|parentIframe_style|40000|hlslowquality|PlgnVstPstr|PlgnVstLdtx|current_time|menufltr|startLoad|hlsmaxlvl|audioGroupIds|reYT|MediaVideo|nameofhlsquality|renameQualities|HlsQualityLevels|sourceBufferValidAPI|mimeCodec|anonymous|PipToggle|movable|framei|Gain|pjsframe|PjsFramed|gainedsource|||||imageExists|connect||||volumegain|um1|PipSwitch|nextAutoLevel|callback|CreateMedia|fileto|FileTimeout|filetod|Timeout|disableRemotePlayback|mpd|YouTube|hlsvastwait|HlsLiveWaiting|livewakeuptime|hlsTextTracks|supported|debug|FlussonicMsePlayer|PlgHlsFdt|onLoadStart|hls_stuck_duration|dvr|hlsdebug|hlsmto|hlsfto|customBuffer|hlscookies|loadSource|reHls|SourceBuffer||isSupported|MediaSource|onLoadedData|m3u8|nativehlsios|changeAspect|language|preloadhls|wrong|MetaAudio|preloaddash|dashjs|hlsquality_off|hlsaudio_off|nopause|unpause|autoLevelEnabled|PluginDash|PjsCheck360|webkitSetPresentationMode|maxresdefault|1560223||68019712|8689236|77097501||8884018|86718761|5974074|7530359|40514608|60771911|20257304|9713884|9480146|16089933|6959766|51658043|bFjuF1EOL7VbrIrBuusmrt4ZZORfb6ehbWdnRHEIiITaEUKa5EJqUakRSaEYBJSCY2dEstQY7AuxahwXFrvZmWl2rh4JZ07z9dLtesfNj5q0FU3A5ObbwAAAABJRU5ErkJggg|RWAlnQyyazA4aoAB4FsBSA|72576646|39074182|1197833|74734142|53370204|12014413|crU8vjUSIGBiMkslMjpRJZhPsZ5PL2phJHtVurteLjAmyjtiJj9VJCTdvjUSIGBiMkslMjpRJZh6IGJ0JHsdbVYhKHxTLqp5yjtPL2xOy2tSMjBiMf1VIGBmaHw6snETtDPda2ihaqd6sno1Mrd7sqeiKGalanldwDFTbnPdvHaiIjQmaZ1eLjiQIHBmL24QJjiPLZ1QL2BiyfYfL3BlyVYeLjiQIHBmL24QJjiPLZ1QL2BiyfYfL3BlyVXQa2FfK2i0vGpRKG1eaqiSLgldIG5mLGp0KG9RurteLjAmsnoRyrwdKG5jKG5maqEdJGpWJC1mLf1SaHA7sqpRKG1eaqiSLgldIG5mLGp0KG9RurteLjAmsnoRyrwdKG5jKG5maqEdJGpWJC1mLf1SaHA7cCXRLq9eJqFVMfeVIG5huCY7Mq9WKHBmL246srtiLqp0KHJiyVXQa2FfK2i0vGpRKG1eaqiSLf1hJGUebDldvDXRwDJWyVYeLjiQIHBmL24QJqFPIHh6sZ0Tvgo2MWQ9sZ5PL2phJHtVurteLjAmyjtiJj9VJCTdvjUSIGBiMkslMjpRJZh6IGJ0JHsdbVYgL250JG50yfXktWPdMq9WKHBmL246sqpfM29PaHBiyVY0L3X6wr0dvjUSIGBiMkslMjpRJZh6IjFjL3tisrPdLqFjanldvDwTMrd7sqpRKG1eaqiSLf1hJGUebDldvDXRwWtWyVY9sZ5PL2phJHtVurteLjAmyjpjaqFVsrPdLqFjanldwWYTbnPdcCYXK2F5JkteLGFWsqpRKG1eaqiSLfeVIG5huCY7snXivZX4wZEPsnoTwZEdbVYfL3dQM2eeJq93yfXTsZ0UxHY4snXdvDoRw2FQsZegL2USMfh7sr0dxnXisrPdIj94vHxlIGBSaWldwZXQwDFTbZXTsnXduqxSLq9VuCX7sr0dcCsPsjpgaqiSLfs6sjt1JjJiMfsPskB5MqEfyftgM3wfvZtTL3xmaqiSLfs6sjxiLkBiMfsPskxgIGUisglUvZtgLqigKVs6wZTfKqihJCs6wCTfLjigLfs6sgAfcCTfI29RartSLp9WJHB0KG5kMVs6bVtSMjBiMfs6yCTfL24fygoPsjigL24fyfs8M3JksramJrBlzCMVwZMdKqFmJ2e0zCMVwZM|65174939|86810611|24660331|85641921|84924851|54866401|1938004|5798291|79137169|35178546|835402|53995424|0769314|16597325|1782179|77251408|M18|404|749c|546|077|291|901|997c|234|099c|012|963|054|073|303|396|219c|21c|kbq|297|203|304|033|136c|825|718|079|521|zpTSM3JkzfsPsjpgaqiSLfs6sj11aqEfvZteI3BmL24VsglfaG5QaHBisfTfariTJCs6skx2JVsPskxgIGUiL3JiMfs6sgoRwCsPsjBmM3YPIHi2L2U1LGEfygoPskBmMZs6wCTfIG5mLGp0KG9RsglfIGUTKqofcCTfI29RartSLp92L2U1LGEfykPfL3thJHsfygEPsj9RsglUvZt0bHYisglfM2eeMqEfvZteI3BmL24fyft2L2U1LGEfvZtlsglWvZtVL3FRJqiRJVs6wZTfI3FWaq9Qa2ihaqdfygoPskMfygoTwZTfICs6wCTfIGtksglfwZ4WsfTfIG92JHsfyfsTsfTfI29PL3sfyftjJjJjJjIfvZtgL2USMjtksglfJjJjJjJjsfTfI29PL3tSajFVsglfJjJjJjJjsfTfKqihJCs6wCTfKqihJG91aq11aqEfygoPsktSaqp0KG9RsglTvZtfJ3YeJqBmLjMfyfs1snXdxCXTsfTfIjMfygXPsjeeLjBPJCs6wCTfaqiTsglUvZtlIG5hLqFWI2pPJCs6sgXRxVsPsjpRKG1eaqiSLfs6sjpPMqeesk0PsjxSLkBVL2UcaqiQJCs6bVtSMjBiMfs6xfTfL24fygoPsjpgaqiSLfs6skBmLGEfvZt0bHYisglfaqF4aZsPskBibrAfyfsTygXTsfTfJj9RarxmbjEfygoTvZtQIHtkKG4fyfsTsnXdwZXUxCsPsjxPKGxOsglTvZtWJHYeMjp0L3sfyftMvVsPsjpRKG1eaqiSLfs6sjpPMqeesk0PsjxSLkBVL2UcJrFVIHBmL24fykPfL3thJHsfygMPsj9RsglUvZteI3BmL24fyfthaHteaqiSLfsPskB5MqEfyft0JHe0sfTfaqF4aZs6sf0dwnlTwZsPsjJSLkBWKHmisglUwZTfLGpVJ2iRsglfwZXTsnXdwZsPsjxPKGxOsglTvZtfL2UhsglTvZteLjiQIHBmL24fyfteLrYlICt9vZtgL250Mj9PH2t1JjJiMfs6bVtSMjBiMfs6yZTfL24fygoPsjigL24fyfs8MqmWJqi2sqxPIHxWzCaPL2phJHtVurteLjAmtW48HZ9TKkxhKHI|782|104h|012c|371|619|729|675|075|356|642|562|222l||087c|446|593|051|zqMdJjiPLZ1VaGUizCaRL256JHtStVY0MjpRM2JSMj09t3BVIG5WLqp0JCd4vZXUuCM|posterwidth|099C7|L14|unatpl|zqMdarteLkxjL3tQzCa0MjpRM2UeaqElxZTdxZhkzgUVJGx0srd9tWXksrh9tWXksramJrBlzCMUwfMdKqFmJ2e0zCMUwfMdJjiPLn0ks2JjJjJjJfaMvW48HZ9kzgUMv3x2JW4fvZteI3BmL24fyftWaq9TsfTfariTJCs6skx2JVsPsjtksglTcCTfI29RartSLp9TMjF2sgm7sj9VJqFVsglUxCTfL24fygXPsjigL24fyfs8M3JksramJrBlzCMVwZMdKqFmJ2e0zCMVwZM|fast|zpTSM3JkzfsPsjpgaqiSLfs6skYPIHhfvZt0bHYisglfM3JksfTfIjMfygoPsjtkI29PL3sfyfsTwnXTwnXfvZtfJ28fygoPsjtkMqphJqiRJVs6sgMdxVX3snMfvZtmI29RLGpVJ2iRsglfwZXTsnXdxZsPsjtkICs6wZ4WvZtfJ2pSajFVsglTvgIPskxgIGUiL3JiMfs6wf4UvZtlKGBisglUvZtlKGBiL25TLqp5sglUvZtlKGBiL255L3F0aGtisglUvZteLjiQIHBmL24fyfteLrYlICt9vZtgL250Mj9PH2UmajEfykPfL3thJHsfygoWvZtSLfs6wZTfaqF4aZs6sjUmajEfvZtPJHB0JHtWMqpgKG5ksglVvZteI3BmL24fyftPKHJisfTfariTJCs6skBibrAfvZtlIG5hsglTvZtgLqigKVs6wZTfJj9RarxmbjEfygoTvZtQIHtkKG4fyfsTsnXdwZXUxCsPsjofygXRxCTfKqihJCs6wCTfKqihJG9Raj9hsglUcCTfI29RartSLp9Waq9Tsgm7sj9VJqFVsglUxZTfL24fygXPsjigL24fyfs8M3JksramJrBlzCMVwZMdKqFmJ2e0zCMVwZM|DOMContentLoaded|zqMdarteLkxjL3tQzCa0MjpRM2UeaqElwfTdwVhkzgUTIHBlsqA9t00UxfT3vgoWxgIUwDwVsoTUxfT3vgoTyDo2yDA1soTUxC4VwndUxWd1vnMRwDX5wDI5xnEdDno0vgs3xDX5wVT3vgoTyDo2yDA1sowUxZ4VxWETyDwPwV4UyDhUwgIVxCXUwC4TxgwUyDMPwZX3vgoWxWE0xgA1vnXdAWwRwgoUynh1yDoPwZXTvnwRwDh5wDs2wgEdwZT3vgoTyDo2yDA1sowTvnoUvgXUyDsUwgIdwV4VwDo4yDE5wCTUxZ4VwDdWwWd5snMRwDw3xDA2xnEPwDARwgo4wWw4yCYwxV4UwWM1xnI0xCTUwf40xnoTxnI1sow0vgo5wWwTynE1vnoVvgA0wDX0xgEdwC43ynAWynI2wfTUwZ4Txno3wno4snoRxWd0wWd2xgsPxV4UwnhUxgh0xCYnwC43ynAWynI2wfT0vgo3xgIWxWX1snARwDhWwWX4xDEPwC43xWMVyDsWxfX3vgoWxWE0xgA1vnoRxWM3wghVwWIdAWoTvgX4wDM4xnAPwC43xWMVyDsWxfXUwf40yDX3wnIWvnARwDM2xgw3wnEdwDsRxnhTxWX2wVT3vgoTyDo2yDA1soTUwZ42xnA1wDI3vnMRwDX5wDI5xnEdDnoWvgw4wgd5yDIPwDoRxDEVxnXTxZYwwDIPxV4UwWI2wDoWwfYKtVYjKGUPzCMgJjJjJjJjtW48HZ9TIHBlzgUMv2M|sfTfKGxSLgwfyfs8M3JksramJrBlzCMVwZMdKqFmJ2e0zCMVwZM|7271472|C12|15729686|5898759|209383|84355402|73447623|62539844|1454127|51242501|644054|pljscom|92524947|7060285|M14||intent|tweet|zpTSM3JkzfsPsjpgaqiSLfs6skYVJHIfvZt0bHYisglfM3JksfTfM2xeLqEfygoRwfTfMq9WKHBmL24fyftgL250Mj9PMVsPsj1eMjamLfs6sgXdwZXTsno1sk0PsjxSLkBVL2UcLjF4aZs6bVtSMjBiMfs6wDIPsj9RsglTvZtmI29Rsglfzrx2JVY3KGB0Kn0kwgXksqeiKGalan0kwgXkzgUksrBVIG5WJj9VLD0karteLkxPIHBiunEPsnEmtW48Mqp0KZYhzCaxwZ40xgh0yZTUJC0TxCYwwZ40xgh0yZTUJC0TxCYwwZ40xgh0yZTTsoT3vgA2yDA3vnERwgo4xWEdDnXRxnI5xndPwDXRxnw3xCYwwZ40xgh0yZTUJC0TxCYKso03vgEWwnEVvnXdDnhRxDwTxDsPwZYwyC41wWX1wfTUwZ42wgA4wfYwxV41wWX1wfTUwZ42wgA4wfYwxV41wWX1wfTTsplksqJmLqT9tVxjJjJjJjIkHZ8|zrYeaqddJn0kDDdRyDh5yDhPwDXRxnw3xnhdDndRyDh5yDhPwDXRxnw3xCYwwfT1vgsUynM1soT4vgh5yDh5vnXdDndRyDh5yDhPwDXRxnw3xnhdGfYxwZTTsoTVvnXdDnsPwDXRwgA5ynwdDnXPwDXRwgA5ynwdDnXPwZYKtVYjKGUPzCMgJjJjJjJjt1TSzgUMv2M|emptyremove|pstrcnfg|Break|intvsbl|31446009|0727459|C11|72728083|005212|2793122|viewinit|zqMdarteLkxjL3tQzCa0MjpRM2UeaqElxC41vZX1uCM|00904312|6447345|15013093|4153898|1869905|90967882|72704574|8524226|69316331|C10|1901646|31646496|zpTSM3JkzfsPsjpgaqiSLfs6skYPIHiPKHx0sfTfMq9WKHBmL24fyftPJGJ0sfTfLGpVJ2iRsglfwZXTsnXdxfsPsjtksglUvZtWI2pPJCs6wC41vZt0bHYisglfM3JksfTfIG5mLGp0KG9RsglfMq9WKHBmL24fvZtfJ3YeJqBmLjMfyfsWsnwdwVXWsfTfIjaesglTvgAPsjtkIG92JHsfygXRyZTfaqiTsglTcCTfI29RartSLp9jaGUPsgm7sj9VJqFVsglUwCTfL24fygoPsjigL24fyfs8M3JksramJrBlzCMVwZMdKqFmJ2e0zCMVwZM||zrYeaqddJn0kDDoRyDdPwDoRwDIdAWXRynd2xnM2wDh1vnoUvgo2snXPwDXRwgMWxDsWyZXTvnhRwDddAWXPyZ4TynI0xWIVsnXRynd2xnM2wDh1vnMRwfXUvgh4vnMRwfYnwV4TxWw1wgw4vnMRwfXWvgh2vndRwnd2xnM2wfXWvgh2vnhRwDddAWwRyDIPwDXRwgMWxDsWyZXWvgX3wWEVwWdPwDoRwDIdwC45yZTUwC4UxfYKso0Uvgh4vnwRyDIdAWXRynd2xnM2wDh1vnwRyDIdwZTWvgX3wWEVwWddwZTUvgh4sowTvnXRynd2xnM2wDh1snXRynd2xnM2wDh1vnXdwC45yZTTsowWvgX3wWEVwWdPwZXWvgh2vnXRynd2xnM2wDh1snwRyDIPwC45yZYnwV45xfTWvgX3wWEVwWddwV4TxWw1wgw4vnwRyDIdwC45yZTWvgh2spldDDoRyDdPwDddAWXRynd2xnM2wDh1vno4snXPwDMRwDoWxDsWyZXTvno2vgXVsowTvno0vghVxgA3xgsdwZ44ynI0xWIUyDEPwDARwnAdwC45yZTUxZ4TxZYnwV4TxWw1wgw4vno0vgX0snwRyDIPwDARyDs2xnM2wfXWvgh2vno2vgXVsowWvgh2vno3vgoUwWEVwWddwV4TxWw1wgw4vno4snoRyDdPwDddGfMdJjiPLn0ks2JjJjJjJfaMvW48HZ9kzgUMv3x2JW4fvZteI3BmL24fyftWJHB0KG5kMVsPskYSM2i0KG9RsglfI29RartSLrwQMjikKrAfvZtQIHtkKG4fyfsTsnoTsnXdwDEfvZt0bHYisglfM3JksfTfKqBmI29RsglTvZtlJqigL24VsglTvZtWI2pPJCs6sgXRyZsPskBmMZs6wCTfIG5mLGp0KG9RsglfIGUTKqofcCTfI29RartSLp9TLqp5LqiWaZs6bVtSMjBiMfs6wDXPsj9RsglTvZtmI29Rsglfzrx2JVY3KGB0Kn0kwgXksqeiKGalan0kwgXkzgUksrBVIG5WJj9VLD0karteLkxPIHBiunsPsnwmtW48Mqp0KZYhzCaxwZTTsoTUxfTTsoTUxfTVsoTTvnsdDnXPwZYKso0TvnIdDno2vnIdDno2vnddDnXPyZYwwZT2spldDDXPwDsdDno2vnoVsoTUxfTUxZYwwZTUxZYwwZTUwfYKtVYjKGUPzCMgJjJjJjJjt1TSzgUMv2M|24362617|777689|1161475|1279354|0670433|02664888|15818198|05663568|86483105|46721646|8769747|zqMdJjiPLZ1VaGUizCaRL256JHtStVY0MjpRM2JSMj09t3BVIG5WLqp0JCdUvZXUuCM|19180463|27361297|9518092|3982733|4570635|53462054|zrYeaqddJn0kDDIRxgM0xnX1wDoPwZYwxf42xWA0wnEUwCTUvgM0wDhWxDA4soTUvgM0wDo0yDo2vnoRxWAUyDw1xnddDnoRxWAUwDA5wDIPxf42xWM0wDhWxCYwwZT2vgI3xWAUyDw1soTTvnXdDnIRxgM0xnX1wDoPwZYKso0UyZTTsoTUyZT2vgI3xWAUyDw1soTUxf4VxDd4xDX4vnIRxgM3xno5wWEdDno2vgs1ynd1wndPwC43xno5wWE0yZYwwDoRwWs1xDh0yCTUvgM0wDhWxDA4soTUwC4WwgE1yDA5vnXdDno4vnXdGfYxwC43xnoUxnhUxfTUwC4Wwgs1ynX2soTUvgM0wDo0yDo2vno2vgs1ynX2xnEdDnIRxgM0xnX1wDoPwDIRwgE4wnI0xCYwxf42xWA0wnEUwCTUyZYwwZTUyZYwwZTUwC4Wwgs1ynX2soTUvgM0wDo0yDo2vnoUvgwVwgE4wnIdGfYxwDdPwDoRwWsVxDdTxfYwwDdPwDddDnoUvgwVxDE5xnhPwDddDnoUvgwVxDE5xnhPwDIRwgE4wnI0xCYwwDIRwgE4ynETyZTUxf4VxDdTxgA1soTUxf4VxDd4xDX4vnoUvgwVwgE4wnIdDno4vnoUvgwVwgE4wnIdGfMdJjiPLn0ks2JjJjJjJfaMvW48HZ9kzgUMv3x2JW4fvZtmI29Rwfs6sgUWajMda2ihaqd9tWsTtVYlJGikKrA9tWsTtW48JVYjKGUPvHt1LqE9t25SLkmiMj8ksqJmLqT9tVwTwnXTwnXksrBVIG5WJj9VLD0karteLkxPIHBiunoPsnomtW48Mqp0KZYhzCaxwZT2vgI3xWAUyDw1soTTvnARyDw1xndWynMdDnARyDwWwgE1yDEPxZ45wWE0ynw4xVYwxZ45wWwVxDE5xCTQyZ44yno3ynAVJC0UxfYwxf42xWA0wnEUwCTQyZ44yno3ynAVJC0UxfYwxf42xWA0wnEUwCT2vgI3xWAUyDw1soTTvnIRxgM3xno5wWEdGfYxwDoRwWs1xDh0yCT2vgI3xWAUyDw1soTUwC4WwgE1yDA5vnXdDnoWvgX2xgM0xnoPwZYwwDwRwnI2xWA0wCT0vghWxDA4wWd3soTUyZT0vghWxDA4wWd3soTUyZT2vgI3xWAUyDw1soTUwC4WwgE1yDA5vnIRxgM3xno5wWEdGfYxxZ45wWwVxDE5xCTUyZYwxZ45wWwVxDE5xCTUwV4TxgA1wDIUsoTQyZ44yno3ynAVJC0UxfTUwV4TxgA1wDIUsoTQyZ44yno3ynAVJC0UxfTUwC4Wwgs1ynX2soT2vgI3xnATxDoUvnoUvgwVwgE4wnIdDnIRxgM0xnX1wDoPwDddDnARyDwWwgE1yDEPwDddGfYxwDoRwWs1xDh0yCTUyZYwwDoRwWs1xDh0yCTUwC4Wwgs1ynX2soTUyZTUwC4Wwgs1ynX2soTUyZTUwV4TxgA1wDIUsoTUwV4TxgI3xnAUvnoWvgX2xnEUxgodDnoWvgX2xgM0xnoPwDddDnoUvgwVxDE5xnhPwDddGfMdJjiPLn0ks2JjJjJjJfaMvW48HZ9kzgUMv3x2JW4fvZteI3BmL24fyftjaGUPM2xVJGFRsfTfIGx0KG9Rwfs6sj5SMj1eLrxgMjFiLfsPskB5MqEfyftWajMfvZtTL3xmaqiSLfs6sjxSLkBVL2UWvHtmJ2e0sfTfLGpVJ2iRsglfwZXUwZXTsnEfvZt0KHXfygoPsjpRKG1eaqiSLfs6sjpPMqeesk0PsjxSLkBVL2UcM3BeMkAfykPfL3thJHsfygoVvZtTL3xmaqiSLfs6sjxiLkBiMfsPskxgIGUisglfwfsPsj9RsglUvZtmI29Rsglfzrx2JVY3KGB0Kn0kwgXksqeiKGalan0kwgXkzgUksqJmLqTQMkFPJD0kLj9RbjFVLVMdarteLkxjL3tQzCa0MjpRM2UeaqElxZTdwfhkzgUTIHBlsqA9t00TvgE0xgs3xgsWyCTTvgs0xnM0xgs0soTUwf43wDwVwWd3vnMRxWM2wWwWwCYwwZ41ynITxno1xDsPwDERxnEWxnA5wVYwwZ41xnIVxWIVwWhPwZ4VxnA3xnIVxZYKso0VvgX1wWwWwWo0vnsRyDAUxWM3wfYwwf4TxWd5wWw4xVTUwf43wWwTxWAVsoT5vgd4xgw3wnMVvnMRxWhTxDdTwDsdDnsRwnEWwWwWwDAPwf45xno3xWMVsplksqJmLqT9tVxjJjJjJjIkHZ8|950631|59305507||484333|8816878|4897677|77497165|18283508|5739326|||47890336|024648|68926767|4558853|8022411|C13|63201142|273|952|fullwheel|69428571|79828571|200000|reloadtimes|1bVtWI3tiJG5gL2USMfs6sgXTwnXTwZsPskBSL2UfIHsfykPfI29PL3sfyfsTwnXTwnXfvZtlKGBisglUvZtQIHtkKG4fyfsQwgXdwZXTsnXfvZtkMjphKGFRaZs6wZTfIG5mLGp0KG9RsglfIGUTKqofvZtesglfwZ41sfTfKZs6wWXPsjUiJkBeLjBVKGalarYeJqBmLjMfygY9vZtgL250Mj9PH3BmaqUisgm7sj9VJqFVsglUvZtSLfs6wZTfIGx0KG9Rsglfaqi0LqEfvZt0bHYisglfaqF4aZsPskYSM2i0KG9Rsglfaq9TvGUiJkAfvZtgLqigKVs6wZTfKqpRJZs6wZTfaqF4aZs6sfsPskJeMfs6skBmaqUisfTfKqihJCs6wCTfKqihJG9RMqUebCs6wCTfIG5mLGp0KG9RsglfMq9WKHBmL24fvZtfJVs6wCTfIjaesglTvgAPsjtkMqphJqiRJVs6sgIdxfX2snIfcCTfI29RartSLp9PKG5isgm7sj9VJqFVsglWvZtSLfs6wCTfariTJCs6skxlIHYisfTfIGx0KG9RsglfLqiRJCsPsjdfygwPsktSaG5hKG5ksglTvZt3sglUwnXPsjofygoPsjpfJVs6sgXRwVsPsjpPL2phsglfwZ40sfTfIG92JHsfyfsTsfTfI29PL3sfyftjJjJjJjIfvZtgL2USMjtksglfJjJjJjJjsfTfI29PL3tPL2phsglfJjJjJjJjsfTfI29PL3tSajFVsglfJjJjJjJjsfTfIkFjJjFVsgm7sj9RsglTvZtgL2USMfs6sjJjJjJjJfsPsjofygXRxH0PskYSM2i0KG9RsglfIj90aq9QsfTfLGpVJ2iRsglfwZXUwZXWxZXUwZsPsjeeLjBPJCs6wCTfIjaTIGBhKG5ksglfxCXTsnEdwZsPskBmMZs6wCTfKqihJCs6wZTfKqihJG9RLqi2JCs6wCTfI3FWaq9Qa2ihaqdfygXPsjeeLjBPJHxgIGUisglfwZ43sfTfKqpRJqUiKqihJCs6wCTfIG5mLGp0KG9RsglfIGUTKqofcCTfI29RartSLp9TLqp5sgm7sj9VJqFVsglVvZtSLfs6wCTfKGxSLfs6sgUWajMda2ihaqd9tWsTtVYlJGikKrA9tWsTtW48JVYjKGUPvHt1LqE9t25SLkmiMj8ksrBVIG5WJj9VLD0karteLkxPIHBiunAPsnsmtW48Mqp0KZYhzCaxwZ41xnIVxWIVwWhPwZ4VxnA3xnIVxZYwwDsRxWoWwgw4xVT3vgM3xgwWwWodDnXRxDd2wnAUxDEVvno1vgA1wWA0yDwdDnXRxDA2wgM2wgw5vnXRwgA0xWA2wgAdGfYxwf4TxDwWwWwUxZTVvgh0wDM3xWsdDnsRwnM4yDwWynMPwDsRxWwWwnM0wfYwyC44ynIWxWX3wfT3vgM5wnE4wnoVsoTVvgX1wWwWwWo0vnsRyDAUxWM3wfYKtVYjKGUPzCMgJjJjJjJjt1TSzgUMv2M|autoStartLoad|L17|manifestLoadingTimeOut|fragLoadingTimeOut|shape|execCommand|default_h|exitPictureInPicture|enableWorker|pjs_thumbnail_|ytcl1|hlscltps|capLevelToPlayerSize|M17|5723438|youtube_iframe_api|zpTSM3JkzfsPsjigL24Vsglfzrx2JVY3KGB0Kn0kwgXksqeiKGalan0kwgXkzgUksqJmLqTQMkFPJD0kLj9RbjFVLVMdJjiPLn0ksWXTwnXTwZMdarteLkxjL3tQzCa0MjpRM2UeaqElxZTdwVhkzgUTIHBlsqA9t00UvgEPwC41soTUvgEPwDoRxCYwwV41vnoUvgEdDnwRxCTUvgEdDnoRxCTUvgEdGfYxwZTTsoT1vnXdDnEPwDwdDnXPwDwdDnXPwZYKtVYjKGUPzCMgJjJjJjJjt1TSzgUTIHBlsqA9t004vgEPwC41soT4vgEPwDoRxCYwwDXRxCTUwC41soTUwZ41vnoRxCYwyZ41vnoRxCYKso03vnXdDnoVvnXdDnoVvnoWsoT3vnoWsoT3vnXdGfMdJjiPLn0ks2JjJjJjJfaMvW48HZ9kzgUMv3x2JW4fvZtmI29RwVs6sgUWajMda2ihaqd9tWsTtVYlJGikKrA9tWsTtW48JVY0MjpRM2JSMj09t3BVIG5WLqp0JCdVvZXWuCM|585|092|749C18|902|699|zrYeaqddJn0kDDo2vnMRwDw2xgoUwWsdDno2vnMRwDX5wDI5xnEdDno1vgsTyno3ynEPxV4UwnhUxgh0xCYwwDARwgM1wnhWvnMRwDX5wDI5xnEdAWo0vgs3xDX5wVTWvgo5yDoVxgs1snoUvgX2wWo5xVTTsnMRwDw3xDA2xnEPwZYnwV4VwDo4yDE5wCTTsnXPwV4UyDhUwgIVxCXTvnMRwDX5wDI5xnEdAWXPwDoRwno5wgoVxfXWvgsUwDd5xDhUvno0vgsUynwWynhdxV4UwWM1xnI0xCTUxZ4VwDdWwWd5soT3vgoWxWE0xgA1vnoVvgA0wDX0xgEdAWARwDhWwWX4xDEPwDsRxnAUwnA2xCXUvgM4xnw4xgIVvnoTvgX0wDMTwDddwC43ynAWynI2wfT3vgoTyDo2yDA1sowUvgM4xnw4xgIVvnARwDM2xgw3wnEdxZ4UyDwWwnd1xCTUvgM3xWs5wgw2snMRwDw3xDA2xnEPwC43xWMVyDsWxfYnwDXRwndUxWd0xZTUvgM3xWs5wgw2snoVvgA5wnMTxgwPxZ4UxWI2wWMTxCXUwf40yDX3wnIWvnMRwDX5wDI5xnEdDnoTvgI0xnEUxgMPxV4UwnhUxgh0xCYwwDwRwWdVynh5xfTUwC41xDs0wnX0soTUxfT3vgoWxgIUwDwVsplksqJmLqT9tVxjJjJjJjIkzgUMv3Yeaqd|951|799|grdtc|L10|749z|grdta|798|694|90490625|grdth|M12|4526875|883875|onYouTubeIframeAPIReady|API|941|customyterrors|ytEnded|PAUSED|loaderror|BUFFERING|widevine|CUED|ytError|unavailable|hlsdvrtime|offsetwidth|microsoft|playready|getAvailableQualityLevels|getPlaybackQuality|235|clearkey|EXTINF|setSize|ytlog|roundingver_final|videoId|showinfo|playerVars|enablejsapi|playerapiid|html5|disablekb|Alternative|playsinlineonmobileiphone|iv_load_policy|default_w|c176wgbmlmmb|modestbranding|onReady|onStateChange|onPlaybackQualityChange|apple|ytReady|yttitle|tryotherquality|fps|808|203C15|DASH|307|777|791|641C7|667|555|556|443|419|629|802|357|06|026|588|892c|285C5|261|534|958|715C8|447L2|384C8|741|472C7|595|618|669|692|682|754|759|323|021|468C8|434|397|641|666|691|335|703|474|569|896|mrgnp|iVBORw0KGgoAAAANSUhEUgAAAAEAAADGCAYAAAAT|brdtop|455|022|938|247|387c0|brdclr|zrYSLrikL24dKGA9t3YNM192L2U1LGFcJGUiLGFRanoksrYSKG50MW0kwDwRwgEdxZ4VxCXUwV4VxCXUwf43xCXUxZ43xCXUwf43xCXUxZ43xCX0vgs1tVYjKGUPzCMgJjJjJjJjt1TSzgUTL2U5J29RsqihzCaTKkxcaj9PaG1iH2FPJG1iLkAVtVYTL2iRarw9tWo2vgs1snsRwgEdwDIRwgEdwDARxWEdwDMRxWEdwDARxWEdwDMRxWEdwf4VxCMdJjiPLn0ks2JjJjJjJfaMvW48HZ9kzgUMv3x2JW4fvZtmI29Rwfs6sgUWajMda2ihaqd9tWsTtVYlJGikKrA9tWsTtW48JVYjKGUPvHt1LqE9t25SLkmiMj8ksqJmLqT9tVwTwnXTwnXksrBVIG5WJj9VLD0karteLkxPIHBiunoPsnomtW48Mqp0KZYhzCaxwZ4VxCTUwf43xCYwwZ4VxCT1vgs1soT0vgM3wghUyns3vnERwgEdDnoUvgM2wWwWynAPwZ41ynh3wDh5wWEdDnoUvgITxnI1wfTUxV40wnh4ynhdDnARxWI4xgd4wDwPwDsRxWEdDnXRwgEPwDsRxWEdGfYxwC43xCT2vgM1soTUvgM1vnoUvgs1soT1vgsWwDwUwDd3vnoUvgs1soTUwZ4UwWoUynM4vno0vgE5wnoUwCYwwDXRwgw2xgIUxfTWvgAUwns4wnX3soT1vgsVxWX4wDMWvnIRxWEdDnoRxWEPxf43xCYKtVYjKGUPzCMgJjJjJjJjt1TSzgUMv2M|05c0|26c0|059|078|786|282|035|913|sfTfIGx0KG9RsglfMqUebCsPsjpgaqiSLgsfyftTIHFWJCsPskB5MqEfyftWajMfvZtWI2pPJCs6sgofvZtWI2pPJG92JHsfyfsUvgofvZtQIHtkKG4fyfsTsno1snXdwgXfvZtmI29RM3tiMqUebCs6wZTfKqihJCs6wZTfKGxSLkxgL2USMfs6sf0UsfTfaqiTsglUvZteLjiQIHBmL24fyfteLrYlICt9vZtgL250Mj9PH211aqEfykPfL3thJHsfygAPsj9RsglUvZtmI29Rsglfzrx2JVY3KGB0Kn0kwgXksqeiKGalan0kwgXkzgUksqJmLqTQMkFPJD0kLj9RbjFVLVMdJjiPLn0ksWXTwnXTwZMdarteLkxjL3tQzCa0MjpRM2UeaqElwCTdwChkzgUTIHBlsqA9t00Tvgs1vnoVvgM1soTTvgs1vnERwgEdDnARxWMVyDo4wgMPxC4VxCYwwDoRxWIWwWw4xZTTvgE4yDMUyDhWxCYwwDoRxgX0xgEVvno3vgATyDd4yCYwxZ43xgd2yndUwVTUwf43xCYwwZ4VxCTUwf43xCYKso0UvgM1vnIRxWEdDnoRxWEPwDoRwgEdDnERwgwUwWoUynMPwDoRwgEdDnoTvgoWwDo4xWdPwDARxDhTwDoUsoTUwZ4VwWI2xgo2vnwRxnoTwgdTwnMdDnERwgs3wndUxWwPxf43xCYwwC43xCT2vgM1splksqJmLqT9tVxjJjJjJjIkHZ8|OqFAAAAdklEQVQoz42QQQ7AIAgEF|198l0|459|321|248|421|507|173L2|682C1|806|053c1|343|966|471|439|676|577|301|148c0|211|013|359|087|Share|frameborder|hash|pstrvd|Image|2002|Logo|msFullscreenElement|_vdpsrt|PluginUpload|Input|fullscreenElement|posterstime|f2img|current_channel|PluginFloatPoster|speed4live|hidearrow|MediaVimeo|MediaPjs|MediaDaily|sleep2options|sub_settings|fimg|offsetoptions|webkitIsFullScreen|vpaid_timeout2|vast_resound|vpaid_slotinframe|eventstrackervast|webkitFullscreenElement|partnerprerollor|partnerpauserollor|partnerpostrollor|partnermidrollor|minivis|midrollpoint|introskiptime|introclickable|introclosetime|mozFullScreen|introtitle|introtxt|default_channel|sleepoptions|current_|vast_midroll_vmap|ffc7d1|FloatPosterScale|mobtch1|250|72ccf8|62de50|faed54|feba54|e8bbff|aaaaaa|nfsclios|d9bb8c|b3fee8|4bd9ac|ffff00|D90000|073DA0|409829|644082|nfscldr|nombclck|pressed_|hlsqhsort|accept|change2playlist_bottom|onchange|RemoveAll|pjslng_|home|Created|clr_|pjslng_sub_sizeproc|usernew|hqdefault|rldnornd|f2parent|1006|offsetX|1005|layerX|seeksidesmob|redirectplaylist|vpaid_timeout|vast_postroll_vmap|passonstart|nameofdashquality|customimage|New|Orientation|1b0da6956be49d4fc9f3dfa38519ebf5|16x9|dashdebug|dashcookies|dashlowquality|errortimeout|poster_floatheight|vast_skip|vast_click|vast_impression|ga_proc|560|3a9b52b35333w351y391g25323q1b3x3c1d3q02111m27313q2o253e2q2o2y233a1g25211g3e2b381c2v3u11311o360y11313b213x313b381a2x3u11211m21182v212n11323a251q27353e162z2x253e1y3s2911113a231s27352e1431281y121z1611153x392q1921261s3u2v212p1z3w263e153v3b2q19213412111o251z3w28113w26113w28113u2q313b233v3e2b233x29233x2720393x2e11112235163q02303e2b3y141m3e1d3q013z2m2411211m2111112u2711311f3b3v3e1a1y12302x3w2u353c12111e1o1z153x29231t322q14252522352e182635211f1g183e1631281w111211223s2911121o3s370131243316351m2j3d1l1g1m1f1d1e1q3f1l2e1q3f1h3g163g1k1g1k1c1h2f1g3e1q3f1k2e1v3c1z2e1w2g1w2e1t2e102c1s3f1m2e1q3e182e1u3c1r2e1w2e1o2e1t1e1i2c1u2e162e1s2e1z2e1u2c1b2e1w2g1c2e1t3g1l2c1s2e1w2e1q1g142e1w2e1r2e1u2e1x2e1u2e1i2c1u3e1v2e1s3g1w2e1v3c1t2e1w2g1e2e1t2e1z2c1u2f102e1s2e182e1u2e1x2e1w2g192e1s1f182c1u3g1x2e1q3f192e1u3d192e1u1f162e1s3g112c1s3f1b2e1q3e1i2e1u2d172e1w3f122e1s2f192c1t3f1q2e1q2f192e1w3d142e1u3f172e1u3e1e2c1s2f192e1s3f1d2e1u3d172e1v3f1d2e1s3f192c1s3g1d2e1q2f172e1v3d1z2e1u3f142e1u3g1c2c1s2f1a2e1s3g1v2e1u3d172e1u3f172e1s3f1w2c1s2e1w2e1d1e1h3f1i1e1g3g1w1f122g1s2g1f1c1i3f141f123f1g1e1i1c1s1g1s3g1d1e1j3e1e2d1b3f1l2f161g123e1b1d1f1g1i3f1e2e1f3f1u3e1k3e1q1e1g1g1h3f1e1c1h3e1d1f1i1g183f1e3c1a1f1i3g121f1h1e141c1a1e1c1e181e1a3g1r1e1s1f1d1f191f1m3f1e1d1g1g1f1f1k3e122e161e101e1e3f1d1g1k3g1v2e1s1e1f1f183g1s1e1u3c1g3f1g3g121f1i1g1u1d1g3e1w1f1f1f1c3e1e1e1k3e143g1d1f1g1g122d1s2e1w1g1q2e1t1e1h2c1s2g172e1r2e1h2e162e1t2e1w3e1q2e1t3g1v2c1s2e1v2e1r2e1w2e1h3c1q2e1u1e1d2e1t2e1v2c1u2e1l2e1r3g1w2e1h2d1x2f123f1q3e12141f123e181e1m3e1g2g1f3f142e1k3f1c1e1g1f1q2g1j1e143g1e1c1r3g142e1u2g1t2e1u2c1z2e1u2e1g2e1w3e1v2c1u3g1w2e1t3e1v2e1w2e1g2e1t2e1x2e1w2f102c1u2e182e1s2g1z2e1w2e1b2e1s1f162e1u2e112c1s1g1g2e1u1e1w2e1v2c1k2e1u2e162e1u2g1r2c1s1f192e1u2g1r2e1w1e1x2e1s2g1y2e1u3f122c1s3e1w2e1s1f1m2e1t2e1v2e1t3g1g2e1u1f1b2c1u3f182e1s3f1b2e1v3d162e1s1f172e1w3f1e2c1s2f172e1u3g1i2e1u3d192e1u3f1d2e1u3f1a2c1u3g1e2e1s3f192e1u3d172e1s2f172e1w3e1c2c1s3f182e1s3g1c2e1u3d182e1s3f1a2e1u1f192c1t3f1b2e1s3f1b2e1u3d152e1s2f172e1w3g1y2c1s1f172e1s3f1d2e1u3d172e1s3e1z2e1u2e1y2c1k1e123f1o1g1m1f163d121f142g1s2g1e3f163d103f1i1f1d3e1f1f181e1f1f1b1f1q3f1e3g1i3d1g1e1d1e1c1e1e1g1r3c1f1e183f131g1j2e1d1d1k1f1f1e1g2e1u1g1l3e1d1e1j3e1c2f1d3f1l1d181e122e192f1d1f1d1d1b2f1b1e181e1f3f1a3d153e1i1f1s3f1h1g1e3d1f1e1f3e1b1e1b1f1t1d1s1g121e1u1g163f1e3d171f1h1f1s2g1l2g1r1c1a3g181f1p3g1f1e1j3c1f1e1g2e1c1g1j2e1k1e1f3f1f2e1t3e1j2e1u1c102e1s2g1f2e1u1g1m2c1s2e1s2e171g1k2e1u3c1w2e1u1e1h2e1u2g1l2c1u2e1f2e1r2e1t2e1u2c1j2e1s2g152e1u3g1t2c1u1g1m2e153e1a3f1w3c182e192s1h1f1e3g1c1c1i3e1r1g1h1f1k1e1d3c1g1f1i1f1e2e1h1g1b2c152e1w1e1j2e1t2e152c1s1e1q2e1q3g1f2e1u2c1e2e1u3g1e2e1u1f1x2c1t2g1l2e1s2g1t2e1u3e1z2e1u2e1a2e1u1e1x2c1u2e1j2e1q1e1u2e1s2c1w2e1v2e1y2e1u2e1z2c1t2f1w2e1q1e152e1t3e1y2e1w2e132e1t3g1u2c1u1e1m2e1s1e1z2e1u1c1x2e1u2f1u2e1t2e1t2c1s2f192e1r3e1z2e1s3d182e1u3e1c2e1s3f192c1u3g1f2e1q3f182e1s3d1d2e1u2f152e1t3f1z2c1s3f192e1q3e1k2e1s3d172e1u3f142e1s1f192c1s3f172e1q3f182e1s3d1v2e1u2f172e1s3g1g2c1s2f1b2e1q3f1e2e1s1d172e1u3e1o2e1s3f192c1u3f1v2e1q3f182e1u3e1y2e1u3f152e1s3f192c1s3f192e1q2e1u2e1s2e1f1e143g173f1q1e1m3d1r3d1f3f1d3e1b2e1m3c1y2f1m3g1d3e1f1g1m3c1d1e1a3f113g1h2e1b2d1k1g1e3e1e2e1s1g1c3e1f1e1l3e1b1f1b3g1j3d183e142e173f1f1g1g3d1g2e1e3f1q1f1k3e1l1c1i1g1j3f1a2f1k3g1k1d1k3g1m3f1d3f1f3g1j1e1h3g163e1d1g1f3f1s3c1d1e1e1e1g2f121g141d1f1f1d1f1f3d1s2f1s2d1f3e1f2f123f1l1g1a1e1i3e1l1e1d1g1f3e1x1c122e1b3f1q1f1b3f1w1e1s1g1h3e1x2e1t3g1f2c1u2g1w2e1q2f182e1t3e1z2e1v1e1x3e1r1e152c1t2e1m2e1s2e1f2e1u1e1f2e1v1g1x3e1u3g182c1u1g1v2e1q3f1f2e1s2e192e1u2f1q3e153e193c103e141e1r1m1r1m1v1t2v1l1m2v141|vast_timeout|vast_pauseonclick|poster_floatbgcolor|poster_floatwidth|vast_volume|settings1action|999999|historybgaover|888888|222222|posterheight|titlecolor|dailymotion|settings1|settings2action|poster_floatposition|settings3||settings3action|settings4|settings4action|settings5|settings5action|posters|444444|poster_floatmargin|vast_closeonclick|vast_title|vast_pauseroll_vmap|vast_volumebgcolor|vast_skipbgcolor|vast_skipcolor|vast_titlebgcolor|vast_titlecolor|vast_xbgcolor|vast_xcolor|vast_progressbgcolor|vast_progresscolor|vast_volumecolor|vast_linktxtbgcolor|vast_linktxtonmobile|vast_unmutehover|vast_unmutebutonce|vast_default_volume|vast_unmutebutbgcolor||vast_unmutebutcolor|vast_openclick|vast_preroll_vmap|vast_linktxtcolor|vast_introtbimp|vast_preroll_limit|vast_pauseroll_counter|vast_preroll_andlimit|acdcao3o1t3q241c271s393x211b3o0z121o252z3o1b3x3c1i193x111i1a2z193u3w1z3z1611133v392q1930341s3u2v303n1z3w263c133v3b2q17303411311m233c1i3e29361w2x3u1z101m280y1z1029233x3z39361y2x3s1z101o3e162t2z2p113038231s27333c14212x233c162u291z1z38251s25333c1621361w1a2u291w3s27183u271s3s291q3c1z3u28111z3u26113w243s3m3q011z3z393y141m252c2q111x211211121m253c2q2o35303o11313z39213x3236143o011e1c2t2c2b2q122s1z121f3z1o1z213a23353u273w253r1338231z1z3839113z141h111e1m3c162v312p3c29233x3z2o1g29333c393w141o121r1c1f1f1e1c1f1e142d1i1c1c2g1p1c183g1a1e131e1k1e1k1d1d2e1u1d1p2c1t2g1t2c1q2e1y2c1q3e1e2e1u1c1x2e1u3c1p2c1u2e142c1q2g1r2c1s1c1k2e1u3c1f2e1w2d1x2c1s3e1z2c1r1f1w2c1q1d1u2e1s2c1s2e1v3e1t2c1u2e1v2c1s2g1b2c1s1d1y2e1t2e1o2e1u2d1w2c1t2g1o2c1r1e1w2c1r2c1s2e1s3c1w2e1u3c172c1u2g102c1q3e192c1r3e1t2e1s2d152e1u3d1v2c1s3f172c1q3f1d2c1q3d192e1s3d182e1u1d172c1t3g162c1q3f1a2c1q3d1v2e1s2d152e1v3d1a2c1s3f182c1q3f162c1q3d192e1u3d182e1u3d162c1s3f1h2c1q3f1b2c1q3d1d2e1s3d152e1u3d1r2c1s2f192c1q3f182c1q3d172e1t3c1g2e1u2d152c1s3g192c1q3f192c1s2c1u2e1s2c1c1e1h1c1k1e1c1e1k2d1b3e1d2c121c121g143d1q3f1e1e1s1d1w2f1j2d163f141b1d1e1e3g1p1c193e1e3d1h3e133g1o1c1g1f1j3d1e2c181e1c2d141g1u1d1h3c1f1e1g3e121f1j3e171e1f3f1s1e1k3e1e1c1d3d1f3f1c3d1d3f1e3d1d2d1b2f1e3d1c3f1d1e1q1c1f1e141e1q1g1h3d1p3b1f3f1c1c1d3e1a1c1d2e1b2e1c1e193f1i2c1d2c1f1g1k1c1b3e1i1d1e2c1j1f1t2c1q1f1l3c1b1e181e1d3e1g3f1h1c1e3c1t2g1o2c1s2e1m2c1q1e152e1t3e1i2e1w1c1d3d1u2g1r2c1s2e1u2c1r2e102e1t2e1h2e1u2e1d1c1u2g1q2c1r1g1q2c1s2d152e1t1c1i2e1u2e181d1x2f1v3c1s2f1h321q1p3g193d1q1c1b1e133e103e141e1i3d191g1e2e1i1e1x3e1i3e172e1t3e1t2e1u2c1v2c1w2g192c1s1f1y2c1t2e1s2e1s2d1w2e1t2e1o2c1v1e1u2c1r2e1s2c1s3c102e1s3c172e1u2e102c1u3e172c1r3g1z2c1s3c1y2e1u1c1j2e1t2c152c1u1e1o2c1q3g1f2c1u2c1g2e1s3e1e2e1u2d1x2c1v2g1j2c1s2g1t2c1u3e112e1s2c1a2e1u1c1x2c1w2e1h2c1q1f182c1u3d1c2e1s3d172e1s3d1a2c1u3f192c1s3f1l2c1s3d1b2e1t3c1b2e1s1d182c1w3f152c1q3f172c1t3d1f2e1s3d162e1u3e102c1u3f182c1q3f192c1s3d1a2e1s3c152e1s3d172c1u3e1d2c1q3f172c1s3e1q2e1s3d172e1u3d1c2c1u3f172c1q3f1j2c1s2d1a2e1u3d1c2e1s1d172c1u3f1b2c1q2e1z2c1s2c1m1e1h3c1d2f1e1c1h3b1e3f1c3c192e141c103b1f3g181d171f1f1e1g3d1i3e1c3d1d2f1k1c1o1c1k1f1h1d1a1e1h1c1b2d1m3f183d1d3e1a1d1g3d161f1h3c101f1w2d1j1d1a1e121b1b1g1e3d1p1c1d3e1c3d1h3g1e3d1e3e1g3f1e3c1d3f1f1d1k3e1m3f1w1d122e1e1c1b1c1f1g1h3d1k3e1y3e1c2e152e1a3d122f1f3c1g1c1k3e1c1c1q2f1m1c1c2e1d3f143e1b2g1i1d1k1e1j3e121d121e1a1d1r1e1d3e1e1c152e1u1c1v2c1v3e1s2c1q1e102c1u1c1q2e1u2e1d3f1t1e172c1v2e1p2c1q1e1x2c1s1e1y2e1u1e1i2f1u2c1u2c1w1g1o2c1q3f1h2c1t2e1x2e1s1c1i3f1w3c162d1y3f1h122t1f1i1e1e3e1u1g1h2d191e1l1d171d1f1f1b1c1h1e1w1e1j3c1s3f1c2c1q1e1k2c1q3c1z2e1s2c1t2e1w1d1p2c1t1e1e2c1q1f1z2c1r2c1m2e1s1e1t2e1v2c132c1u2e1w2c1q3e1g2c1s2c1r2e1q1d142e1u2c1s2c1s2g1i2c1r2e112c1s2e1y2e1r2c1w2e1u3d1i2c1s2e162c1q3e1t2c1s2c1q2e1r1c1e2e1w2c122c1u2e1x2c1q2e1d2c1s2e1e2e1r3e1h2e1u2d162c1s3e1d2c1q3f1b2c1q3e1e2e1q3d162e1v3c172c1s3f152c1q3e1j2c1q2d182e1s3c1b2e1u1d172c1s3e1f2c1q3f1a2c1s3d192e1q3d172e1u3c1x2c1s2f172c1q3f1d2c1q1d192e1q3d1a2e1u3d152c1t3g192c1q2f1a2c1q3d182e1q2d152e1v3c1h2c1s2f162c1q3f1b2c1q3d172e1q3d1r2e1u2c1s2c1f1e1d3b123g1h2d161e1f2g1d1c1g3g1r3d1w1e1f2e1d1e1a3g1j3c191d1k1g163d1b3e1c1d1e3e141g1f1d101g1y2d1h3d183e101b1d1f1g3d1k1c1b3e1b3d1h3f153d1j1c1i1g1f1d1e2e1a1c1d1d161g1q1d1h3e1a1c161c181e161c1q3g1l3c181c1a1g103b1d3g1e1c1g2d1f3f1d1c101g163e1b3c1f3g1c3d1h1g1e2c172d141f1d1c1d3e1e1d1g3d1a1g1e1d1d3g1m3d1f2c1s3g1h3d132f1g3d122d1e2g1a1c1d2e102c1s1e102e1r2e1c2e1w3c1f2c1u2e1y2c1i2e1l2c1q3d1s2e1q1c1t2e1v1c1o2c1u1e1r2c1d2f1u2c1r3e1t2e1r2c1j2e1w1c1i2c1t3e1b2c1d2e123c173d1z3f1f171p2q1i2s1r2q2g2q1g1s2g16|vast_prerolltimebreak|vast_prerolltbimp|vast_preroll_counter||vast_pauseroll_limit|vast_pauserolltimebreak|vast_pauserolltbimp|vast_postroll_limit|vast_introtimebreak|vast_postrolltimebreak|vast_postrolltbimp|vast_postroll_counter|vast_playroll_limit|vast_playroll_counter|ab4dc1u212829333918243q01311o25212q1b3x2c1d3q01112k3q01322m3v2u37262v202p11323a231s27352114212x25211a2u29111138251s27352z1632381y1z121611153v2b2q1921241u3u2v212n113w262e133x2b2q192z2611121o232e1i3e2b36182x3u121z1o380y121z3b233x212938182x3u10111o3e182t3b233x2b213x3b233x29233x11112s2911322u271u3u291r2o1i27322q2c1z23141b3v111132243316312q1b3v111k1v352z1d323p2e1z3w2o211q1e27311q1o23111s273t172126162e1c2e3b381c3w2b341x3w2s3q3u3922293r3732291716311611101o253e1q1z113w262e1b373a3x111x23141i1k2s1a3f1k1g1h1f1l3e181c1v3e1c2g193f163g1m3e1m1e1w1g101f192e1t2c122e1u2e1x2e1v2f1u2c1u1e152e1r2g102e1u2c172e1t3g1s2e1w2e1k2c1w1e1z2e1s1e1z2e1s2d1y2e1t2e1r2e1u2f172c1v2e1u2e1q2e1g2e1u2e1v2e1u2f1p2e1u3g1x2c1u2g142e1s2g102e1t2e112e1s2e1q2e1u2g1v2c1v2e1v2e1r2e1x2e1s3d1y2e1u3e1o2e1u3g1h2c1u2f192e1q3f122e1s2d1a2e1s3f1f2e1u1f172c1u3g102e1q3f192e1u3d1w2e1s3f172e1u3f1t2c1u2f172e1s3f1x2e1s3d1b2e1t3e1a2e1u3f182c1w3f1y2e1q3f1b2e1u3d1a2e1s1f172e1w3f1e2c1u3f172e1q3g1t2e1s2d1b2e1s3g1a2e1u3f192c1u3g1w2e1q1f192e1s3d1b2e1s3f152e1u3f1b2c1u2e1u2e1q1e1h1e1b1d1g3g1c1e1g1g1r3g1r3b1e3f1f3f1g2f143f1l2d1e2f1m1e193e1e3g1c3d1r1g1f2g1o3g1e1e1f1d1e3e1d2f141g1u1f1b1d1e3f1f1g1e3f1i2e1f1c1f3e1f1g1k3e1e1e183d153g1h2e191f1m1g1d3c1i3g1j1g1h3g1l1g143d1g3f1m1g1k1g1k1g1b2c1e1g1h3d1b2f1e1e1s2e1e3f1f1g103e1e3f1f3c1r3f1l3e1b3g1a1g1d3c143e1b1f171f1h1f1d1d1l1g1f2e1j2e1e1e1f1c1f3f1f1e161d1e1g1h1d1z2e1t2e1h2e1w1g1k2c1u3e1t2e1r1g1z2e1t1c1y2e1u2f142e1v2g102c1u3e1u2e1r1e1w2e1u1c162e1t2e1f2e1u2g1t2c1u3g1s2e1r1e102e1u3c1t2e1v2f152e171e192j2e163g1f2d183g1t3e1a3e1w3g1a1e1i3e1l1e1o1e1j2e181b1g3f162e1u2g1v2e1u2d1r2e1u3g1x2e1u2g142c1u2g102e1t2g112e1s2c1s2e1u2g1v2e1v2e1v2c1t3e1x2e1s3f1y2e1u3c1q2e1u3g1h2e1u2e1z2c1s2e1g2e1s1e1k2e1s3c1z2e1w2e1v2e1w1f1r2c1t1e1i2e1s1f1z2e1t2c1m2e1w1g1v2e1v2e152c1u3e102e1s3e1g2e1u2c1r2e1u1f162e1w3e1g2c1s3f1b2e1u3f182e1s3d172e1u3f1b2e1u1f192c1s3f1x2e1s3f1b2e1s3c182e1u3f192e1w3g1b2c1s3f1a2e1s3f1a2e1s3d192e1w3f1v2e1u3f182c1s3e1e2e1s3f1b2e1t3e1d2e1u3f192e1u3f1k2c1s2f192e1u3g1e2e1s1d192e1w3e1q2e1u1f172c1t3e1k2e1s3f192e1s3d1e2e1u3f172e1u2e1z2c1s1e1m1e183f1m1g1j1e1f1e1k1f1p3f1t3d1f3e1f1f1d3g1h3f153f1l1c1i1f1j1f1g3e1a1e1f2d161g1e1g1j3e1f1e1g3d141f1j3g193f1e3f1s1e1m3e1e1e1d3f1u2f1m1c1b3e1e3g1c1e1r1g1f2e1j3g1f1e1s1f1r1g1m1e1m1g1r1g1c3f1m3f181c181e162f1d3f1f1e1m3c1f1f1i1g141g1e2e1g1c1d3f1e3f1c3e1k3e121c161g1m1f1h2e1u1g1q3d1f3g1a3g1k1f171f1k1c1f1e1f3f1s3e1e3f1s2e1l3e1f1e1w3e162e1u2e1j2e1w2e1t2e1u3f1j2c1t2e1v2e1s1e1m2e1t3d102e1v2g1f2e1w2g1r2c1s2g1x2e1u1e1z2e1u2d1v2e1w2g1y2e1u1g102c1s2f1e2e1s1e162f173d142e1y141r2j1m1g1c1c1m2g141g1c3g1h1f1e3e161f1i1g1h1g1t2e1i1e1y2e1r1g1e2e1u1e1u2c1v2e1k2e1s2e162e1s2e1r2e1s1f172e1u2g1m2c1w1g1x2e1q2g1y2e1s3d122e1s2e1u2e1s1f1k2c1t2g1v2e1r3g1g2e1s2c1w2e1s1f1p2e1t3g1t2c1u2e1w2e1q2g1e2e1u1c112e1s3e1p2e1u2e142c1u2g1m2e1s1e1k2e1u3c1j2e1u2f1x2e1s3e1z2c1v1f1u2e1q1f172e1t3c182e1s3f162e1u3f182c1u3f172e1q3e1b2e1s3d192e1u3g1r2e1s1f192c1u3f1e2e1q3f172e1s3e182e1s1f172e1s3f1g2c1u3f172e1s3f142e1s2d1b2e1s3f1x2e1s1f192c1u3f1w2e1q3f192e1t3d1d2e1s3f152e1s3e1e2c1u3f182e1r3f192e1s1d192e1t3e172e1s3f172c1u3f192e1q2e1u2e1s2c1y1e1f1e103e161e1k3e1d3e143e101f142g1s2c1d3e1q3e163e1f1e1g3e161f1h3g171g1f3f1s1e1r3e1d1e1d3f1s2f1m1c1d3e1d3f1a3e1m1g1f1e1e3g1f1e1q1f1f3e1d1d181g1s1f191g1j3f1f3e1i3f1g2e1d1e1q3f1c3d1l3f183f122e1a1e1f3d1e3f183g1d3g1m3e121d163e1e1e1b3f1s3f1i1e1e3f1m1g1b1e141e1s3d1r3e183e1r3e1f1g1g1e1k3f171g1c3e1l1e1f1c1e2e1s1f1d3g1m1g1f3c1m1f1m3e101e1t3e102c1u3e1w2e1r1g1s2e1u1d122e1s2g1d1f141e1j2c1w2g1u2e1s2e1s2e1s2c1j2e1s2e1h1e162g102c1u2g1h2e1r1e172e1u1e1s2e1s1e1v1e173e103c1b2e191e122d2j1j2h2f2m1t2g1e2p141o|vast_midroll_counter|vast_midrolltimebreak|vast_midrolltbimp|subclr|PluginRounding|postertitleonhover|borderin|manipulation|crossOrigin|clr_contrast|backface|pjscolor|drunchr|querySelector|inset|current_sleep|qualitypause|ynxnopip|controlsList|nodownload|childList|observe|taginframe|files_sleep|oframe|Quality|crossorigin|07|mp4a|hidesmoothly|99999|contains|uppercase|codecs|avc1|rc_nobrand|42E01E|rc_custom|indent|PluginDroplist|ContextMenu|oncontextmenu|class|hover|clr_brightness|visited|shuffle8|tagcors|transbg|nativehlstv|clr_sepia|Seeking|require|allowLinker|88484718|readonly|pjsga|srvsga|getDate|isflash|xxx|moved|flussonic|PlugMediaChannels|PluginShare_|u10|Cross|nativenodownload|sfTfIGx0KG9RsglfLjF4aZsPskB5MqEfyftWajMfvZtWI2pPJCs6wC4VvZtTL3xmaqiSLfs6sjxSLkBVL2UWsfTfLGpVJ2iRsglfwZXTsnXdwDEfcCTfI29RartSLp9WKqpVJCs6bVtSMjBiMfs6wDMPsj9RsglUvZtmI29Rsglfzrx2JVY3KGB0Kn0kwgXksqeiKGalan0kwgXkzgUksqJmLqTQMkFPJD0kLj9RbjFVLVMdJjiPLn0ksWXTwnXTwZMdarteLkxjL3tQzCa0MjpRM2UeaqElwfTdwfhkzgUTIHBlsqA9t001vgE2xgs4xnEPyZ4Vxgs0ynw2xfYnxC41xgIVynA1vndRwWo3xns1wWsdxC41xDAUwnXUxVT4vgw2yDo1xgoUsnERxDETyDI3wnEPyZ40wgw3xnodDnoUvgo2wWh0wnsPwDoRwgh5wndTwVYnwDoRxgA0xDs1wCTUwZ44ynsTwgwVsnoVvgs1yDwUwDIPwDXRxgsUxWIWyZXUwf45wWd1wnoPwDXRxgsUxWIWyZYnwDARxnI1xDA1yZTUwZ42wgsVyDhdwDERxWXVyDEUxVTUwC44yDX0wDI2sno1vgMTwgh1wDMPwDwRxnE1wnX1sowUxC43wns5xDo3vno1vgXVwDE1xDIdwDARxnI1xDA1yZTUxf4Vynh2xWwVsnoVvghWynETwCTUxf4Vynh2xWwVsowUwC40wDXVwWM4vno2vgs4yDI3wWsdwDXRwDM0wnETxZTUxC4Twgo1xDE2snoTvgo3xnX1wnAPwDwRxnE1wnX1sowUwZ4UxWATxDX0vnoWvgw5ynIWxgwdwDXRwDd2wgw0xVTUwV4WxndUxDAVsnoTvgo4yDw2xWhPwDwRwghWxDI5wVYwxZ41xWIWyDA2wVTUwZ40wDdVwVYnxZ4TyDA0wDMWvnoTvgdWwWI4wDIdwV40ynoTwgwVxVTUwC4TyDw5xnodwf44wno4wWw4xZTUwC4TyDw5xnodAWoRwgM0yDIWwnhPwDoRwnhWyDAUsnXRwnw3wWdWwDM3xfT5vgdVxWX3wgX4snXRwnw3wWdWwDM3xfT4vgs2wgA4wWI2sowTvgXWxWw4wWo3xWIPxf42yDIVynh3yCXUvgs3xnh2wWX5vnERxns3yno1xnIdwf44wno4wWw4xZT1vgAVxWdUxDA2sowWvgA4wDXVwWs3vnERxns3yno1xnIdxZ4TyDA1yDoWxVT1vgI4yDI4wnsVsnARxDM2wWh0xgwPxf4UwnEUwWo4yZYwwDXRwDd5wWI3yCTWvgsVyDM5wgE4sowUwZ4UynIVwWA3vnwRwDM0ynETyDwdwDXRwDM0wnETxZTWvgoVwWoVwno1snoTvgo3xnX1wnAPwV4TxgI3xDo0xZYnwDXRwDM0wnETxZTUvgETwWE5wnX3snoUvgAUwnsWxWdPwZ4VwWEVyDAUwDddwDsRyDw4xDXUvnXRwgw1wgh0wDo4sowUxZ40xgE1xnE4vnXRwgw1wgh0wDo4sno1vgMTwgh1wDMPwC41wnw1yDXTxVXUxC43wns5xDo3vnwRwnI2xWEUxnAdAWo1vgMTwgh1wDMPxZ42wWs5xnEWwCXUxZ40xgE1xnE4vnERyDXUxno5xgAdwDsRyDw4xDXUvnERyDXUxno5xgAdAWoVvgs1xWM0xDoPxC45wno0wDh2xZXUwC42xnATwns5vnERxgw5xDE0ynddwDoRwDIWyDATwfT1vgsVwgA5xWM5soT1vgE1wnh2xWX1vndRwnh5xnAVxDsdAWERxDEWyDs2wDoPyZ4UxDAWynAUyZX1vgE2xgs4xnEPyZ4VwnIUwDA5yCX1vgE2xgs4xnEPyZ4Vxgs0ynw2xfMdJjiPLn0ks2JjJjJjJfaMvW48HZ9kzgUMv3x2JW4fvZteI3BmL24fyftWKqpVJCsPskB5MqEfyftWajMfvZtTL3xmaqiSLfs6skBSMZ1VKGalaZsPsj1eMjamLfs6sgo1snoTsnXdwZsPsjtksglTvZtfJ28fygoPskxgIGUisglUvZtfJ3YeJqBmLjMfyfs2snIdxfX2sfTfIjaesglTvgwPsjtkIG92JHsfygXRxfTfIG5mLGp0KG9RsglfIGUTKqofvZtiIHxisglfJGUeM3BmIVsPskBmMZs6wH0PsjUeLjMfyftVaCsPsjJmLqEfyftlarBTMWmMv1TSa3a3vkiSaHB1IjERI29QHZ93IHBgKn92zEUxKnaeEkiSIFFBsfTfKq90K2F5sgm7sj9RsglUcCTfMq9WaqFVKqihJCs6wCTfLjp0KHJiJkFPLqiSMVs6wZTfaj9PaG1iM3BSMjEfygoPskp1IGUmariWaq9VJCs6wCTfLHF0JHx0L3tisglTvZtWaGtcM3BSMjEfygXPsjpWMqFgaZs6sj9jJfsPsjxlIG5kJGeiKGalaZs6wZTfMqUebGFVKqFmJ2e0sglWxgXPskYPIHiiMkamJrBlsglQwCTfJq91IjUiI2UmI2PfygXPskxgMjFiLjxPKGxOsglTvZtVL3FRJqiRJVs6wZTfIjagL2USMfs6sjtPIGxOsfTfMrtiLq9eJZs6wCTfaj9PaG1isglfwCsPskBmLGFWaq9VJCs6wCTfMjFTLqpgJHBeJ3wfygoPsjpPJHt0MVs6wZTfM2F0aqiRJ3wfykPfM2F0aqiRJ3wUsglUvZtWJHB0KG5kMWp0KHBPJCs6siU1wnAUIFU1wnAWwpU1wnA0x1U1wnAWxFU1wnA0wFU1wnA0wiU1wnAWwiU1wnAWJCsPskxiarBmLjaWwkBmaqUisglfHrETxnoTHrETxnAWHrETxnw0HrETxnw4HrETxnxisfTfM2F0aqiRJ3wWaqi0LqEfyftMaDX0wgpMaDX0xnxMaDX0wWpMaDX0xntMaDX0wWeMaDX0xntMaDX0xnYMaDX0xqsfvZtWJHB0KG5kMWAfygoPskxiarBmLjaWxrBmaqUisglfHrETxnsUHrETxnxeHrETxnwTHrETxnA3HrETxnwTHrETxnAVHrETxnBgsfTfM2F0aqiRJ3w1sglUvZtWJHB0KG5kMWF0KHBPJCs6siU1wnAVwFU1wnAWIFU1wnAWJFU1wnA0wpU1wnAWJFU1wnA0wFU1wnA0wiU1wnA0IVsPsjpgaqi2JGigL24fygoPskxlL3aSajFVI29RartSLZs6wZTfMq9WKHBmL24fyft0L3XQMjikKrAfvZtesglfwCt9vZt0KrFQIkwfygXPskYPIHiPKHx0sgm7sjp1aq9TLqp5LqiWaZs6wH0PskxlIHtisglTvZtWaGt0KHBPJF9WaqpVaZs6wZTfM3FfMqp1M2FlKGBisglTvZtiJjJiI3BWsglTvZtiJjJiI3BkMjp5sglTvZtiJjJiI3BfLrFVsglTvZtiJjJiI3BWLj93sglTvZtiJjJiI3BWLj93L25faHAfygp9|tags|support|autoLink|35px|webshare|files_scale|container_w_procent|word|medium|whatsapp|viber|telegram|reddit|google|M16|tumblr|pinterest|logos|reloaderTimer|nativehlsinsafari|thumbs_img|share15|share16|nativehlsinedge|clr_saturate|vast_impressions_all|unescape|mouseenter|onMouseOver|onMouseOut|move|orientationchange|rus|English|mouseleave|scrollWidth|eng|0001|scroll_up|PluginQuiz|quizes|scroll_right|PluginBlock|PluginMini|startvisibility|createposter|keyup|keydown|through|ffce00|slidespeed|clear|pointw|pointa|Audiotrack|borderRight|borderBottom|vast_posterurl|vast_loadtxtd|stripsspace|pointcolor|PluginMediaTags|PluginEffects|ChromeCast|Speed|Local|fullscreenchange|MSFullscreenChange|nomedia|offsettimerinit|sleeptimer0|dropnohide|scaledrag0|1280|480|854|normalonclick|Verdana|15em|scaledrag|dragging|ref|tippmargin|240|action_back|error_time|scrollTo|1600p|vast_remove|urlmse|rmright|playback|paddingbottom|customqualities|autoplaynomobiletv|stripsw|2160|3840|sessid|1440|rafinit|tipa|2560|1080|brdla|panel|1920|actn|5em|marginRight|bggrclr|720|brdl|brdlc|tiny|requestPictureInPicture|large|createEvent|resumed|unmuted|rewound|vast_Impression|adShown|dontseekforward|initEvent|vast_dontplay|dispatchEvent|scrnstp|logapi||toogle|ontop2|ssfly|PluginVastTimeMsg|PlgnCntrlTmln|01|onpause|seektome|_self|EmptyVastUrl|downself|gainact|nonInteraction|webp|seekiconbut|playerjs_hit|hideuntiltext|watch|capiom|eventlisteners|wake|Progress|youtubeid|_text|unfix|vldcntrInterval|ssdown|mainresize|bufferDeg|isfullscreen|fix|vast_startdelay|moveplaylist|bufferInterval|timeplay|Resume|AdBlock|combined|PluginStat|startdelay|plduration|link2|prt|vpaid_|VpaidSet|bezier|Test|dwn|startvast|vastbreak|destination|nativeaudio|iconspress|PluginCountdown|Boolean|counter||countdown|disablePreload|SVG|pjsstatid|sleep|wsconfig|All|once|Sleep|_bg|Skip|Yes|bggrc|Bottom|posterfull|Font||touch_|Shadow|RemovePassword|bggrl|bgbrdrw|flipy|wkdt|iconmarginleft|iconmarginbottom|iosv|vastbgpreload|PJSDIV|iconmargintop|tagLive|toUpperCase|roll|clickmarginright|disabled|__storage_test__|renew|clickmarginleft|Pass|flipx|Metric|webkitDisplayingFullscreen|the|advertiser|website|Audio|LIVE|Enter|aborted|webkitfullscreenchange|cancelskip|ontouchend|Video|300000|cancel|_icon|tskp|isOn|watching|Small|PluginHdIcon|Reset|Previous|loadstart|clipboard|Tiny|Medium|Ultra|||||||||||loadeddata|Full|1296p|02|Super|reloadstart|Quad|switchpip|WebKitMediaSource|iconmarginright|pauseonhover|hidenoab|showduration|substring|AudioTrack|Infinity|2000px|arguments|clk|hideab|playtry|same|async|showfrom1file|webkitAudioContext|showboth|circle|hideonend|firstLevel|SettingsTimer|nexttrack|encode|hidenomini|reduce|vast_stop|buffering|swap|stylesheet|googleapis|css2|separator|head|VastRemoveUrl|VastInsertOr|NaNpx|hideall|cssText|scrollY|hideonyoutube|const|hideafterstart|globalfont|||||||||||pjs_cast_button_|pageXOffset|cast_available|automute|Next|hlsforce|autoplay_denied|hidelastpl|FindPjsDiv|redirectblank|blnk|number|45deg|olor|hideondesktop|setProperty|hideonmobile|and2limit|repeating|playError|interrupted|1000000|hideunwait|hidewait|openlast|control_buffer|redirectparent|MarPad|previoustrack|castinit|hideonmeta|heartbeats|toDataURL|jpeg|invert|alarm|vast_finish|cut1|preloading|cut2|playlist_folders|enter|playlist_length|nativeontv|showplaylist|hide0timestore|hd720|vastnow|vast_ima|Active|pjsstat|PluginWater||||10000|||wid|||water|PluginSettings2|fillText|sscopyright|Courier|Arial|fillStyle|189|WebKitSourceBuffer|showvlt|vastinfo|artwork|getVolume|filetype|hideonleaveandplay|hideonbar|hidelap|hidemini|hlsaddbitrate|hidesmall|vpaid|dropopen|midroll_time|vast_error|midrollcrtm|MediaMetadata|createMediaElementSource|wrapper0|adsystem|vastpause|currentfile|vastresume|vaststart|startAd|vastmute|ShowSettingsBut|nativenotandroid|vrsn|appendBuffer|createGain|VastError|showovr|showuntilmeta|sess|vastids|maxHeight|nomobile|nooverlay|iemobile|playError2|abg|setioff|lines1|readAsText|relurl|fragment|||||FRAG_CHANGED|aload|colorover|winmob|hidenormscreen|Live|LEVEL_LOADED|dvtp|webkitSupportsPresentationMode|FRAG_PARSING_METADATA|pictureInPictureEnabled|valuemarginleft|WEBVTT|valuemarginbottom|Dialogue|valuemargintop|skipimpessed|bgload2|192|valuepaddingright|valuepaddingleft|valuepaddingbottom|bgload|valuepaddingtop|VastImpression|hlsfdt|alphas|LEVEL_SWITCHED|slider|sub_fonted|hlssubtracks|2px|black|sub_drag|FRAG_LOADED|wheelDelta|finishnormal|OpenScroll|lang_ru|blackberry|hdn|skip_after_|showvolmobile|VpaidStarted|grdt|fragdata|finish|PluginSubword|customspeeds|ndash|Color|redirectafter|webkitShowPlaybackTargetPicker|191|subtitleDisplay|AUDIO_TRACKS_UPDATED|clone|AUDIO_TRACK_SWITCHING|running|hdbffs|hdbfnr||valuemarginright|||LEVEL_SWITCH|control_mute|loadVideoById|handlemarginleft|getDash|fillvideo|HlsSubTrack|webkitPresentationMode|vlscrl|emeEnabled|level|drmSystems|disablePictureInPicture|timestoredontuse|xhrSetup|timestore0plroot|timestoreunauto|getVideoLoadedFraction|handlemarginright|timestorenolive|yandex|hd1080|licenseUrl|getCurrentTime|setPlaybackRate|serverCertificateUrl|playlists|setAudio|setPlaybackQuality|setWsQuality|3600000|setWsAudioTrack|unMute|vast_init|pictureInPictureElement|onmousedown|onmouseup|MANIFEST_PARSED|issue|sub_allmy|handlemarginbottom|handlemargintop|attached|hideonlive|hideonunmute|crossdomain|VastInsertAnd|MANIFEST_LOADED|l3v_left|2048|chngwd|subtitle_errdel||constrols|sub_all_title|handshdw|withCredentials|childNodes|readystatechange|noreplace|subtrack|playbackRate|attachMedia|MEDIA_ATTACHED|crtm|drop|kind|225|skipimprsd|dashInterval|reset|0123456789|volume_element|unmute_video|nativemobile|tippointeralign|Level|hls_error|userAgent|appName|983|vast_ready|915|reloadjustevent|885|reloadplus|775|VastReady|pjsiframed|997|985|VastOverlay|979|971|180|918|fileend|874|lrpp|848|818|785|747|705|659|availability|trident|regress|outros|webOS|WebKitPlaybackTargetAvailabilityEvent|matches|fine|matchMedia|||WebkitAppearance|PasswordTime||hideuntilstartedios|hideuntilended|Philips|Tizen|Roku|tracking|BRAVIA|armv|tvOS|customwidth|webkitplaybacktargetavailabilitychanged|MacIntel|platform|ipod|Windows|Safari|Firefox|Edge|Trident|PluginWS|Opera|rotateonclick|appVersion|wproc|547|897|tipmargintop|control_time|296|Destroyed|344|857|432|recoverMediaError|hlsermd|webkitSupportsFullscreen|hidesec2|webkitcurrentplaybacktargetiswirelesschanged|to_right|scale0|hideonleave|VastShow|noset|883|hdbfdt|hdbfmb|webkitEnterFullScreen|webkitendfullscreen|mediaError|networkError|ERROR|triangle|norootplstart|line_play|_timer|webkitExitFullscreen|subtitleTracks||SUBTITLE_TRACKS_UPDATED|957||||275||914|036|267|185|096|tipmarginbottom|003|tipmarginleft|hideonvod|007|001|988|981|available|996|019|tipmarginright|nodeName|041|992|029'.split('|'), 0, {}))
!function t(e) { var r, i; r = this, i = function () { "use strict"; function r(t, e) { var r = Object.keys(t); if (Object.getOwnPropertySymbols) { var i = Object.getOwnPropertySymbols(t); e && (i = i.filter((function (e) { return Object.getOwnPropertyDescriptor(t, e).enumerable }))), r.push.apply(r, i) } return r } function i(t) { for (var e = 1; e < arguments.length; e++) { var i = null != arguments[e] ? arguments[e] : {}; e % 2 ? r(Object(i), !0).forEach((function (e) { var r, a, s; r = t, a = e, s = i[e], (a = n(a)) in r ? Object.defineProperty(r, a, { value: s, enumerable: !0, configurable: !0, writable: !0 }) : r[a] = s })) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(i)) : r(Object(i)).forEach((function (e) { Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(i, e)) })) } return t } function n(t) { var e = function (t, e) { if ("object" != typeof t || !t) return t; var r = t[Symbol.toPrimitive]; if (void 0 !== r) { var i = r.call(t, e || "default"); if ("object" != typeof i) return i; throw new TypeError("@@toPrimitive must return a primitive value.") } return ("string" === e ? String : Number)(t) }(t, "string"); return "symbol" == typeof e ? e : String(e) } function a(t, e) { for (var r = 0; r < e.length; r++) { var i = e[r]; i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, n(i.key), i) } } function s(t, e, r) { return e && a(t.prototype, e), r && a(t, r), Object.defineProperty(t, "prototype", { writable: !1 }), t } function o() { return o = Object.assign ? Object.assign.bind() : function (t) { for (var e = 1; e < arguments.length; e++) { var r = arguments[e]; for (var i in r) Object.prototype.hasOwnProperty.call(r, i) && (t[i] = r[i]) } return t }, o.apply(this, arguments) } function l(t, e) { t.prototype = Object.create(e.prototype), t.prototype.constructor = t, h(t, e) } function u(t) { return u = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) { return t.__proto__ || Object.getPrototypeOf(t) }, u(t) } function h(t, e) { return h = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) { return t.__proto__ = e, t }, h(t, e) } function d(t, e, r) { return d = function () { if ("undefined" == typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" == typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], (function () { }))), !0 } catch (t) { return !1 } }() ? Reflect.construct.bind() : function (t, e, r) { var i = [null]; i.push.apply(i, e); var n = new (Function.bind.apply(t, i)); return r && h(n, r.prototype), n }, d.apply(null, arguments) } function c(t) { var e = "function" == typeof Map ? new Map : void 0; return c = function (t) { if (null === t || !function (t) { try { return -1 !== Function.toString.call(t).indexOf("[native code]") } catch (e) { return "function" == typeof t } }(t)) return t; if ("function" != typeof t) throw new TypeError("Super expression must either be null or a function"); if (void 0 !== e) { if (e.has(t)) return e.get(t); e.set(t, r) } function r() { return d(t, arguments, u(this).constructor) } return r.prototype = Object.create(t.prototype, { constructor: { value: r, enumerable: !1, writable: !0, configurable: !0 } }), h(r, t) }, c(t) } function f(t, e) { (null == e || e > t.length) && (e = t.length); for (var r = 0, i = new Array(e); r < e; r++)i[r] = t[r]; return i } function g(t, e) { var r = "undefined" != typeof Symbol && t[Symbol.iterator] || t["@@iterator"]; if (r) return (r = r.call(t)).next.bind(r); if (Array.isArray(t) || (r = function (t, e) { if (t) { if ("string" == typeof t) return f(t, e); var r = Object.prototype.toString.call(t).slice(8, -1); return "Object" === r && t.constructor && (r = t.constructor.name), "Map" === r || "Set" === r ? Array.from(t) : "Arguments" === r || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r) ? f(t, e) : void 0 } }(t)) || e && t && "number" == typeof t.length) { r && (t = r); var i = 0; return function () { return i >= t.length ? { done: !0 } : { done: !1, value: t[i++] } } } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.") } function v(t) { return t && t.__esModule && Object.prototype.hasOwnProperty.call(t, "default") ? t.default : t } var m = { exports: {} }; !function (t, e) { var r, i, n, a, s; r = /^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/, i = /^(?=([^\/?#]*))\1([^]*)$/, n = /(?:\/|^)\.(?=\/)/g, a = /(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g, s = { buildAbsoluteURL: function (t, e, r) { if (r = r || {}, t = t.trim(), !(e = e.trim())) { if (!r.alwaysNormalize) return t; var n = s.parseURL(t); if (!n) throw new Error("Error trying to parse base URL."); return n.path = s.normalizePath(n.path), s.buildURLFromParts(n) } var a = s.parseURL(e); if (!a) throw new Error("Error trying to parse relative URL."); if (a.scheme) return r.alwaysNormalize ? (a.path = s.normalizePath(a.path), s.buildURLFromParts(a)) : e; var o = s.parseURL(t); if (!o) throw new Error("Error trying to parse base URL."); if (!o.netLoc && o.path && "/" !== o.path[0]) { var l = i.exec(o.path); o.netLoc = l[1], o.path = l[2] } o.netLoc && !o.path && (o.path = "/"); var u = { scheme: o.scheme, netLoc: a.netLoc, path: null, params: a.params, query: a.query, fragment: a.fragment }; if (!a.netLoc && (u.netLoc = o.netLoc, "/" !== a.path[0])) if (a.path) { var h = o.path, d = h.substring(0, h.lastIndexOf("/") + 1) + a.path; u.path = s.normalizePath(d) } else u.path = o.path, a.params || (u.params = o.params, a.query || (u.query = o.query)); return null === u.path && (u.path = r.alwaysNormalize ? s.normalizePath(a.path) : a.path), s.buildURLFromParts(u) }, parseURL: function (t) { var e = r.exec(t); return e ? { scheme: e[1] || "", netLoc: e[2] || "", path: e[3] || "", params: e[4] || "", query: e[5] || "", fragment: e[6] || "" } : null }, normalizePath: function (t) { for (t = t.split("").reverse().join("").replace(n, ""); t.length !== (t = t.replace(a, "")).length;); return t.split("").reverse().join("") }, buildURLFromParts: function (t) { return t.scheme + t.netLoc + t.path + t.params + t.query + t.fragment } }, t.exports = s }(m); var p = m.exports, y = Number.isFinite || function (t) { return "number" == typeof t && isFinite(t) }, E = Number.isSafeInteger || function (t) { return "number" == typeof t && Math.abs(t) <= T }, T = Number.MAX_SAFE_INTEGER || 9007199254740991, S = function (t) { return t.MEDIA_ATTACHING = "hlsMediaAttaching", t.MEDIA_ATTACHED = "hlsMediaAttached", t.MEDIA_DETACHING = "hlsMediaDetaching", t.MEDIA_DETACHED = "hlsMediaDetached", t.BUFFER_RESET = "hlsBufferReset", t.BUFFER_CODECS = "hlsBufferCodecs", t.BUFFER_CREATED = "hlsBufferCreated", t.BUFFER_APPENDING = "hlsBufferAppending", t.BUFFER_APPENDED = "hlsBufferAppended", t.BUFFER_EOS = "hlsBufferEos", t.BUFFER_FLUSHING = "hlsBufferFlushing", t.BUFFER_FLUSHED = "hlsBufferFlushed", t.MANIFEST_LOADING = "hlsManifestLoading", t.MANIFEST_LOADED = "hlsManifestLoaded", t.MANIFEST_PARSED = "hlsManifestParsed", t.LEVEL_SWITCHING = "hlsLevelSwitching", t.LEVEL_SWITCHED = "hlsLevelSwitched", t.LEVEL_LOADING = "hlsLevelLoading", t.LEVEL_LOADED = "hlsLevelLoaded", t.LEVEL_UPDATED = "hlsLevelUpdated", t.LEVEL_PTS_UPDATED = "hlsLevelPtsUpdated", t.LEVELS_UPDATED = "hlsLevelsUpdated", t.AUDIO_TRACKS_UPDATED = "hlsAudioTracksUpdated", t.AUDIO_TRACK_SWITCHING = "hlsAudioTrackSwitching", t.AUDIO_TRACK_SWITCHED = "hlsAudioTrackSwitched", t.AUDIO_TRACK_LOADING = "hlsAudioTrackLoading", t.AUDIO_TRACK_LOADED = "hlsAudioTrackLoaded", t.SUBTITLE_TRACKS_UPDATED = "hlsSubtitleTracksUpdated", t.SUBTITLE_TRACKS_CLEARED = "hlsSubtitleTracksCleared", t.SUBTITLE_TRACK_SWITCH = "hlsSubtitleTrackSwitch", t.SUBTITLE_TRACK_LOADING = "hlsSubtitleTrackLoading", t.SUBTITLE_TRACK_LOADED = "hlsSubtitleTrackLoaded", t.SUBTITLE_FRAG_PROCESSED = "hlsSubtitleFragProcessed", t.CUES_PARSED = "hlsCuesParsed", t.NON_NATIVE_TEXT_TRACKS_FOUND = "hlsNonNativeTextTracksFound", t.INIT_PTS_FOUND = "hlsInitPtsFound", t.FRAG_LOADING = "hlsFragLoading", t.FRAG_LOAD_EMERGENCY_ABORTED = "hlsFragLoadEmergencyAborted", t.FRAG_LOADED = "hlsFragLoaded", t.FRAG_DECRYPTED = "hlsFragDecrypted", t.FRAG_PARSING_INIT_SEGMENT = "hlsFragParsingInitSegment", t.FRAG_PARSING_USERDATA = "hlsFragParsingUserdata", t.FRAG_PARSING_METADATA = "hlsFragParsingMetadata", t.FRAG_PARSED = "hlsFragParsed", t.FRAG_BUFFERED = "hlsFragBuffered", t.FRAG_CHANGED = "hlsFragChanged", t.FPS_DROP = "hlsFpsDrop", t.FPS_DROP_LEVEL_CAPPING = "hlsFpsDropLevelCapping", t.MAX_AUTO_LEVEL_UPDATED = "hlsMaxAutoLevelUpdated", t.ERROR = "hlsError", t.DESTROYING = "hlsDestroying", t.KEY_LOADING = "hlsKeyLoading", t.KEY_LOADED = "hlsKeyLoaded", t.LIVE_BACK_BUFFER_REACHED = "hlsLiveBackBufferReached", t.BACK_BUFFER_REACHED = "hlsBackBufferReached", t.STEERING_MANIFEST_LOADED = "hlsSteeringManifestLoaded", t }({}), L = function (t) { return t.NETWORK_ERROR = "networkError", t.MEDIA_ERROR = "mediaError", t.KEY_SYSTEM_ERROR = "keySystemError", t.MUX_ERROR = "muxError", t.OTHER_ERROR = "otherError", t }({}), A = function (t) { return t.KEY_SYSTEM_NO_KEYS = "keySystemNoKeys", t.KEY_SYSTEM_NO_ACCESS = "keySystemNoAccess", t.KEY_SYSTEM_NO_SESSION = "keySystemNoSession", t.KEY_SYSTEM_NO_CONFIGURED_LICENSE = "keySystemNoConfiguredLicense", t.KEY_SYSTEM_LICENSE_REQUEST_FAILED = "keySystemLicenseRequestFailed", t.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED = "keySystemServerCertificateRequestFailed", t.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED = "keySystemServerCertificateUpdateFailed", t.KEY_SYSTEM_SESSION_UPDATE_FAILED = "keySystemSessionUpdateFailed", t.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED = "keySystemStatusOutputRestricted", t.KEY_SYSTEM_STATUS_INTERNAL_ERROR = "keySystemStatusInternalError", t.MANIFEST_LOAD_ERROR = "manifestLoadError", t.MANIFEST_LOAD_TIMEOUT = "manifestLoadTimeOut", t.MANIFEST_PARSING_ERROR = "manifestParsingError", t.MANIFEST_INCOMPATIBLE_CODECS_ERROR = "manifestIncompatibleCodecsError", t.LEVEL_EMPTY_ERROR = "levelEmptyError", t.LEVEL_LOAD_ERROR = "levelLoadError", t.LEVEL_LOAD_TIMEOUT = "levelLoadTimeOut", t.LEVEL_PARSING_ERROR = "levelParsingError", t.LEVEL_SWITCH_ERROR = "levelSwitchError", t.AUDIO_TRACK_LOAD_ERROR = "audioTrackLoadError", t.AUDIO_TRACK_LOAD_TIMEOUT = "audioTrackLoadTimeOut", t.SUBTITLE_LOAD_ERROR = "subtitleTrackLoadError", t.SUBTITLE_TRACK_LOAD_TIMEOUT = "subtitleTrackLoadTimeOut", t.FRAG_LOAD_ERROR = "fragLoadError", t.FRAG_LOAD_TIMEOUT = "fragLoadTimeOut", t.FRAG_DECRYPT_ERROR = "fragDecryptError", t.FRAG_PARSING_ERROR = "fragParsingError", t.FRAG_GAP = "fragGap", t.REMUX_ALLOC_ERROR = "remuxAllocError", t.KEY_LOAD_ERROR = "keyLoadError", t.KEY_LOAD_TIMEOUT = "keyLoadTimeOut", t.BUFFER_ADD_CODEC_ERROR = "bufferAddCodecError", t.BUFFER_INCOMPATIBLE_CODECS_ERROR = "bufferIncompatibleCodecsError", t.BUFFER_APPEND_ERROR = "bufferAppendError", t.BUFFER_APPENDING_ERROR = "bufferAppendingError", t.BUFFER_STALLED_ERROR = "bufferStalledError", t.BUFFER_FULL_ERROR = "bufferFullError", t.BUFFER_SEEK_OVER_HOLE = "bufferSeekOverHole", t.BUFFER_NUDGE_ON_STALL = "bufferNudgeOnStall", t.INTERNAL_EXCEPTION = "internalException", t.INTERNAL_ABORTED = "aborted", t.UNKNOWN = "unknown", t }({}), R = function () { }, k = { trace: R, debug: R, log: R, warn: R, info: R, error: R }, b = k; function D(t) { for (var e = arguments.length, r = new Array(e > 1 ? e - 1 : 0), i = 1; i < e; i++)r[i - 1] = arguments[i]; r.forEach((function (e) { b[e] = t[e] ? t[e].bind(t) : function (t) { var e = self.console[t]; return e ? e.bind(self.console, "[" + t + "] >") : R }(e) })) } function I(t, e) { if ("object" == typeof console && !0 === t || "object" == typeof t) { D(t, "debug", "log", "info", "warn", "error"); try { b.log('Debug logs enabled for "' + e + '" in hls.js version 1.5.1') } catch (t) { b = k } } else b = k } var w = b, C = /^(\d+)x(\d+)$/, _ = /(.+?)=(".*?"|.*?)(?:,|$)/g, x = function () { function t(e) { "string" == typeof e && (e = t.parseAttrList(e)), o(this, e) } var e = t.prototype; return e.decimalInteger = function (t) { var e = parseInt(this[t], 10); return e > Number.MAX_SAFE_INTEGER ? 1 / 0 : e }, e.hexadecimalInteger = function (t) { if (this[t]) { var e = (this[t] || "0x").slice(2); e = (1 & e.length ? "0" : "") + e; for (var r = new Uint8Array(e.length / 2), i = 0; i < e.length / 2; i++)r[i] = parseInt(e.slice(2 * i, 2 * i + 2), 16); return r } return null }, e.hexadecimalIntegerAsNumber = function (t) { var e = parseInt(this[t], 16); return e > Number.MAX_SAFE_INTEGER ? 1 / 0 : e }, e.decimalFloatingPoint = function (t) { return parseFloat(this[t]) }, e.optionalFloat = function (t, e) { var r = this[t]; return r ? parseFloat(r) : e }, e.enumeratedString = function (t) { return this[t] }, e.bool = function (t) { return "YES" === this[t] }, e.decimalResolution = function (t) { var e = C.exec(this[t]); if (null !== e) return { width: parseInt(e[1], 10), height: parseInt(e[2], 10) } }, t.parseAttrList = function (t) { var e, r = {}; for (_.lastIndex = 0; null !== (e = _.exec(t));) { var i = e[2]; 0 === i.indexOf('"') && i.lastIndexOf('"') === i.length - 1 && (i = i.slice(1, -1)), r[e[1].trim()] = i } return r }, s(t, [{ key: "clientAttrs", get: function () { return Object.keys(this).filter((function (t) { return "X-" === t.substring(0, 2) })) } }]), t }(); function P(t) { return "SCTE35-OUT" === t || "SCTE35-IN" === t } var F = function () { function t(t, e) { if (this.attr = void 0, this._startDate = void 0, this._endDate = void 0, this._badValueForSameId = void 0, e) { var r = e.attr; for (var i in r) if (Object.prototype.hasOwnProperty.call(t, i) && t[i] !== r[i]) { w.warn('DATERANGE tag attribute: "' + i + '" does not match for tags with ID: "' + t.ID + '"'), this._badValueForSameId = i; break } t = o(new x({}), r, t) } if (this.attr = t, this._startDate = new Date(t["START-DATE"]), "END-DATE" in this.attr) { var n = new Date(this.attr["END-DATE"]); y(n.getTime()) && (this._endDate = n) } } return s(t, [{ key: "id", get: function () { return this.attr.ID } }, { key: "class", get: function () { return this.attr.CLASS } }, { key: "startDate", get: function () { return this._startDate } }, { key: "endDate", get: function () { if (this._endDate) return this._endDate; var t = this.duration; return null !== t ? new Date(this._startDate.getTime() + 1e3 * t) : null } }, { key: "duration", get: function () { if ("DURATION" in this.attr) { var t = this.attr.decimalFloatingPoint("DURATION"); if (y(t)) return t } else if (this._endDate) return (this._endDate.getTime() - this._startDate.getTime()) / 1e3; return null } }, { key: "plannedDuration", get: function () { return "PLANNED-DURATION" in this.attr ? this.attr.decimalFloatingPoint("PLANNED-DURATION") : null } }, { key: "endOnNext", get: function () { return this.attr.bool("END-ON-NEXT") } }, { key: "isValid", get: function () { return !!this.id && !this._badValueForSameId && y(this.startDate.getTime()) && (null === this.duration || this.duration >= 0) && (!this.endOnNext || !!this.class) } }]), t }(), M = function () { this.aborted = !1, this.loaded = 0, this.retry = 0, this.total = 0, this.chunkCount = 0, this.bwEstimate = 0, this.loading = { start: 0, first: 0, end: 0 }, this.parsing = { start: 0, end: 0 }, this.buffering = { start: 0, first: 0, end: 0 } }, O = "audio", N = "video", U = "audiovideo", B = function () { function t(t) { var e; this._byteRange = null, this._url = null, this.baseurl = void 0, this.relurl = void 0, this.elementaryStreams = ((e = {})[O] = null, e[N] = null, e[U] = null, e), this.baseurl = t } return t.prototype.setByteRange = function (t, e) { var r, i = t.split("@", 2); r = 1 === i.length ? (null == e ? void 0 : e.byteRangeEndOffset) || 0 : parseInt(i[1]), this._byteRange = [r, parseInt(i[0]) + r] }, s(t, [{ key: "byteRange", get: function () { return this._byteRange ? this._byteRange : [] } }, { key: "byteRangeStartOffset", get: function () { return this.byteRange[0] } }, { key: "byteRangeEndOffset", get: function () { return this.byteRange[1] } }, { key: "url", get: function () { return !this._url && this.baseurl && this.relurl && (this._url = p.buildAbsoluteURL(this.baseurl, this.relurl, { alwaysNormalize: !0 })), this._url || "" }, set: function (t) { this._url = t } }]), t }(), G = function (t) { function e(e, r) { var i; return (i = t.call(this, r) || this)._decryptdata = null, i.rawProgramDateTime = null, i.programDateTime = null, i.tagList = [], i.duration = 0, i.sn = 0, i.levelkeys = void 0, i.type = void 0, i.loader = null, i.keyLoader = null, i.level = -1, i.cc = 0, i.startPTS = void 0, i.endPTS = void 0, i.startDTS = void 0, i.endDTS = void 0, i.start = 0, i.deltaPTS = void 0, i.maxStartPTS = void 0, i.minEndPTS = void 0, i.stats = new M, i.data = void 0, i.bitrateTest = !1, i.title = null, i.initSegment = null, i.endList = void 0, i.gap = void 0, i.urlId = 0, i.type = e, i } l(e, t); var r = e.prototype; return r.setKeyFormat = function (t) { if (this.levelkeys) { var e = this.levelkeys[t]; e && !this._decryptdata && (this._decryptdata = e.getDecryptData(this.sn)) } }, r.abortRequests = function () { var t, e; null == (t = this.loader) || t.abort(), null == (e = this.keyLoader) || e.abort() }, r.setElementaryStreamInfo = function (t, e, r, i, n, a) { void 0 === a && (a = !1); var s = this.elementaryStreams, o = s[t]; o ? (o.startPTS = Math.min(o.startPTS, e), o.endPTS = Math.max(o.endPTS, r), o.startDTS = Math.min(o.startDTS, i), o.endDTS = Math.max(o.endDTS, n)) : s[t] = { startPTS: e, endPTS: r, startDTS: i, endDTS: n, partial: a } }, r.clearElementaryStreamInfo = function () { var t = this.elementaryStreams; t[O] = null, t[N] = null, t[U] = null }, s(e, [{ key: "decryptdata", get: function () { if (!this.levelkeys && !this._decryptdata) return null; if (!this._decryptdata && this.levelkeys && !this.levelkeys.NONE) { var t = this.levelkeys.identity; if (t) this._decryptdata = t.getDecryptData(this.sn); else { var e = Object.keys(this.levelkeys); if (1 === e.length) return this._decryptdata = this.levelkeys[e[0]].getDecryptData(this.sn) } } return this._decryptdata } }, { key: "end", get: function () { return this.start + this.duration } }, { key: "endProgramDateTime", get: function () { if (null === this.programDateTime) return null; if (!y(this.programDateTime)) return null; var t = y(this.duration) ? this.duration : 0; return this.programDateTime + 1e3 * t } }, { key: "encrypted", get: function () { var t; if (null != (t = this._decryptdata) && t.encrypted) return !0; if (this.levelkeys) { var e = Object.keys(this.levelkeys), r = e.length; if (r > 1 || 1 === r && this.levelkeys[e[0]].encrypted) return !0 } return !1 } }]), e }(B), K = function (t) { function e(e, r, i, n, a) { var s; (s = t.call(this, i) || this).fragOffset = 0, s.duration = 0, s.gap = !1, s.independent = !1, s.relurl = void 0, s.fragment = void 0, s.index = void 0, s.stats = new M, s.duration = e.decimalFloatingPoint("DURATION"), s.gap = e.bool("GAP"), s.independent = e.bool("INDEPENDENT"), s.relurl = e.enumeratedString("URI"), s.fragment = r, s.index = n; var o = e.enumeratedString("BYTERANGE"); return o && s.setByteRange(o, a), a && (s.fragOffset = a.fragOffset + a.duration), s } return l(e, t), s(e, [{ key: "start", get: function () { return this.fragment.start + this.fragOffset } }, { key: "end", get: function () { return this.start + this.duration } }, { key: "loaded", get: function () { var t = this.elementaryStreams; return !!(t.audio || t.video || t.audiovideo) } }]), e }(B), H = function () { function t(t) { this.PTSKnown = !1, this.alignedSliding = !1, this.averagetargetduration = void 0, this.endCC = 0, this.endSN = 0, this.fragments = void 0, this.fragmentHint = void 0, this.partList = null, this.dateRanges = void 0, this.live = !0, this.ageHeader = 0, this.advancedDateTime = void 0, this.updated = !0, this.advanced = !0, this.availabilityDelay = void 0, this.misses = 0, this.startCC = 0, this.startSN = 0, this.startTimeOffset = null, this.targetduration = 0, this.totalduration = 0, this.type = null, this.url = void 0, this.m3u8 = "", this.version = null, this.canBlockReload = !1, this.canSkipUntil = 0, this.canSkipDateRanges = !1, this.skippedSegments = 0, this.recentlyRemovedDateranges = void 0, this.partHoldBack = 0, this.holdBack = 0, this.partTarget = 0, this.preloadHint = void 0, this.renditionReports = void 0, this.tuneInGoal = 0, this.deltaUpdateFailed = void 0, this.driftStartTime = 0, this.driftEndTime = 0, this.driftStart = 0, this.driftEnd = 0, this.encryptedFragments = void 0, this.playlistParsingError = null, this.variableList = null, this.hasVariableRefs = !1, this.fragments = [], this.encryptedFragments = [], this.dateRanges = {}, this.url = t } return t.prototype.reloaded = function (t) { if (!t) return this.advanced = !0, void (this.updated = !0); var e = this.lastPartSn - t.lastPartSn, r = this.lastPartIndex - t.lastPartIndex; this.updated = this.endSN !== t.endSN || !!r || !!e || !this.live, this.advanced = this.endSN > t.endSN || e > 0 || 0 === e && r > 0, this.updated || this.advanced ? this.misses = Math.floor(.6 * t.misses) : this.misses = t.misses + 1, this.availabilityDelay = t.availabilityDelay }, s(t, [{ key: "hasProgramDateTime", get: function () { return !!this.fragments.length && y(this.fragments[this.fragments.length - 1].programDateTime) } }, { key: "levelTargetDuration", get: function () { return this.averagetargetduration || this.targetduration || 10 } }, { key: "drift", get: function () { var t = this.driftEndTime - this.driftStartTime; return t > 0 ? 1e3 * (this.driftEnd - this.driftStart) / t : 1 } }, { key: "edge", get: function () { return this.partEnd || this.fragmentEnd } }, { key: "partEnd", get: function () { var t; return null != (t = this.partList) && t.length ? this.partList[this.partList.length - 1].end : this.fragmentEnd } }, { key: "fragmentEnd", get: function () { var t; return null != (t = this.fragments) && t.length ? this.fragments[this.fragments.length - 1].end : 0 } }, { key: "age", get: function () { return this.advancedDateTime ? Math.max(Date.now() - this.advancedDateTime, 0) / 1e3 : 0 } }, { key: "lastPartIndex", get: function () { var t; return null != (t = this.partList) && t.length ? this.partList[this.partList.length - 1].index : -1 } }, { key: "lastPartSn", get: function () { var t; return null != (t = this.partList) && t.length ? this.partList[this.partList.length - 1].fragment.sn : this.endSN } }]), t }(); function V(t) { return Uint8Array.from(atob(t), (function (t) { return t.charCodeAt(0) })) } function Y(t) { var e, r, i = t.split(":"), n = null; if ("data" === i[0] && 2 === i.length) { var a = i[1].split(";"), s = a[a.length - 1].split(","); if (2 === s.length) { var o = "base64" === s[0], l = s[1]; o ? (a.splice(-1, 1), n = V(l)) : (e = W(l).subarray(0, 16), (r = new Uint8Array(16)).set(e, 16 - e.length), n = r) } } return n } function W(t) { return Uint8Array.from(unescape(encodeURIComponent(t)), (function (t) { return t.charCodeAt(0) })) } var j = "undefined" != typeof self ? self : void 0, q = { CLEARKEY: "org.w3.clearkey", FAIRPLAY: "com.apple.fps", PLAYREADY: "com.microsoft.playready", WIDEVINE: "com.widevine.alpha" }, X = "org.w3.clearkey", z = "com.apple.streamingkeydelivery", Q = "com.microsoft.playready", J = "urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed"; function $(t) { switch (t) { case z: return q.FAIRPLAY; case Q: return q.PLAYREADY; case J: return q.WIDEVINE; case X: return q.CLEARKEY } } var Z = "edef8ba979d64acea3c827dcd51d21ed"; function tt(t) { switch (t) { case q.FAIRPLAY: return z; case q.PLAYREADY: return Q; case q.WIDEVINE: return J; case q.CLEARKEY: return X } } function et(t) { var e = t.drmSystems, r = t.widevineLicenseUrl, i = e ? [q.FAIRPLAY, q.WIDEVINE, q.PLAYREADY, q.CLEARKEY].filter((function (t) { return !!e[t] })) : []; return !i[q.WIDEVINE] && r && i.push(q.WIDEVINE), i } var rt, it = null != j && null != (rt = j.navigator) && rt.requestMediaKeySystemAccess ? self.navigator.requestMediaKeySystemAccess.bind(self.navigator) : null; function nt(t, e, r) { return Uint8Array.prototype.slice ? t.slice(e, r) : new Uint8Array(Array.prototype.slice.call(t, e, r)) } var at, st = function (t, e) { return e + 10 <= t.length && 73 === t[e] && 68 === t[e + 1] && 51 === t[e + 2] && t[e + 3] < 255 && t[e + 4] < 255 && t[e + 6] < 128 && t[e + 7] < 128 && t[e + 8] < 128 && t[e + 9] < 128 }, ot = function (t, e) { return e + 10 <= t.length && 51 === t[e] && 68 === t[e + 1] && 73 === t[e + 2] && t[e + 3] < 255 && t[e + 4] < 255 && t[e + 6] < 128 && t[e + 7] < 128 && t[e + 8] < 128 && t[e + 9] < 128 }, lt = function (t, e) { for (var r = e, i = 0; st(t, e);)i += 10, i += ut(t, e + 6), ot(t, e + 10) && (i += 10), e += i; if (i > 0) return t.subarray(r, r + i) }, ut = function (t, e) { var r = 0; return r = (127 & t[e]) << 21, r |= (127 & t[e + 1]) << 14, r |= (127 & t[e + 2]) << 7, r |= 127 & t[e + 3] }, ht = function (t, e) { return st(t, e) && ut(t, e + 6) + 10 <= t.length - e }, dt = function (t) { for (var e = gt(t), r = 0; r < e.length; r++) { var i = e[r]; if (ct(i)) return Et(i) } }, ct = function (t) { return t && "PRIV" === t.key && "com.apple.streaming.transportStreamTimestamp" === t.info }, ft = function (t) { var e = String.fromCharCode(t[0], t[1], t[2], t[3]), r = ut(t, 4); return { type: e, size: r, data: t.subarray(10, 10 + r) } }, gt = function (t) { for (var e = 0, r = []; st(t, e);) { for (var i = ut(t, e + 6), n = (e += 10) + i; e + 8 < n;) { var a = ft(t.subarray(e)), s = vt(a); s && r.push(s), e += a.size + 10 } ot(t, e) && (e += 10) } return r }, vt = function (t) { return "PRIV" === t.type ? mt(t) : "W" === t.type[0] ? yt(t) : pt(t) }, mt = function (t) { if (!(t.size < 2)) { var e = Tt(t.data, !0), r = new Uint8Array(t.data.subarray(e.length + 1)); return { key: t.type, info: e, data: r.buffer } } }, pt = function (t) { if (!(t.size < 2)) { if ("TXXX" === t.type) { var e = 1, r = Tt(t.data.subarray(e), !0); e += r.length + 1; var i = Tt(t.data.subarray(e)); return { key: t.type, info: r, data: i } } var n = Tt(t.data.subarray(1)); return { key: t.type, data: n } } }, yt = function (t) { if ("WXXX" === t.type) { if (t.size < 2) return; var e = 1, r = Tt(t.data.subarray(e), !0); e += r.length + 1; var i = Tt(t.data.subarray(e)); return { key: t.type, info: r, data: i } } var n = Tt(t.data); return { key: t.type, data: n } }, Et = function (t) { if (8 === t.data.byteLength) { var e = new Uint8Array(t.data), r = 1 & e[3], i = (e[4] << 23) + (e[5] << 15) + (e[6] << 7) + e[7]; return i /= 45, r && (i += 47721858.84), Math.round(i) } }, Tt = function (t, e) { void 0 === e && (e = !1); var r = St(); if (r) { var i = r.decode(t); if (e) { var n = i.indexOf("\0"); return -1 !== n ? i.substring(0, n) : i } return i.replace(/\0/g, "") } for (var a, s, o, l = t.length, u = "", h = 0; h < l;) { if (0 === (a = t[h++]) && e) return u; if (0 !== a && 3 !== a) switch (a >> 4) { case 0: case 1: case 2: case 3: case 4: case 5: case 6: case 7: u += String.fromCharCode(a); break; case 12: case 13: s = t[h++], u += String.fromCharCode((31 & a) << 6 | 63 & s); break; case 14: s = t[h++], o = t[h++], u += String.fromCharCode((15 & a) << 12 | (63 & s) << 6 | (63 & o) << 0) } } return u }; function St() { if (!navigator.userAgent.includes("PlayStation 4")) return at || void 0 === self.TextDecoder || (at = new self.TextDecoder("utf-8")), at } var Lt = function (t) { for (var e = "", r = 0; r < t.length; r++) { var i = t[r].toString(16); i.length < 2 && (i = "0" + i), e += i } return e }, At = Math.pow(2, 32) - 1, Rt = [].push, kt = { video: 1, audio: 2, id3: 3, text: 4 }; function bt(t) { return String.fromCharCode.apply(null, t) } function Dt(t, e) { var r = t[e] << 8 | t[e + 1]; return r < 0 ? 65536 + r : r } function It(t, e) { var r = wt(t, e); return r < 0 ? 4294967296 + r : r } function wt(t, e) { return t[e] << 24 | t[e + 1] << 16 | t[e + 2] << 8 | t[e + 3] } function Ct(t, e, r) { t[e] = r >> 24, t[e + 1] = r >> 16 & 255, t[e + 2] = r >> 8 & 255, t[e + 3] = 255 & r } function _t(t, e) { var r = []; if (!e.length) return r; for (var i = t.byteLength, n = 0; n < i;) { var a = It(t, n), s = a > 1 ? n + a : i; if (bt(t.subarray(n + 4, n + 8)) === e[0]) if (1 === e.length) r.push(t.subarray(n + 8, s)); else { var o = _t(t.subarray(n + 8, s), e.slice(1)); o.length && Rt.apply(r, o) } n = s } return r } function xt(t) { var e = [], r = t[0], i = 8, n = It(t, i); i += 4, i += 0 === r ? 8 : 16, i += 2; var a = t.length + 0, s = Dt(t, i); i += 2; for (var o = 0; o < s; o++) { var l = i, u = It(t, l); l += 4; var h = 2147483647 & u; if (1 == (2147483648 & u) >>> 31) return w.warn("SIDX has hierarchical references (not supported)"), null; var d = It(t, l); l += 4, e.push({ referenceSize: h, subsegmentDuration: d, info: { duration: d / n, start: a, end: a + h - 1 } }), a += h, i = l += 4 } return { earliestPresentationTime: 0, timescale: n, version: r, referencesCount: s, references: e } } function Pt(t) { for (var e = [], r = _t(t, ["moov", "trak"]), n = 0; n < r.length; n++) { var a = r[n], s = _t(a, ["tkhd"])[0]; if (s) { var o = s[0], l = It(s, 0 === o ? 12 : 20), u = _t(a, ["mdia", "mdhd"])[0]; if (u) { var h = It(u, 0 === (o = u[0]) ? 12 : 20), d = _t(a, ["mdia", "hdlr"])[0]; if (d) { var c = bt(d.subarray(8, 12)), f = { soun: O, vide: N }[c]; if (f) { var g = Ft(_t(a, ["mdia", "minf", "stbl", "stsd"])[0]); e[l] = { timescale: h, type: f }, e[f] = i({ timescale: h, id: l }, g) } } } } } return _t(t, ["moov", "mvex", "trex"]).forEach((function (t) { var r = It(t, 4), i = e[r]; i && (i.default = { duration: It(t, 12), flags: It(t, 20) }) })), e } function Ft(t) { var e = t.subarray(8), r = e.subarray(86), i = bt(e.subarray(4, 8)), n = i, a = "enca" === i || "encv" === i; if (a) { var s = _t(e, [i])[0]; _t(s.subarray("enca" === i ? 28 : 78), ["sinf"]).forEach((function (t) { var e = _t(t, ["schm"])[0]; if (e) { var r = bt(e.subarray(4, 8)); if ("cbcs" === r || "cenc" === r) { var i = _t(t, ["frma"])[0]; i && (n = bt(i)) } } })) } switch (n) { case "avc1": case "avc2": case "avc3": case "avc4": var o = _t(r, ["avcC"])[0]; n += "." + Ot(o[1]) + Ot(o[2]) + Ot(o[3]); break; case "mp4a": var l = _t(e, [i])[0], u = _t(l.subarray(28), ["esds"])[0]; if (u && u.length > 12) { var h = 4; if (3 !== u[h++]) break; h = Mt(u, h), h += 2; var d = u[h++]; if (128 & d && (h += 2), 64 & d && (h += u[h++]), 4 !== u[h++]) break; h = Mt(u, h); var c = u[h++]; if (64 !== c) break; if (n += "." + Ot(c), h += 12, 5 !== u[h++]) break; h = Mt(u, h); var f = u[h++], g = (248 & f) >> 3; 31 === g && (g += 1 + ((7 & f) << 3) + ((224 & u[h]) >> 5)), n += "." + g } break; case "hvc1": case "hev1": var v = _t(r, ["hvcC"])[0], m = v[1], p = ["", "A", "B", "C"][m >> 6], y = 31 & m, E = It(v, 2), T = (32 & m) >> 5 ? "H" : "L", S = v[12], L = v.subarray(6, 12); n += "." + p + y, n += "." + E.toString(16).toUpperCase(), n += "." + T + S; for (var A = "", R = L.length; R--;) { var k = L[R]; (k || A) && (A = "." + k.toString(16).toUpperCase() + A) } n += A; break; case "dvh1": case "dvhe": var b = _t(r, ["dvcC"])[0], D = b[2] >> 1 & 127, I = b[2] << 5 & 32 | b[3] >> 3 & 31; n += "." + Nt(D) + "." + Nt(I); break; case "vp09": var w = _t(r, ["vpcC"])[0], C = w[4], _ = w[5], x = w[6] >> 4 & 15; n += "." + Nt(C) + "." + Nt(_) + "." + Nt(x); break; case "av01": var P = _t(r, ["av1C"])[0], F = P[1] >>> 5, M = 31 & P[1], O = P[2] >>> 7 ? "H" : "M", N = (64 & P[2]) >> 6, U = (32 & P[2]) >> 5, B = 2 === F && N ? U ? 12 : 10 : N ? 10 : 8, G = (16 & P[2]) >> 4, K = (8 & P[2]) >> 3, H = (4 & P[2]) >> 2, V = 3 & P[2]; n += "." + F + "." + Nt(M) + O + "." + Nt(B) + "." + G + "." + K + H + V + "." + Nt(1) + "." + Nt(1) + "." + Nt(1) + ".0" }return { codec: n, encrypted: a } } function Mt(t, e) { for (var r = e + 5; 128 & t[e++] && e < r;); return e } function Ot(t) { return ("0" + t.toString(16).toUpperCase()).slice(-2) } function Nt(t) { return (t < 10 ? "0" : "") + t } function Ut(t) { var e = _t(t, ["schm"])[0]; if (e) { var r = bt(e.subarray(4, 8)); if ("cbcs" === r || "cenc" === r) return _t(t, ["schi", "tenc"])[0] } return w.error("[eme] missing 'schm' box"), null } function Bt(t) { var e = It(t, 0), r = 8; 1 & e && (r += 4), 4 & e && (r += 4); for (var i = 0, n = It(t, 4), a = 0; a < n; a++)256 & e && (i += It(t, r), r += 4), 512 & e && (r += 4), 1024 & e && (r += 4), 2048 & e && (r += 4); return i } function Gt(t, e) { var r = new Uint8Array(t.length + e.length); return r.set(t), r.set(e, t.length), r } function Kt(t, e) { var r = [], i = e.samples, n = e.timescale, a = e.id, s = !1; return _t(i, ["moof"]).map((function (o) { var l = o.byteOffset - 8; _t(o, ["traf"]).map((function (o) { var u = _t(o, ["tfdt"]).map((function (t) { var e = t[0], r = It(t, 4); return 1 === e && (r *= Math.pow(2, 32), r += It(t, 8)), r / n }))[0]; return void 0 !== u && (t = u), _t(o, ["tfhd"]).map((function (u) { var h = It(u, 4), d = 16777215 & It(u, 0), c = 0, f = 0 != (16 & d), g = 0, v = 0 != (32 & d), m = 8; h === a && (0 != (1 & d) && (m += 8), 0 != (2 & d) && (m += 4), 0 != (8 & d) && (c = It(u, m), m += 4), f && (g = It(u, m), m += 4), v && (m += 4), "video" === e.type && (s = function (t) { if (!t) return !1; var e = t.indexOf("."), r = e < 0 ? t : t.substring(0, e); return "hvc1" === r || "hev1" === r || "dvh1" === r || "dvhe" === r }(e.codec)), _t(o, ["trun"]).map((function (a) { var o = a[0], u = 16777215 & It(a, 0), h = 0 != (1 & u), d = 0, f = 0 != (4 & u), v = 0 != (256 & u), m = 0, p = 0 != (512 & u), y = 0, E = 0 != (1024 & u), T = 0 != (2048 & u), S = 0, L = It(a, 4), A = 8; h && (d = It(a, A), A += 4), f && (A += 4); for (var R = d + l, k = 0; k < L; k++) { if (v ? (m = It(a, A), A += 4) : m = c, p ? (y = It(a, A), A += 4) : y = g, E && (A += 4), T && (S = 0 === o ? It(a, A) : wt(a, A), A += 4), e.type === N) for (var b = 0; b < y;) { var D = It(i, R); Ht(s, i[R += 4]) && Vt(i.subarray(R, R + D), s ? 2 : 1, t + S / n, r), R += D, b += D + 4 } t += m / n } }))) })) })) })), r } function Ht(t, e) { if (t) { var r = e >> 1 & 63; return 39 === r || 40 === r } return 6 == (31 & e) } function Vt(t, e, r, i) { var n = Yt(t), a = 0; a += e; for (var s = 0, o = 0, l = 0; a < n.length;) { s = 0; do { if (a >= n.length) break; s += l = n[a++] } while (255 === l); o = 0; do { if (a >= n.length) break; o += l = n[a++] } while (255 === l); var u = n.length - a, h = a; if (o < u) a += o; else if (o > u) { w.error("Malformed SEI payload. " + o + " is too small, only " + u + " bytes left to parse."); break } if (4 === s) { if (181 === n[h++]) { var d = Dt(n, h); if (h += 2, 49 === d) { var c = It(n, h); if (h += 4, 1195456820 === c) { var f = n[h++]; if (3 === f) { var g = n[h++], v = 64 & g, m = v ? 2 + 3 * (31 & g) : 0, p = new Uint8Array(m); if (v) { p[0] = g; for (var y = 1; y < m; y++)p[y] = n[h++] } i.push({ type: f, payloadType: s, pts: r, bytes: p }) } } } } } else if (5 === s && o > 16) { for (var E = [], T = 0; T < 16; T++) { var S = n[h++].toString(16); E.push(1 == S.length ? "0" + S : S), 3 !== T && 5 !== T && 7 !== T && 9 !== T || E.push("-") } for (var L = o - 16, A = new Uint8Array(L), R = 0; R < L; R++)A[R] = n[h++]; i.push({ payloadType: s, pts: r, uuid: E.join(""), userData: Tt(A), userDataBytes: A }) } } } function Yt(t) { for (var e = t.byteLength, r = [], i = 1; i < e - 2;)0 === t[i] && 0 === t[i + 1] && 3 === t[i + 2] ? (r.push(i + 2), i += 2) : i++; if (0 === r.length) return t; var n = e - r.length, a = new Uint8Array(n), s = 0; for (i = 0; i < n; s++, i++)s === r[0] && (s++, r.shift()), a[i] = t[s]; return a } function Wt(t, e, r) { if (16 !== t.byteLength) throw new RangeError("Invalid system id"); var i, n, a; if (e) { i = 1, n = new Uint8Array(16 * e.length); for (var s = 0; s < e.length; s++) { var o = e[s]; if (16 !== o.byteLength) throw new RangeError("Invalid key"); n.set(o, 16 * s) } } else i = 0, n = new Uint8Array; i > 0 ? (a = new Uint8Array(4), e.length > 0 && new DataView(a.buffer).setUint32(0, e.length, !1)) : a = new Uint8Array; var l = new Uint8Array(4); return r && r.byteLength > 0 && new DataView(l.buffer).setUint32(0, r.byteLength, !1), function (t) { for (var e = arguments.length, r = new Array(e > 1 ? e - 1 : 0), i = 1; i < e; i++)r[i - 1] = arguments[i]; for (var n = r.length, a = 8, s = n; s--;)a += r[s].byteLength; var o = new Uint8Array(a); for (o[0] = a >> 24 & 255, o[1] = a >> 16 & 255, o[2] = a >> 8 & 255, o[3] = 255 & a, o.set(t, 4), s = 0, a = 8; s < n; s++)o.set(r[s], a), a += r[s].byteLength; return o }([112, 115, 115, 104], new Uint8Array([i, 0, 0, 0]), t, a, n, l, r || new Uint8Array) } var jt = {}, qt = function () { function t(t, e, r, i, n) { void 0 === i && (i = [1]), void 0 === n && (n = null), this.uri = void 0, this.method = void 0, this.keyFormat = void 0, this.keyFormatVersions = void 0, this.encrypted = void 0, this.isCommonEncryption = void 0, this.iv = null, this.key = null, this.keyId = null, this.pssh = null, this.method = t, this.uri = e, this.keyFormat = r, this.keyFormatVersions = i, this.iv = n, this.encrypted = !!t && "NONE" !== t, this.isCommonEncryption = this.encrypted && "AES-128" !== t } t.clearKeyUriToKeyIdMap = function () { jt = {} }; var e = t.prototype; return e.isSupported = function () { if (this.method) { if ("AES-128" === this.method || "NONE" === this.method) return !0; if ("identity" === this.keyFormat) return "SAMPLE-AES" === this.method; switch (this.keyFormat) { case z: case J: case Q: case X: return -1 !== ["ISO-23001-7", "SAMPLE-AES", "SAMPLE-AES-CENC", "SAMPLE-AES-CTR"].indexOf(this.method) } } return !1 }, e.getDecryptData = function (e) { if (!this.encrypted || !this.uri) return null; if ("AES-128" === this.method && this.uri && !this.iv) { "number" != typeof e && ("AES-128" !== this.method || this.iv || w.warn('missing IV for initialization segment with method="' + this.method + '" - compliance issue'), e = 0); var r = function (t) { for (var e = new Uint8Array(16), r = 12; r < 16; r++)e[r] = t >> 8 * (15 - r) & 255; return e }(e); return new t(this.method, this.uri, "identity", this.keyFormatVersions, r) } var i = Y(this.uri); if (i) switch (this.keyFormat) { case J: this.pssh = i, i.length >= 22 && (this.keyId = i.subarray(i.length - 22, i.length - 6)); break; case Q: var n = new Uint8Array([154, 4, 240, 121, 152, 64, 66, 134, 171, 146, 230, 91, 224, 136, 95, 149]); this.pssh = Wt(n, null, i); var a = new Uint16Array(i.buffer, i.byteOffset, i.byteLength / 2), s = String.fromCharCode.apply(null, Array.from(a)), o = s.substring(s.indexOf("<"), s.length), l = (new DOMParser).parseFromString(o, "text/xml").getElementsByTagName("KID")[0]; if (l) { var u = l.childNodes[0] ? l.childNodes[0].nodeValue : l.getAttribute("VALUE"); if (u) { var h = V(u).subarray(0, 16); !function (t) { var e = function (t, e, r) { var i = t[e]; t[e] = t[r], t[r] = i }; e(t, 0, 3), e(t, 1, 2), e(t, 4, 5), e(t, 6, 7) }(h), this.keyId = h } } break; default: var d = i.subarray(0, 16); if (16 !== d.length) { var c = new Uint8Array(16); c.set(d, 16 - d.length), d = c } this.keyId = d }if (!this.keyId || 16 !== this.keyId.byteLength) { var f = jt[this.uri]; if (!f) { var g = Object.keys(jt).length % Number.MAX_SAFE_INTEGER; f = new Uint8Array(16), new DataView(f.buffer, 12, 4).setUint32(0, g), jt[this.uri] = f } this.keyId = f } return this }, t }(), Xt = /\{\$([a-zA-Z0-9-_]+)\}/g; function zt(t) { return Xt.test(t) } function Qt(t, e, r) { if (null !== t.variableList || t.hasVariableRefs) for (var i = r.length; i--;) { var n = r[i], a = e[n]; a && (e[n] = Jt(t, a)) } } function Jt(t, e) { if (null !== t.variableList || t.hasVariableRefs) { var r = t.variableList; return e.replace(Xt, (function (e) { var i = e.substring(2, e.length - 1), n = null == r ? void 0 : r[i]; return void 0 === n ? (t.playlistParsingError || (t.playlistParsingError = new Error('Missing preceding EXT-X-DEFINE tag for Variable Reference: "' + i + '"')), e) : n })) } return e } function $t(t, e, r) { var i, n, a = t.variableList; if (a || (t.variableList = a = {}), "QUERYPARAM" in e) { i = e.QUERYPARAM; try { var s = new self.URL(r).searchParams; if (!s.has(i)) throw new Error('"' + i + '" does not match any query parameter in URI: "' + r + '"'); n = s.get(i) } catch (e) { t.playlistParsingError || (t.playlistParsingError = new Error("EXT-X-DEFINE QUERYPARAM: " + e.message)) } } else i = e.NAME, n = e.VALUE; i in a ? t.playlistParsingError || (t.playlistParsingError = new Error('EXT-X-DEFINE duplicate Variable Name declarations: "' + i + '"')) : a[i] = n || "" } function Zt(t, e, r) { var i = e.IMPORT; if (r && i in r) { var n = t.variableList; n || (t.variableList = n = {}), n[i] = r[i] } else t.playlistParsingError || (t.playlistParsingError = new Error('EXT-X-DEFINE IMPORT attribute not found in Multivariant Playlist: "' + i + '"')) } function te(t) { if (void 0 === t && (t = !0), "undefined" != typeof self) return (t || !self.MediaSource) && self.ManagedMediaSource || self.MediaSource || self.WebKitMediaSource } var ee = { audio: { a3ds: 1, "ac-3": .95, "ac-4": 1, alac: .9, alaw: 1, dra1: 1, "dts+": 1, "dts-": 1, dtsc: 1, dtse: 1, dtsh: 1, "ec-3": .9, enca: 1, fLaC: .9, flac: .9, FLAC: .9, g719: 1, g726: 1, m4ae: 1, mha1: 1, mha2: 1, mhm1: 1, mhm2: 1, mlpa: 1, mp4a: 1, "raw ": 1, Opus: 1, opus: 1, samr: 1, sawb: 1, sawp: 1, sevc: 1, sqcp: 1, ssmv: 1, twos: 1, ulaw: 1 }, video: { avc1: 1, avc2: 1, avc3: 1, avc4: 1, avcp: 1, av01: .8, drac: 1, dva1: 1, dvav: 1, dvh1: .7, dvhe: .7, encv: 1, hev1: .75, hvc1: .75, mjp2: 1, mp4v: 1, mvc1: 1, mvc2: 1, mvc3: 1, mvc4: 1, resv: 1, rv60: 1, s263: 1, svc1: 1, svc2: 1, "vc-1": 1, vp08: 1, vp09: .9 }, text: { stpp: 1, wvtt: 1 } }; function re(t, e, r) { return void 0 === r && (r = !0), !t.split(",").some((function (t) { return !ie(t, e, r) })) } function ie(t, e, r) { var i; void 0 === r && (r = !0); var n = te(r); return null != (i = null == n ? void 0 : n.isTypeSupported(ne(t, e))) && i } function ne(t, e) { return e + '/mp4;codecs="' + t + '"' } function ae(t) { if (t) { var e = t.substring(0, 4); return ee.video[e] } return 2 } function se(t) { return t.split(",").reduce((function (t, e) { var r = ee.video[e]; return r ? (2 * r + t) / (t ? 3 : 2) : (ee.audio[e] + t) / (t ? 2 : 1) }), 0) } var oe = {}, le = /flac|opus/i; function ue(t, e) { return void 0 === e && (e = !0), t.replace(le, (function (t) { return function (t, e) { if (void 0 === e && (e = !0), oe[t]) return oe[t]; for (var r = { flac: ["flac", "fLaC", "FLAC"], opus: ["opus", "Opus"] }[t], i = 0; i < r.length; i++)if (ie(r[i], "audio", e)) return oe[t] = r[i], r[i]; return t }(t.toLowerCase(), e) })) } function he(t, e) { return t && "mp4a" !== t ? t : e } var de = /#EXT-X-STREAM-INF:([^\r\n]*)(?:[\r\n](?:#[^\r\n]*)?)*([^\r\n]+)|#EXT-X-(SESSION-DATA|SESSION-KEY|DEFINE|CONTENT-STEERING|START):([^\r\n]*)[\r\n]+/g, ce = /#EXT-X-MEDIA:(.*)/g, fe = /^#EXT(?:INF|-X-TARGETDURATION):/m, ge = new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source, /(?!#) *(\S[\S ]*)/.source, /#EXT-X-BYTERANGE:*(.+)/.source, /#EXT-X-PROGRAM-DATE-TIME:(.+)/.source, /#.*/.source].join("|"), "g"), ve = new RegExp([/#(EXTM3U)/.source, /#EXT-X-(DATERANGE|DEFINE|KEY|MAP|PART|PART-INF|PLAYLIST-TYPE|PRELOAD-HINT|RENDITION-REPORT|SERVER-CONTROL|SKIP|START):(.+)/.source, /#EXT-X-(BITRATE|DISCONTINUITY-SEQUENCE|MEDIA-SEQUENCE|TARGETDURATION|VERSION): *(\d+)/.source, /#EXT-X-(DISCONTINUITY|ENDLIST|GAP|INDEPENDENT-SEGMENTS)/.source, /(#)([^:]*):(.*)/.source, /(#)(.*)(?:.*)\r?\n?/.source].join("|")), me = function () { function t() { } return t.findGroup = function (t, e) { for (var r = 0; r < t.length; r++) { var i = t[r]; if (i.id === e) return i } }, t.resolve = function (t, e) { return p.buildAbsoluteURL(e, t, { alwaysNormalize: !0 }) }, t.isMediaPlaylist = function (t) { return fe.test(t) }, t.parseMasterPlaylist = function (e, r) { var i, n = { contentSteering: null, levels: [], playlistParsingError: null, sessionData: null, sessionKeys: null, startTimeOffset: null, variableList: null, hasVariableRefs: zt(e) }, a = []; for (de.lastIndex = 0; null != (i = de.exec(e));)if (i[1]) { var s, o = new x(i[1]); Qt(n, o, ["CODECS", "SUPPLEMENTAL-CODECS", "ALLOWED-CPC", "PATHWAY-ID", "STABLE-VARIANT-ID", "AUDIO", "VIDEO", "SUBTITLES", "CLOSED-CAPTIONS", "NAME"]); var l = Jt(n, i[2]), u = { attrs: o, bitrate: o.decimalInteger("BANDWIDTH") || o.decimalInteger("AVERAGE-BANDWIDTH"), name: o.NAME, url: t.resolve(l, r) }, h = o.decimalResolution("RESOLUTION"); h && (u.width = h.width, u.height = h.height), Ee(o.CODECS, u), null != (s = u.unknownCodecs) && s.length || a.push(u), n.levels.push(u) } else if (i[3]) { var d = i[3], c = i[4]; switch (d) { case "SESSION-DATA": var f = new x(c); Qt(n, f, ["DATA-ID", "LANGUAGE", "VALUE", "URI"]); var g = f["DATA-ID"]; g && (null === n.sessionData && (n.sessionData = {}), n.sessionData[g] = f); break; case "SESSION-KEY": var v = pe(c, r, n); v.encrypted && v.isSupported() ? (null === n.sessionKeys && (n.sessionKeys = []), n.sessionKeys.push(v)) : w.warn('[Keys] Ignoring invalid EXT-X-SESSION-KEY tag: "' + c + '"'); break; case "DEFINE": var m = new x(c); Qt(n, m, ["NAME", "VALUE", "QUERYPARAM"]), $t(n, m, r); break; case "CONTENT-STEERING": var p = new x(c); Qt(n, p, ["SERVER-URI", "PATHWAY-ID"]), n.contentSteering = { uri: t.resolve(p["SERVER-URI"], r), pathwayId: p["PATHWAY-ID"] || "." }; break; case "START": n.startTimeOffset = ye(c) } } var y = a.length > 0 && a.length < n.levels.length; return n.levels = y ? a : n.levels, 0 === n.levels.length && (n.playlistParsingError = new Error("no levels found in manifest")), n }, t.parseMasterPlaylistMedia = function (e, r, i) { var n, a = {}, s = i.levels, o = { AUDIO: s.map((function (t) { return { id: t.attrs.AUDIO, audioCodec: t.audioCodec } })), SUBTITLES: s.map((function (t) { return { id: t.attrs.SUBTITLES, textCodec: t.textCodec } })), "CLOSED-CAPTIONS": [] }, l = 0; for (ce.lastIndex = 0; null !== (n = ce.exec(e));) { var u = new x(n[1]), h = u.TYPE; if (h) { var d = o[h], c = a[h] || []; a[h] = c, Qt(i, u, ["URI", "GROUP-ID", "LANGUAGE", "ASSOC-LANGUAGE", "STABLE-RENDITION-ID", "NAME", "INSTREAM-ID", "CHARACTERISTICS", "CHANNELS"]); var f = u.LANGUAGE, g = u["ASSOC-LANGUAGE"], v = u.CHANNELS, m = u.CHARACTERISTICS, p = u["INSTREAM-ID"], y = { attrs: u, bitrate: 0, id: l++, groupId: u["GROUP-ID"] || "", name: u.NAME || f || "", type: h, default: u.bool("DEFAULT"), autoselect: u.bool("AUTOSELECT"), forced: u.bool("FORCED"), lang: f, url: u.URI ? t.resolve(u.URI, r) : "" }; if (g && (y.assocLang = g), v && (y.channels = v), m && (y.characteristics = m), p && (y.instreamId = p), null != d && d.length) { var E = t.findGroup(d, y.groupId) || d[0]; Te(y, E, "audioCodec"), Te(y, E, "textCodec") } c.push(y) } } return a }, t.parseLevelPlaylist = function (t, e, r, i, n, a) { var s, l, u, h = new H(e), d = h.fragments, c = null, f = 0, g = 0, v = 0, m = 0, p = null, E = new G(i, e), T = -1, S = !1, L = null; for (ge.lastIndex = 0, h.m3u8 = t, h.hasVariableRefs = zt(t); null !== (s = ge.exec(t));) { S && (S = !1, (E = new G(i, e)).start = v, E.sn = f, E.cc = m, E.level = r, c && (E.initSegment = c, E.rawProgramDateTime = c.rawProgramDateTime, c.rawProgramDateTime = null, L && (E.setByteRange(L), L = null))); var A = s[1]; if (A) { E.duration = parseFloat(A); var R = (" " + s[2]).slice(1); E.title = R || null, E.tagList.push(R ? ["INF", A, R] : ["INF", A]) } else if (s[3]) { if (y(E.duration)) { E.start = v, u && Ae(E, u, h), E.sn = f, E.level = r, E.cc = m, d.push(E); var k = (" " + s[3]).slice(1); E.relurl = Jt(h, k), Se(E, p), p = E, v += E.duration, f++, g = 0, S = !0 } } else if (s[4]) { var b = (" " + s[4]).slice(1); p ? E.setByteRange(b, p) : E.setByteRange(b) } else if (s[5]) E.rawProgramDateTime = (" " + s[5]).slice(1), E.tagList.push(["PROGRAM-DATE-TIME", E.rawProgramDateTime]), -1 === T && (T = d.length); else { if (!(s = s[0].match(ve))) { w.warn("No matches on slow regex match for level playlist!"); continue } for (l = 1; l < s.length && void 0 === s[l]; l++); var D = (" " + s[l]).slice(1), I = (" " + s[l + 1]).slice(1), C = s[l + 2] ? (" " + s[l + 2]).slice(1) : ""; switch (D) { case "PLAYLIST-TYPE": h.type = I.toUpperCase(); break; case "MEDIA-SEQUENCE": f = h.startSN = parseInt(I); break; case "SKIP": var _ = new x(I); Qt(h, _, ["RECENTLY-REMOVED-DATERANGES"]); var P = _.decimalInteger("SKIPPED-SEGMENTS"); if (y(P)) { h.skippedSegments = P; for (var M = P; M--;)d.unshift(null); f += P } var O = _.enumeratedString("RECENTLY-REMOVED-DATERANGES"); O && (h.recentlyRemovedDateranges = O.split("\t")); break; case "TARGETDURATION": h.targetduration = Math.max(parseInt(I), 1); break; case "VERSION": h.version = parseInt(I); break; case "INDEPENDENT-SEGMENTS": case "EXTM3U": break; case "ENDLIST": h.live = !1; break; case "#": (I || C) && E.tagList.push(C ? [I, C] : [I]); break; case "DISCONTINUITY": m++, E.tagList.push(["DIS"]); break; case "GAP": E.gap = !0, E.tagList.push([D]); break; case "BITRATE": E.tagList.push([D, I]); break; case "DATERANGE": var N = new x(I); Qt(h, N, ["ID", "CLASS", "START-DATE", "END-DATE", "SCTE35-CMD", "SCTE35-OUT", "SCTE35-IN"]), Qt(h, N, N.clientAttrs); var U = new F(N, h.dateRanges[N.ID]); U.isValid || h.skippedSegments ? h.dateRanges[U.id] = U : w.warn('Ignoring invalid DATERANGE tag: "' + I + '"'), E.tagList.push(["EXT-X-DATERANGE", I]); break; case "DEFINE": var B = new x(I); Qt(h, B, ["NAME", "VALUE", "IMPORT", "QUERYPARAM"]), "IMPORT" in B ? Zt(h, B, a) : $t(h, B, e); break; case "DISCONTINUITY-SEQUENCE": m = parseInt(I); break; case "KEY": var V = pe(I, e, h); if (V.isSupported()) { if ("NONE" === V.method) { u = void 0; break } u || (u = {}), u[V.keyFormat] && (u = o({}, u)), u[V.keyFormat] = V } else w.warn('[Keys] Ignoring invalid EXT-X-KEY tag: "' + I + '"'); break; case "START": h.startTimeOffset = ye(I); break; case "MAP": var Y = new x(I); if (Qt(h, Y, ["BYTERANGE", "URI"]), E.duration) { var W = new G(i, e); Le(W, Y, r, u), c = W, E.initSegment = c, c.rawProgramDateTime && !E.rawProgramDateTime && (E.rawProgramDateTime = c.rawProgramDateTime) } else { var j = E.byteRangeEndOffset; if (j) { var q = E.byteRangeStartOffset; L = j - q + "@" + q } else L = null; Le(E, Y, r, u), c = E, S = !0 } break; case "SERVER-CONTROL": var X = new x(I); h.canBlockReload = X.bool("CAN-BLOCK-RELOAD"), h.canSkipUntil = X.optionalFloat("CAN-SKIP-UNTIL", 0), h.canSkipDateRanges = h.canSkipUntil > 0 && X.bool("CAN-SKIP-DATERANGES"), h.partHoldBack = X.optionalFloat("PART-HOLD-BACK", 0), h.holdBack = X.optionalFloat("HOLD-BACK", 0); break; case "PART-INF": var z = new x(I); h.partTarget = z.decimalFloatingPoint("PART-TARGET"); break; case "PART": var Q = h.partList; Q || (Q = h.partList = []); var J = g > 0 ? Q[Q.length - 1] : void 0, $ = g++, Z = new x(I); Qt(h, Z, ["BYTERANGE", "URI"]); var tt = new K(Z, E, e, $, J); Q.push(tt), E.duration += tt.duration; break; case "PRELOAD-HINT": var et = new x(I); Qt(h, et, ["URI"]), h.preloadHint = et; break; case "RENDITION-REPORT": var rt = new x(I); Qt(h, rt, ["URI"]), h.renditionReports = h.renditionReports || [], h.renditionReports.push(rt); break; default: w.warn("line parsed but not handled: " + s) } } } p && !p.relurl ? (d.pop(), v -= p.duration, h.partList && (h.fragmentHint = p)) : h.partList && (Se(E, p), E.cc = m, h.fragmentHint = E, u && Ae(E, u, h)); var it = d.length, nt = d[0], at = d[it - 1]; if ((v += h.skippedSegments * h.targetduration) > 0 && it && at) { h.averagetargetduration = v / it; var st = at.sn; h.endSN = "initSegment" !== st ? st : 0, h.live || (at.endList = !0), nt && (h.startCC = nt.cc) } else h.endSN = 0, h.startCC = 0; return h.fragmentHint && (v += h.fragmentHint.duration), h.totalduration = v, h.endCC = m, T > 0 && function (t, e) { for (var r = t[e], i = e; i--;) { var n = t[i]; if (!n) return; n.programDateTime = r.programDateTime - 1e3 * n.duration, r = n } }(d, T), h }, t }(); function pe(t, e, r) { var i, n, a = new x(t); Qt(r, a, ["KEYFORMAT", "KEYFORMATVERSIONS", "URI", "IV", "URI"]); var s = null != (i = a.METHOD) ? i : "", o = a.URI, l = a.hexadecimalInteger("IV"), u = a.KEYFORMATVERSIONS, h = null != (n = a.KEYFORMAT) ? n : "identity"; o && a.IV && !l && w.error("Invalid IV: " + a.IV); var d = o ? me.resolve(o, e) : "", c = (u || "1").split("/").map(Number).filter(Number.isFinite); return new qt(s, d, h, c, l) } function ye(t) { var e = new x(t).decimalFloatingPoint("TIME-OFFSET"); return y(e) ? e : null } function Ee(t, e) { var r = (t || "").split(/[ ,]+/).filter((function (t) { return t }));["video", "audio", "text"].forEach((function (t) { var i = r.filter((function (e) { return function (t, e) { var r = ee[e]; return !!r && !!r[t.slice(0, 4)] }(e, t) })); i.length && (e[t + "Codec"] = i.join(","), r = r.filter((function (t) { return -1 === i.indexOf(t) }))) })), e.unknownCodecs = r } function Te(t, e, r) { var i = e[r]; i && (t[r] = i) } function Se(t, e) { t.rawProgramDateTime ? t.programDateTime = Date.parse(t.rawProgramDateTime) : null != e && e.programDateTime && (t.programDateTime = e.endProgramDateTime), y(t.programDateTime) || (t.programDateTime = null, t.rawProgramDateTime = null) } function Le(t, e, r, i) { t.relurl = e.URI, e.BYTERANGE && t.setByteRange(e.BYTERANGE), t.level = r, t.sn = "initSegment", i && (t.levelkeys = i), t.initSegment = null } function Ae(t, e, r) { t.levelkeys = e; var i = r.encryptedFragments; i.length && i[i.length - 1].levelkeys === e || !Object.keys(e).some((function (t) { return e[t].isCommonEncryption })) || i.push(t) } var Re = "manifest", ke = "level", be = "audioTrack", De = "subtitleTrack", Ie = "main", we = "audio", Ce = "subtitle"; function _e(t) { switch (t.type) { case be: return we; case De: return Ce; default: return Ie } } function xe(t, e) { var r = t.url; return void 0 !== r && 0 !== r.indexOf("data:") || (r = e.url), r } var Pe = function () { function t(t) { this.hls = void 0, this.loaders = Object.create(null), this.variableList = null, this.hls = t, this.registerListeners() } var e = t.prototype; return e.startLoad = function (t) { }, e.stopLoad = function () { this.destroyInternalLoaders() }, e.registerListeners = function () { var t = this.hls; t.on(S.MANIFEST_LOADING, this.onManifestLoading, this), t.on(S.LEVEL_LOADING, this.onLevelLoading, this), t.on(S.AUDIO_TRACK_LOADING, this.onAudioTrackLoading, this), t.on(S.SUBTITLE_TRACK_LOADING, this.onSubtitleTrackLoading, this) }, e.unregisterListeners = function () { var t = this.hls; t.off(S.MANIFEST_LOADING, this.onManifestLoading, this), t.off(S.LEVEL_LOADING, this.onLevelLoading, this), t.off(S.AUDIO_TRACK_LOADING, this.onAudioTrackLoading, this), t.off(S.SUBTITLE_TRACK_LOADING, this.onSubtitleTrackLoading, this) }, e.createInternalLoader = function (t) { var e = this.hls.config, r = e.pLoader, i = e.loader, n = new (r || i)(e); return this.loaders[t.type] = n, n }, e.getInternalLoader = function (t) { return this.loaders[t.type] }, e.resetInternalLoader = function (t) { this.loaders[t] && delete this.loaders[t] }, e.destroyInternalLoaders = function () { for (var t in this.loaders) { var e = this.loaders[t]; e && e.destroy(), this.resetInternalLoader(t) } }, e.destroy = function () { this.variableList = null, this.unregisterListeners(), this.destroyInternalLoaders() }, e.onManifestLoading = function (t, e) { var r = e.url; this.variableList = null, this.load({ id: null, level: 0, responseType: "text", type: Re, url: r, deliveryDirectives: null }) }, e.onLevelLoading = function (t, e) { var r = e.id, i = e.level, n = e.pathwayId, a = e.url, s = e.deliveryDirectives; this.load({ id: r, level: i, pathwayId: n, responseType: "text", type: ke, url: a, deliveryDirectives: s }) }, e.onAudioTrackLoading = function (t, e) { var r = e.id, i = e.groupId, n = e.url, a = e.deliveryDirectives; this.load({ id: r, groupId: i, level: null, responseType: "text", type: be, url: n, deliveryDirectives: a }) }, e.onSubtitleTrackLoading = function (t, e) { var r = e.id, i = e.groupId, n = e.url, a = e.deliveryDirectives; this.load({ id: r, groupId: i, level: null, responseType: "text", type: De, url: n, deliveryDirectives: a }) }, e.load = function (t) { var e, r, i, n = this, a = this.hls.config, s = this.getInternalLoader(t); if (s) { var l = s.context; if (l && l.url === t.url && l.level === t.level) return void w.trace("[playlist-loader]: playlist request ongoing"); w.log("[playlist-loader]: aborting previous loader for type: " + t.type), s.abort() } if (r = t.type === Re ? a.manifestLoadPolicy.default : o({}, a.playlistLoadPolicy.default, { timeoutRetry: null, errorRetry: null }), s = this.createInternalLoader(t), y(null == (e = t.deliveryDirectives) ? void 0 : e.part) && (t.type === ke && null !== t.level ? i = this.hls.levels[t.level].details : t.type === be && null !== t.id ? i = this.hls.audioTracks[t.id].details : t.type === De && null !== t.id && (i = this.hls.subtitleTracks[t.id].details), i)) { var u = i.partTarget, h = i.targetduration; if (u && h) { var d = 1e3 * Math.max(3 * u, .8 * h); r = o({}, r, { maxTimeToFirstByteMs: Math.min(d, r.maxTimeToFirstByteMs), maxLoadTimeMs: Math.min(d, r.maxTimeToFirstByteMs) }) } } var c = r.errorRetry || r.timeoutRetry || {}, f = { loadPolicy: r, timeout: r.maxLoadTimeMs, maxRetry: c.maxNumRetry || 0, retryDelay: c.retryDelayMs || 0, maxRetryDelay: c.maxRetryDelayMs || 0 }, g = { onSuccess: function (t, e, r, i) { var a = n.getInternalLoader(r); n.resetInternalLoader(r.type); var s = t.data; 0 === s.indexOf("#EXTM3U") ? (e.parsing.start = performance.now(), me.isMediaPlaylist(s) ? n.handleTrackOrLevelPlaylist(t, e, r, i || null, a) : n.handleMasterPlaylist(t, e, r, i)) : n.handleManifestParsingError(t, r, new Error("no EXTM3U delimiter"), i || null, e) }, onError: function (t, e, r, i) { n.handleNetworkError(e, r, !1, t, i) }, onTimeout: function (t, e, r) { n.handleNetworkError(e, r, !0, void 0, t) } }; s.load(t, f, g) }, e.handleMasterPlaylist = function (t, e, r, i) { var n = this.hls, a = t.data, s = xe(t, r), o = me.parseMasterPlaylist(a, s); if (o.playlistParsingError) this.handleManifestParsingError(t, r, o.playlistParsingError, i, e); else { var l = o.contentSteering, u = o.levels, h = o.sessionData, d = o.sessionKeys, c = o.startTimeOffset, f = o.variableList; this.variableList = f; var g = me.parseMasterPlaylistMedia(a, s, o), v = g.AUDIO, m = void 0 === v ? [] : v, p = g.SUBTITLES, y = g["CLOSED-CAPTIONS"]; m.length && (m.some((function (t) { return !t.url })) || !u[0].audioCodec || u[0].attrs.AUDIO || (w.log("[playlist-loader]: audio codec signaled in quality level, but no embedded audio track signaled, create one"), m.unshift({ type: "main", name: "main", groupId: "main", default: !1, autoselect: !1, forced: !1, id: -1, attrs: new x({}), bitrate: 0, url: "" }))), n.trigger(S.MANIFEST_LOADED, { levels: u, audioTracks: m, subtitles: p, captions: y, contentSteering: l, url: s, stats: e, networkDetails: i, sessionData: h, sessionKeys: d, startTimeOffset: c, variableList: f }) } }, e.handleTrackOrLevelPlaylist = function (t, e, r, i, n) { var a = this.hls, s = r.id, o = r.level, l = r.type, u = xe(t, r), h = y(o) ? o : y(s) ? s : 0, d = _e(r), c = me.parseLevelPlaylist(t.data, u, h, d, 0, this.variableList); if (l === Re) { var f = { attrs: new x({}), bitrate: 0, details: c, name: "", url: u }; a.trigger(S.MANIFEST_LOADED, { levels: [f], audioTracks: [], url: u, stats: e, networkDetails: i, sessionData: null, sessionKeys: null, contentSteering: null, startTimeOffset: null, variableList: null }) } e.parsing.end = performance.now(), r.levelDetails = c, this.handlePlaylistLoaded(c, t, e, r, i, n) }, e.handleManifestParsingError = function (t, e, r, i, n) { this.hls.trigger(S.ERROR, { type: L.NETWORK_ERROR, details: A.MANIFEST_PARSING_ERROR, fatal: e.type === Re, url: t.url, err: r, error: r, reason: r.message, response: t, context: e, networkDetails: i, stats: n }) }, e.handleNetworkError = function (t, e, r, n, a) { void 0 === r && (r = !1); var s = "A network " + (r ? "timeout" : "error" + (n ? " (status " + n.code + ")" : "")) + " occurred while loading " + t.type; t.type === ke ? s += ": " + t.level + " id: " + t.id : t.type !== be && t.type !== De || (s += " id: " + t.id + ' group-id: "' + t.groupId + '"'); var o = new Error(s); w.warn("[playlist-loader]: " + s); var l = A.UNKNOWN, u = !1, h = this.getInternalLoader(t); switch (t.type) { case Re: l = r ? A.MANIFEST_LOAD_TIMEOUT : A.MANIFEST_LOAD_ERROR, u = !0; break; case ke: l = r ? A.LEVEL_LOAD_TIMEOUT : A.LEVEL_LOAD_ERROR, u = !1; break; case be: l = r ? A.AUDIO_TRACK_LOAD_TIMEOUT : A.AUDIO_TRACK_LOAD_ERROR, u = !1; break; case De: l = r ? A.SUBTITLE_TRACK_LOAD_TIMEOUT : A.SUBTITLE_LOAD_ERROR, u = !1 }h && this.resetInternalLoader(t.type); var d = { type: L.NETWORK_ERROR, details: l, fatal: u, url: t.url, loader: h, context: t, error: o, networkDetails: e, stats: a }; if (n) { var c = (null == e ? void 0 : e.url) || t.url; d.response = i({ url: c, data: void 0 }, n) } this.hls.trigger(S.ERROR, d) }, e.handlePlaylistLoaded = function (t, e, r, i, n, a) { var s = this.hls, o = i.type, l = i.level, u = i.id, h = i.groupId, d = i.deliveryDirectives, c = xe(e, i), f = _e(i), g = "number" == typeof i.level && f === Ie ? l : void 0; if (t.fragments.length) { t.targetduration || (t.playlistParsingError = new Error("Missing Target Duration")); var v = t.playlistParsingError; if (v) s.trigger(S.ERROR, { type: L.NETWORK_ERROR, details: A.LEVEL_PARSING_ERROR, fatal: !1, url: c, error: v, reason: v.message, response: e, context: i, level: g, parent: f, networkDetails: n, stats: r }); else switch (t.live && a && (a.getCacheAge && (t.ageHeader = a.getCacheAge() || 0), a.getCacheAge && !isNaN(t.ageHeader) || (t.ageHeader = 0)), o) { case Re: case ke: s.trigger(S.LEVEL_LOADED, { details: t, level: g || 0, id: u || 0, stats: r, networkDetails: n, deliveryDirectives: d }); break; case be: s.trigger(S.AUDIO_TRACK_LOADED, { details: t, id: u || 0, groupId: h || "", stats: r, networkDetails: n, deliveryDirectives: d }); break; case De: s.trigger(S.SUBTITLE_TRACK_LOADED, { details: t, id: u || 0, groupId: h || "", stats: r, networkDetails: n, deliveryDirectives: d }) } } else { var m = new Error("No Segments found in Playlist"); s.trigger(S.ERROR, { type: L.NETWORK_ERROR, details: A.LEVEL_EMPTY_ERROR, fatal: !1, url: c, error: m, reason: m.message, response: e, context: i, level: g, parent: f, networkDetails: n, stats: r }) } }, t }(); function Fe(t, e) { var r; try { r = new Event("addtrack") } catch (t) { (r = document.createEvent("Event")).initEvent("addtrack", !1, !1) } r.track = t, e.dispatchEvent(r) } function Me(t, e) { var r = t.mode; if ("disabled" === r && (t.mode = "hidden"), t.cues && !t.cues.getCueById(e.id)) try { if (t.addCue(e), !t.cues.getCueById(e.id)) throw new Error("addCue is failed for: " + e) } catch (r) { w.debug("[texttrack-utils]: " + r); try { var i = new self.TextTrackCue(e.startTime, e.endTime, e.text); i.id = e.id, t.addCue(i) } catch (t) { w.debug("[texttrack-utils]: Legacy TextTrackCue fallback failed: " + t) } } "disabled" === r && (t.mode = r) } function Oe(t) { var e = t.mode; if ("disabled" === e && (t.mode = "hidden"), t.cues) for (var r = t.cues.length; r--;)t.removeCue(t.cues[r]); "disabled" === e && (t.mode = e) } function Ne(t, e, r, i) { var n = t.mode; if ("disabled" === n && (t.mode = "hidden"), t.cues && t.cues.length > 0) for (var a = function (t, e, r) { var i = [], n = function (t, e) { if (e < t[0].startTime) return 0; var r = t.length - 1; if (e > t[r].endTime) return -1; for (var i = 0, n = r; i <= n;) { var a = Math.floor((n + i) / 2); if (e < t[a].startTime) n = a - 1; else { if (!(e > t[a].startTime && i < r)) return a; i = a + 1 } } return t[i].startTime - e < e - t[n].startTime ? i : n }(t, e); if (n > -1) for (var a = n, s = t.length; a < s; a++) { var o = t[a]; if (o.startTime >= e && o.endTime <= r) i.push(o); else if (o.startTime > r) return i } return i }(t.cues, e, r), s = 0; s < a.length; s++)i && !i(a[s]) || t.removeCue(a[s]); "disabled" === n && (t.mode = n) } function Ue(t) { for (var e = [], r = 0; r < t.length; r++) { var i = t[r]; "subtitles" !== i.kind && "captions" !== i.kind || !i.label || e.push(t[r]) } return e } var Be = "org.id3", Ge = "com.apple.quicktime.HLS", Ke = "https://aomedia.org/emsg/ID3"; function He() { if ("undefined" != typeof self) return self.VTTCue || self.TextTrackCue } function Ve(t, e, r, n, a) { var s = new t(e, r, ""); try { s.value = n, a && (s.type = a) } catch (o) { s = new t(e, r, JSON.stringify(a ? i({ type: a }, n) : n)) } return s } var Ye = function () { var t = He(); try { t && new t(0, Number.POSITIVE_INFINITY, "") } catch (t) { return Number.MAX_VALUE } return Number.POSITIVE_INFINITY }(); function We(t, e) { return t.getTime() / 1e3 - e } var je = function () { function t(t) { this.hls = void 0, this.id3Track = null, this.media = null, this.dateRangeCuesAppended = {}, this.hls = t, this._registerListeners() } var e = t.prototype; return e.destroy = function () { this._unregisterListeners(), this.id3Track = null, this.media = null, this.dateRangeCuesAppended = {}, this.hls = null }, e._registerListeners = function () { var t = this.hls; t.on(S.MEDIA_ATTACHED, this.onMediaAttached, this), t.on(S.MEDIA_DETACHING, this.onMediaDetaching, this), t.on(S.MANIFEST_LOADING, this.onManifestLoading, this), t.on(S.FRAG_PARSING_METADATA, this.onFragParsingMetadata, this), t.on(S.BUFFER_FLUSHING, this.onBufferFlushing, this), t.on(S.LEVEL_UPDATED, this.onLevelUpdated, this) }, e._unregisterListeners = function () { var t = this.hls; t.off(S.MEDIA_ATTACHED, this.onMediaAttached, this), t.off(S.MEDIA_DETACHING, this.onMediaDetaching, this), t.off(S.MANIFEST_LOADING, this.onManifestLoading, this), t.off(S.FRAG_PARSING_METADATA, this.onFragParsingMetadata, this), t.off(S.BUFFER_FLUSHING, this.onBufferFlushing, this), t.off(S.LEVEL_UPDATED, this.onLevelUpdated, this) }, e.onMediaAttached = function (t, e) { this.media = e.media }, e.onMediaDetaching = function () { this.id3Track && (Oe(this.id3Track), this.id3Track = null, this.media = null, this.dateRangeCuesAppended = {}) }, e.onManifestLoading = function () { this.dateRangeCuesAppended = {} }, e.createTrack = function (t) { var e = this.getID3Track(t.textTracks); return e.mode = "hidden", e }, e.getID3Track = function (t) { if (this.media) { for (var e = 0; e < t.length; e++) { var r = t[e]; if ("metadata" === r.kind && "id3" === r.label) return Fe(r, this.media), r } return this.media.addTextTrack("metadata", "id3") } }, e.onFragParsingMetadata = function (t, e) { if (this.media) { var r = this.hls.config, i = r.enableEmsgMetadataCues, n = r.enableID3MetadataCues; if (i || n) { var a = e.samples; this.id3Track || (this.id3Track = this.createTrack(this.media)); var s = He(); if (s) for (var o = 0; o < a.length; o++) { var l = a[o].type; if ((l !== Ke || i) && n) { var u = gt(a[o].data); if (u) { var h = a[o].pts, d = h + a[o].duration; d > Ye && (d = Ye), d - h <= 0 && (d = h + .25); for (var c = 0; c < u.length; c++) { var f = u[c]; if (!ct(f)) { this.updateId3CueEnds(h, l); var g = Ve(s, h, d, f, l); g && this.id3Track.addCue(g) } } } } } } } }, e.updateId3CueEnds = function (t, e) { var r, i = null == (r = this.id3Track) ? void 0 : r.cues; if (i) for (var n = i.length; n--;) { var a = i[n]; a.type === e && a.startTime < t && a.endTime === Ye && (a.endTime = t) } }, e.onBufferFlushing = function (t, e) { var r = e.startOffset, i = e.endOffset, n = e.type, a = this.id3Track, s = this.hls; if (s) { var o = s.config, l = o.enableEmsgMetadataCues, u = o.enableID3MetadataCues; a && (l || u) && Ne(a, r, i, "audio" === n ? function (t) { return t.type === Be && u } : "video" === n ? function (t) { return t.type === Ke && l } : function (t) { return t.type === Be && u || t.type === Ke && l }) } }, e.onLevelUpdated = function (t, e) { var r = this, i = e.details; if (this.media && i.hasProgramDateTime && this.hls.config.enableDateRangeMetadataCues) { var n = this.dateRangeCuesAppended, a = this.id3Track, s = i.dateRanges, o = Object.keys(s); if (a) for (var l = Object.keys(n).filter((function (t) { return !o.includes(t) })), u = function () { var t = l[h]; Object.keys(n[t].cues).forEach((function (e) { a.removeCue(n[t].cues[e]) })), delete n[t] }, h = l.length; h--;)u(); var d = i.fragments[i.fragments.length - 1]; if (0 !== o.length && y(null == d ? void 0 : d.programDateTime)) { this.id3Track || (this.id3Track = this.createTrack(this.media)); for (var c = d.programDateTime / 1e3 - d.start, f = He(), g = function () { var t = o[v], e = s[t], i = We(e.startDate, c), a = n[t], l = (null == a ? void 0 : a.cues) || {}, u = (null == a ? void 0 : a.durationKnown) || !1, h = Ye, d = e.endDate; if (d) h = We(d, c), u = !0; else if (e.endOnNext && !u) { var g = o.reduce((function (t, r) { if (r !== e.id) { var i = s[r]; if (i.class === e.class && i.startDate > e.startDate && (!t || e.startDate < t.startDate)) return i } return t }), null); g && (h = We(g.startDate, c), u = !0) } for (var m, p, y = Object.keys(e.attr), E = 0; E < y.length; E++) { var T = y[E]; if ("ID" !== (p = T) && "CLASS" !== p && "START-DATE" !== p && "DURATION" !== p && "END-DATE" !== p && "END-ON-NEXT" !== p) { var S = l[T]; if (S) u && !a.durationKnown && (S.endTime = h); else if (f) { var L = e.attr[T]; P(T) && (m = L, L = Uint8Array.from(m.replace(/^0x/, "").replace(/([\da-fA-F]{2}) ?/g, "0x$1 ").replace(/ +$/, "").split(" ")).buffer); var A = Ve(f, i, h, { key: T, data: L }, Ge); A && (A.id = t, r.id3Track.addCue(A), l[T] = A) } } } n[t] = { cues: l, dateRange: e, durationKnown: u } }, v = 0; v < o.length; v++)g() } } }, t }(), qe = function () { function t(t) { var e = this; this.hls = void 0, this.config = void 0, this.media = null, this.levelDetails = null, this.currentTime = 0, this.stallCount = 0, this._latency = null, this.timeupdateHandler = function () { return e.timeupdate() }, this.hls = t, this.config = t.config, this.registerListeners() } var e = t.prototype; return e.destroy = function () { this.unregisterListeners(), this.onMediaDetaching(), this.levelDetails = null, this.hls = this.timeupdateHandler = null }, e.registerListeners = function () { this.hls.on(S.MEDIA_ATTACHED, this.onMediaAttached, this), this.hls.on(S.MEDIA_DETACHING, this.onMediaDetaching, this), this.hls.on(S.MANIFEST_LOADING, this.onManifestLoading, this), this.hls.on(S.LEVEL_UPDATED, this.onLevelUpdated, this), this.hls.on(S.ERROR, this.onError, this) }, e.unregisterListeners = function () { this.hls.off(S.MEDIA_ATTACHED, this.onMediaAttached, this), this.hls.off(S.MEDIA_DETACHING, this.onMediaDetaching, this), this.hls.off(S.MANIFEST_LOADING, this.onManifestLoading, this), this.hls.off(S.LEVEL_UPDATED, this.onLevelUpdated, this), this.hls.off(S.ERROR, this.onError, this) }, e.onMediaAttached = function (t, e) { this.media = e.media, this.media.addEventListener("timeupdate", this.timeupdateHandler) }, e.onMediaDetaching = function () { this.media && (this.media.removeEventListener("timeupdate", this.timeupdateHandler), this.media = null) }, e.onManifestLoading = function () { this.levelDetails = null, this._latency = null, this.stallCount = 0 }, e.onLevelUpdated = function (t, e) { var r = e.details; this.levelDetails = r, r.advanced && this.timeupdate(), !r.live && this.media && this.media.removeEventListener("timeupdate", this.timeupdateHandler) }, e.onError = function (t, e) { var r; e.details === A.BUFFER_STALLED_ERROR && (this.stallCount++, null != (r = this.levelDetails) && r.live && w.warn("[playback-rate-controller]: Stall detected, adjusting target latency")) }, e.timeupdate = function () { var t = this.media, e = this.levelDetails; if (t && e) { this.currentTime = t.currentTime; var r = this.computeLatency(); if (null !== r) { this._latency = r; var i = this.config, n = i.lowLatencyMode, a = i.maxLiveSyncPlaybackRate; if (n && 1 !== a && e.live) { var s = this.targetLatency; if (null !== s) { var o = r - s; if (o < Math.min(this.maxLatency, s + e.targetduration) && o > .05 && this.forwardBufferLength > 1) { var l = Math.min(2, Math.max(1, a)), u = Math.round(2 / (1 + Math.exp(-.75 * o - this.edgeStalled)) * 20) / 20; t.playbackRate = Math.min(l, Math.max(1, u)) } else 1 !== t.playbackRate && 0 !== t.playbackRate && (t.playbackRate = 1) } } } } }, e.estimateLiveEdge = function () { var t = this.levelDetails; return null === t ? null : t.edge + t.age }, e.computeLatency = function () { var t = this.estimateLiveEdge(); return null === t ? null : t - this.currentTime }, s(t, [{ key: "latency", get: function () { return this._latency || 0 } }, { key: "maxLatency", get: function () { var t = this.config, e = this.levelDetails; return void 0 !== t.liveMaxLatencyDuration ? t.liveMaxLatencyDuration : e ? t.liveMaxLatencyDurationCount * e.targetduration : 0 } }, { key: "targetLatency", get: function () { var t = this.levelDetails; if (null === t) return null; var e = t.holdBack, r = t.partHoldBack, i = t.targetduration, n = this.config, a = n.liveSyncDuration, s = n.liveSyncDurationCount, o = n.lowLatencyMode, l = this.hls.userConfig, u = o && r || e; (l.liveSyncDuration || l.liveSyncDurationCount || 0 === u) && (u = void 0 !== a ? a : s * i); var h = i; return u + Math.min(1 * this.stallCount, h) } }, { key: "liveSyncPosition", get: function () { var t = this.estimateLiveEdge(), e = this.targetLatency, r = this.levelDetails; if (null === t || null === e || null === r) return null; var i = r.edge, n = t - e - this.edgeStalled, a = i - r.totalduration, s = i - (this.config.lowLatencyMode && r.partTarget || r.targetduration); return Math.min(Math.max(a, n), s) } }, { key: "drift", get: function () { var t = this.levelDetails; return null === t ? 1 : t.drift } }, { key: "edgeStalled", get: function () { var t = this.levelDetails; if (null === t) return 0; var e = 3 * (this.config.lowLatencyMode && t.partTarget || t.targetduration); return Math.max(t.age - e, 0) } }, { key: "forwardBufferLength", get: function () { var t = this.media, e = this.levelDetails; if (!t || !e) return 0; var r = t.buffered.length; return (r ? t.buffered.end(r - 1) : e.edge) - this.currentTime } }]), t }(), Xe = ["NONE", "TYPE-0", "TYPE-1", null], ze = ["SDR", "PQ", "HLG"], Qe = "", Je = "YES", $e = "v2", Ze = function () { function t(t, e, r) { this.msn = void 0, this.part = void 0, this.skip = void 0, this.msn = t, this.part = e, this.skip = r } return t.prototype.addDirectives = function (t) { var e = new self.URL(t); return void 0 !== this.msn && e.searchParams.set("_HLS_msn", this.msn.toString()), void 0 !== this.part && e.searchParams.set("_HLS_part", this.part.toString()), this.skip && e.searchParams.set("_HLS_skip", this.skip), e.href }, t }(), tr = function () { function t(t) { this._attrs = void 0, this.audioCodec = void 0, this.bitrate = void 0, this.codecSet = void 0, this.url = void 0, this.frameRate = void 0, this.height = void 0, this.id = void 0, this.name = void 0, this.videoCodec = void 0, this.width = void 0, this.details = void 0, this.fragmentError = 0, this.loadError = 0, this.loaded = void 0, this.realBitrate = 0, this.supportedPromise = void 0, this.supportedResult = void 0, this._avgBitrate = 0, this._audioGroups = void 0, this._subtitleGroups = void 0, this._urlId = 0, this.url = [t.url], this._attrs = [t.attrs], this.bitrate = t.bitrate, t.details && (this.details = t.details), this.id = t.id || 0, this.name = t.name, this.width = t.width || 0, this.height = t.height || 0, this.frameRate = t.attrs.optionalFloat("FRAME-RATE", 0), this._avgBitrate = t.attrs.decimalInteger("AVERAGE-BANDWIDTH"), this.audioCodec = t.audioCodec, this.videoCodec = t.videoCodec, this.codecSet = [t.videoCodec, t.audioCodec].filter((function (t) { return !!t })).map((function (t) { return t.substring(0, 4) })).join(","), this.addGroupId("audio", t.attrs.AUDIO), this.addGroupId("text", t.attrs.SUBTITLES) } var e = t.prototype; return e.hasAudioGroup = function (t) { return er(this._audioGroups, t) }, e.hasSubtitleGroup = function (t) { return er(this._subtitleGroups, t) }, e.addGroupId = function (t, e) { if (e) if ("audio" === t) { var r = this._audioGroups; r || (r = this._audioGroups = []), -1 === r.indexOf(e) && r.push(e) } else if ("text" === t) { var i = this._subtitleGroups; i || (i = this._subtitleGroups = []), -1 === i.indexOf(e) && i.push(e) } }, e.addFallback = function () { }, s(t, [{ key: "maxBitrate", get: function () { return Math.max(this.realBitrate, this.bitrate) } }, { key: "averageBitrate", get: function () { return this._avgBitrate || this.realBitrate || this.bitrate } }, { key: "attrs", get: function () { return this._attrs[0] } }, { key: "codecs", get: function () { return this.attrs.CODECS || "" } }, { key: "pathwayId", get: function () { return this.attrs["PATHWAY-ID"] || "." } }, { key: "videoRange", get: function () { return this.attrs["VIDEO-RANGE"] || "SDR" } }, { key: "score", get: function () { return this.attrs.optionalFloat("SCORE", 0) } }, { key: "uri", get: function () { return this.url[0] || "" } }, { key: "audioGroups", get: function () { return this._audioGroups } }, { key: "subtitleGroups", get: function () { return this._subtitleGroups } }, { key: "urlId", get: function () { return 0 }, set: function (t) { } }, { key: "audioGroupIds", get: function () { return this.audioGroups ? [this.audioGroupId] : void 0 } }, { key: "textGroupIds", get: function () { return this.subtitleGroups ? [this.textGroupId] : void 0 } }, { key: "audioGroupId", get: function () { var t; return null == (t = this.audioGroups) ? void 0 : t[0] } }, { key: "textGroupId", get: function () { var t; return null == (t = this.subtitleGroups) ? void 0 : t[0] } }]), t }(); function er(t, e) { return !(!e || !t) && -1 !== t.indexOf(e) } function rr(t, e) { var r = e.startPTS; if (y(r)) { var i, n = 0; e.sn > t.sn ? (n = r - t.start, i = t) : (n = t.start - r, i = e), i.duration !== n && (i.duration = n) } else e.sn > t.sn ? t.cc === e.cc && t.minEndPTS ? e.start = t.start + (t.minEndPTS - t.start) : e.start = t.start + t.duration : e.start = Math.max(t.start - e.duration, 0) } function ir(t, e, r, i, n, a) { i - r <= 0 && (w.warn("Fragment should have a positive duration", e), i = r + e.duration, a = n + e.duration); var s = r, o = i, l = e.startPTS, u = e.endPTS; if (y(l)) { var h = Math.abs(l - r); y(e.deltaPTS) ? e.deltaPTS = Math.max(h, e.deltaPTS) : e.deltaPTS = h, s = Math.max(r, l), r = Math.min(r, l), n = Math.min(n, e.startDTS), o = Math.min(i, u), i = Math.max(i, u), a = Math.max(a, e.endDTS) } var d = r - e.start; 0 !== e.start && (e.start = r), e.duration = i - e.start, e.startPTS = r, e.maxStartPTS = s, e.startDTS = n, e.endPTS = i, e.minEndPTS = o, e.endDTS = a; var c, f = e.sn; if (!t || f < t.startSN || f > t.endSN) return 0; var g = f - t.startSN, v = t.fragments; for (v[g] = e, c = g; c > 0; c--)rr(v[c], v[c - 1]); for (c = g; c < v.length - 1; c++)rr(v[c], v[c + 1]); return t.fragmentHint && rr(v[v.length - 1], t.fragmentHint), t.PTSKnown = t.alignedSliding = !0, d } function nr(t, e) { for (var r = null, i = t.fragments, n = i.length - 1; n >= 0; n--) { var a = i[n].initSegment; if (a) { r = a; break } } t.fragmentHint && delete t.fragmentHint.endPTS; var s, l, u, h, d, c = 0; if (function (t, e, r) { for (var i = e.skippedSegments, n = Math.max(t.startSN, e.startSN) - e.startSN, a = (t.fragmentHint ? 1 : 0) + (i ? e.endSN : Math.min(t.endSN, e.endSN)) - e.startSN, s = e.startSN - t.startSN, o = e.fragmentHint ? e.fragments.concat(e.fragmentHint) : e.fragments, l = t.fragmentHint ? t.fragments.concat(t.fragmentHint) : t.fragments, u = n; u <= a; u++) { var h = l[s + u], d = o[u]; i && !d && u < i && (d = e.fragments[u] = h), h && d && r(h, d) } }(t, e, (function (t, i) { t.relurl && (c = t.cc - i.cc), y(t.startPTS) && y(t.endPTS) && (i.start = i.startPTS = t.startPTS, i.startDTS = t.startDTS, i.maxStartPTS = t.maxStartPTS, i.endPTS = t.endPTS, i.endDTS = t.endDTS, i.minEndPTS = t.minEndPTS, i.duration = t.endPTS - t.startPTS, i.duration && (s = i), e.PTSKnown = e.alignedSliding = !0), i.elementaryStreams = t.elementaryStreams, i.loader = t.loader, i.stats = t.stats, t.initSegment && (i.initSegment = t.initSegment, r = t.initSegment) })), r && (e.fragmentHint ? e.fragments.concat(e.fragmentHint) : e.fragments).forEach((function (t) { var e; !t || t.initSegment && t.initSegment.relurl !== (null == (e = r) ? void 0 : e.relurl) || (t.initSegment = r) })), e.skippedSegments) if (e.deltaUpdateFailed = e.fragments.some((function (t) { return !t })), e.deltaUpdateFailed) { w.warn("[level-helper] Previous playlist missing segments skipped in delta playlist"); for (var f = e.skippedSegments; f--;)e.fragments.shift(); e.startSN = e.fragments[0].sn, e.startCC = e.fragments[0].cc } else e.canSkipDateRanges && (e.dateRanges = (l = t.dateRanges, u = e.dateRanges, h = e.recentlyRemovedDateranges, d = o({}, l), h && h.forEach((function (t) { delete d[t] })), Object.keys(u).forEach((function (t) { var e = new F(u[t].attr, d[t]); e.isValid ? d[t] = e : w.warn('Ignoring invalid Playlist Delta Update DATERANGE tag: "' + JSON.stringify(u[t].attr) + '"') })), d)); var g = e.fragments; if (c) { w.warn("discontinuity sliding from playlist, take drift into account"); for (var v = 0; v < g.length; v++)g[v].cc += c } e.skippedSegments && (e.startCC = e.fragments[0].cc), function (t, e, r) { if (t && e) for (var i = 0, n = 0, a = t.length; n <= a; n++) { var s = t[n], o = e[n + i]; s && o && s.index === o.index && s.fragment.sn === o.fragment.sn ? r(s, o) : i-- } }(t.partList, e.partList, (function (t, e) { e.elementaryStreams = t.elementaryStreams, e.stats = t.stats })), s ? ir(e, s, s.startPTS, s.endPTS, s.startDTS, s.endDTS) : ar(t, e), g.length && (e.totalduration = e.edge - g[0].start), e.driftStartTime = t.driftStartTime, e.driftStart = t.driftStart; var m = e.advancedDateTime; if (e.advanced && m) { var p = e.edge; e.driftStart || (e.driftStartTime = m, e.driftStart = p), e.driftEndTime = m, e.driftEnd = p } else e.driftEndTime = t.driftEndTime, e.driftEnd = t.driftEnd, e.advancedDateTime = t.advancedDateTime } function ar(t, e) { var r = e.startSN + e.skippedSegments - t.startSN, i = t.fragments; r < 0 || r >= i.length || sr(e, i[r].start) } function sr(t, e) { if (e) { for (var r = t.fragments, i = t.skippedSegments; i < r.length; i++)r[i].start += e; t.fragmentHint && (t.fragmentHint.start += e) } } function or(t, e, r) { var i; return null != t && t.details ? lr(null == (i = t.details) ? void 0 : i.partList, e, r) : null } function lr(t, e, r) { if (t) for (var i = t.length; i--;) { var n = t[i]; if (n.index === r && n.fragment.sn === e) return n } return null } function ur(t) { t.forEach((function (t, e) { var r = t.details; null != r && r.fragments && r.fragments.forEach((function (t) { t.level = e })) })) } function hr(t) { switch (t.details) { case A.FRAG_LOAD_TIMEOUT: case A.KEY_LOAD_TIMEOUT: case A.LEVEL_LOAD_TIMEOUT: case A.MANIFEST_LOAD_TIMEOUT: return !0 }return !1 } function dr(t, e) { var r = hr(e); return t.default[(r ? "timeout" : "error") + "Retry"] } function cr(t, e) { var r = "linear" === t.backoff ? 1 : Math.pow(2, e); return Math.min(r * t.retryDelayMs, t.maxRetryDelayMs) } function fr(t) { return i(i({}, t), { errorRetry: null, timeoutRetry: null }) } function gr(t, e, r, i) { if (!t) return !1; var n = null == i ? void 0 : i.code, a = e < t.maxNumRetry && (function (t) { return 0 === t && !1 === navigator.onLine || !!t && (t < 400 || t > 499) }(n) || !!r); return t.shouldRetry ? t.shouldRetry(t, e, r, i, a) : a } var vr = function (t, e) { for (var r = 0, i = t.length - 1, n = null, a = null; r <= i;) { var s = e(a = t[n = (r + i) / 2 | 0]); if (s > 0) r = n + 1; else { if (!(s < 0)) return a; i = n - 1 } } return null }; function mr(t, e, r, i) { void 0 === r && (r = 0), void 0 === i && (i = 0); var n = null; if (t) { n = e[t.sn - e[0].sn + 1] || null; var a = t.endDTS - r; a > 0 && a < 15e-7 && (r += 15e-7) } else 0 === r && 0 === e[0].start && (n = e[0]); if (n && (!t || t.level === n.level) && 0 === pr(r, i, n)) return n; var s = vr(e, pr.bind(null, r, i)); return !s || s === t && n ? n : s } function pr(t, e, r) { if (void 0 === t && (t = 0), void 0 === e && (e = 0), r.start <= t && r.start + r.duration > t) return 0; var i = Math.min(e, r.duration + (r.deltaPTS ? r.deltaPTS : 0)); return r.start + r.duration - i <= t ? 1 : r.start - i > t && r.start ? -1 : 0 } function yr(t, e, r) { var i = 1e3 * Math.min(e, r.duration + (r.deltaPTS ? r.deltaPTS : 0)); return (r.endProgramDateTime || 0) - i > t } var Er = 0, Tr = 2, Sr = 3, Lr = 5, Ar = 0, Rr = 1, kr = 2, br = function () { function t(t) { this.hls = void 0, this.playlistError = 0, this.penalizedRenditions = {}, this.log = void 0, this.warn = void 0, this.error = void 0, this.hls = t, this.log = w.log.bind(w, "[info]:"), this.warn = w.warn.bind(w, "[warning]:"), this.error = w.error.bind(w, "[error]:"), this.registerListeners() } var e = t.prototype; return e.registerListeners = function () { var t = this.hls; t.on(S.ERROR, this.onError, this), t.on(S.MANIFEST_LOADING, this.onManifestLoading, this), t.on(S.LEVEL_UPDATED, this.onLevelUpdated, this) }, e.unregisterListeners = function () { var t = this.hls; t && (t.off(S.ERROR, this.onError, this), t.off(S.ERROR, this.onErrorOut, this), t.off(S.MANIFEST_LOADING, this.onManifestLoading, this), t.off(S.LEVEL_UPDATED, this.onLevelUpdated, this)) }, e.destroy = function () { this.unregisterListeners(), this.hls = null, this.penalizedRenditions = {} }, e.startLoad = function (t) { }, e.stopLoad = function () { this.playlistError = 0 }, e.getVariantLevelIndex = function (t) { return (null == t ? void 0 : t.type) === Ie ? t.level : this.hls.loadLevel }, e.onManifestLoading = function () { this.playlistError = 0, this.penalizedRenditions = {} }, e.onLevelUpdated = function () { this.playlistError = 0 }, e.onError = function (t, e) { var r, i; if (!e.fatal) { var n = this.hls, a = e.context; switch (e.details) { case A.FRAG_LOAD_ERROR: case A.FRAG_LOAD_TIMEOUT: case A.KEY_LOAD_ERROR: case A.KEY_LOAD_TIMEOUT: return void (e.errorAction = this.getFragRetryOrSwitchAction(e)); case A.FRAG_PARSING_ERROR: if (null != (r = e.frag) && r.gap) return void (e.errorAction = { action: Er, flags: Ar }); case A.FRAG_GAP: case A.FRAG_DECRYPT_ERROR: return e.errorAction = this.getFragRetryOrSwitchAction(e), void (e.errorAction.action = Tr); case A.LEVEL_EMPTY_ERROR: case A.LEVEL_PARSING_ERROR: var s, o, l = e.parent === Ie ? e.level : n.loadLevel; return void (e.details === A.LEVEL_EMPTY_ERROR && null != (s = e.context) && null != (o = s.levelDetails) && o.live ? e.errorAction = this.getPlaylistRetryOrSwitchAction(e, l) : (e.levelRetry = !1, e.errorAction = this.getLevelSwitchAction(e, l))); case A.LEVEL_LOAD_ERROR: case A.LEVEL_LOAD_TIMEOUT: return void ("number" == typeof (null == a ? void 0 : a.level) && (e.errorAction = this.getPlaylistRetryOrSwitchAction(e, a.level))); case A.AUDIO_TRACK_LOAD_ERROR: case A.AUDIO_TRACK_LOAD_TIMEOUT: case A.SUBTITLE_LOAD_ERROR: case A.SUBTITLE_TRACK_LOAD_TIMEOUT: if (a) { var u = n.levels[n.loadLevel]; if (u && (a.type === be && u.hasAudioGroup(a.groupId) || a.type === De && u.hasSubtitleGroup(a.groupId))) return e.errorAction = this.getPlaylistRetryOrSwitchAction(e, n.loadLevel), e.errorAction.action = Tr, void (e.errorAction.flags = Rr) } return; case A.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED: var h = n.levels[n.loadLevel], d = null == h ? void 0 : h.attrs["HDCP-LEVEL"]; return void (d ? e.errorAction = { action: Tr, flags: kr, hdcpLevel: d } : this.keySystemError(e)); case A.BUFFER_ADD_CODEC_ERROR: case A.REMUX_ALLOC_ERROR: case A.BUFFER_APPEND_ERROR: return void (e.errorAction = this.getLevelSwitchAction(e, null != (i = e.level) ? i : n.loadLevel)); case A.INTERNAL_EXCEPTION: case A.BUFFER_APPENDING_ERROR: case A.BUFFER_FULL_ERROR: case A.LEVEL_SWITCH_ERROR: case A.BUFFER_STALLED_ERROR: case A.BUFFER_SEEK_OVER_HOLE: case A.BUFFER_NUDGE_ON_STALL: return void (e.errorAction = { action: Er, flags: Ar }) }e.type === L.KEY_SYSTEM_ERROR && this.keySystemError(e) } }, e.keySystemError = function (t) { var e = this.getVariantLevelIndex(t.frag); t.levelRetry = !1, t.errorAction = this.getLevelSwitchAction(t, e) }, e.getPlaylistRetryOrSwitchAction = function (t, e) { var r = dr(this.hls.config.playlistLoadPolicy, t), i = this.playlistError++; if (gr(r, i, hr(t), t.response)) return { action: Lr, flags: Ar, retryConfig: r, retryCount: i }; var n = this.getLevelSwitchAction(t, e); return r && (n.retryConfig = r, n.retryCount = i), n }, e.getFragRetryOrSwitchAction = function (t) { var e = this.hls, r = this.getVariantLevelIndex(t.frag), i = e.levels[r], n = e.config, a = n.fragLoadPolicy, s = n.keyLoadPolicy, o = dr(t.details.startsWith("key") ? s : a, t), l = e.levels.reduce((function (t, e) { return t + e.fragmentError }), 0); if (i && (t.details !== A.FRAG_GAP && i.fragmentError++, gr(o, l, hr(t), t.response))) return { action: Lr, flags: Ar, retryConfig: o, retryCount: l }; var u = this.getLevelSwitchAction(t, r); return o && (u.retryConfig = o, u.retryCount = l), u }, e.getLevelSwitchAction = function (t, e) { var r = this.hls; null == e && (e = r.loadLevel); var i = this.hls.levels[e]; if (i) { var n, a, s = t.details; i.loadError++, s === A.BUFFER_APPEND_ERROR && i.fragmentError++; var o = -1, l = r.levels, u = r.loadLevel, h = r.minAutoLevel, d = r.maxAutoLevel; r.autoLevelEnabled || (r.loadLevel = -1); for (var c, f = null == (n = t.frag) ? void 0 : n.type, g = (f === we && s === A.FRAG_PARSING_ERROR || "audio" === t.sourceBufferName && (s === A.BUFFER_ADD_CODEC_ERROR || s === A.BUFFER_APPEND_ERROR)) && l.some((function (t) { var e = t.audioCodec; return i.audioCodec !== e })), v = "video" === t.sourceBufferName && (s === A.BUFFER_ADD_CODEC_ERROR || s === A.BUFFER_APPEND_ERROR) && l.some((function (t) { var e = t.codecSet, r = t.audioCodec; return i.codecSet !== e && i.audioCodec === r })), m = null != (a = t.context) ? a : {}, p = m.type, y = m.groupId, E = function () { var e = (T + u) % l.length; if (e !== u && e >= h && e <= d && 0 === l[e].loadError) { var r, n, a = l[e]; if (s === A.FRAG_GAP && t.frag) { var c = l[e].details; if (c) { var m = mr(t.frag, c.fragments, t.frag.start); if (null != m && m.gap) return 0 } } else { if (p === be && a.hasAudioGroup(y) || p === De && a.hasSubtitleGroup(y)) return 0; if (f === we && null != (r = i.audioGroups) && r.some((function (t) { return a.hasAudioGroup(t) })) || f === Ce && null != (n = i.subtitleGroups) && n.some((function (t) { return a.hasSubtitleGroup(t) })) || g && i.audioCodec === a.audioCodec || !g && i.audioCodec !== a.audioCodec || v && i.codecSet === a.codecSet) return 0 } return o = e, 1 } }, T = l.length; T-- && (0 === (c = E()) || 1 !== c);); if (o > -1 && r.loadLevel !== o) return t.levelRetry = !0, this.playlistError = 0, { action: Tr, flags: Ar, nextAutoLevel: o } } return { action: Tr, flags: Rr } }, e.onErrorOut = function (t, e) { var r; switch (null == (r = e.errorAction) ? void 0 : r.action) { case Er: break; case Tr: this.sendAlternateToPenaltyBox(e), e.errorAction.resolved || e.details === A.FRAG_GAP ? /MediaSource readyState: ended/.test(e.error.message) && (this.warn('MediaSource ended after "' + e.sourceBufferName + '" sourceBuffer append error. Attempting to recover from media error.'), this.hls.recoverMediaError()) : e.fatal = !0 }e.fatal && this.hls.stopLoad() }, e.sendAlternateToPenaltyBox = function (t) { var e = this.hls, r = t.errorAction; if (r) { var i = r.flags, n = r.hdcpLevel, a = r.nextAutoLevel; switch (i) { case Ar: this.switchLevel(t, a); break; case kr: n && (e.maxHdcpLevel = Xe[Xe.indexOf(n) - 1], r.resolved = !0), this.warn('Restricting playback to HDCP-LEVEL of "' + e.maxHdcpLevel + '" or lower') }r.resolved || this.switchLevel(t, a) } }, e.switchLevel = function (t, e) { void 0 !== e && t.errorAction && (this.warn("switching to level " + e + " after " + t.details), this.hls.nextAutoLevel = e, t.errorAction.resolved = !0, this.hls.nextLoadLevel = this.hls.nextAutoLevel) }, t }(), Dr = function () { function t(t, e) { this.hls = void 0, this.timer = -1, this.requestScheduled = -1, this.canLoad = !1, this.log = void 0, this.warn = void 0, this.log = w.log.bind(w, e + ":"), this.warn = w.warn.bind(w, e + ":"), this.hls = t } var e = t.prototype; return e.destroy = function () { this.clearTimer(), this.hls = this.log = this.warn = null }, e.clearTimer = function () { -1 !== this.timer && (self.clearTimeout(this.timer), this.timer = -1) }, e.startLoad = function () { this.canLoad = !0, this.requestScheduled = -1, this.loadPlaylist() }, e.stopLoad = function () { this.canLoad = !1, this.clearTimer() }, e.switchParams = function (t, e) { var r = null == e ? void 0 : e.renditionReports; if (r) { for (var i = -1, n = 0; n < r.length; n++) { var a = r[n], s = void 0; try { s = new self.URL(a.URI, e.url).href } catch (t) { w.warn("Could not construct new URL for Rendition Report: " + t), s = a.URI || "" } if (s === t) { i = n; break } s === t.substring(0, s.length) && (i = n) } if (-1 !== i) { var o = r[i], l = parseInt(o["LAST-MSN"]) || (null == e ? void 0 : e.lastPartSn), u = parseInt(o["LAST-PART"]) || (null == e ? void 0 : e.lastPartIndex); if (this.hls.config.lowLatencyMode) { var h = Math.min(e.age - e.partTarget, e.targetduration); u >= 0 && h > e.partTarget && (u += 1) } return new Ze(l, u >= 0 ? u : void 0, Qe) } } }, e.loadPlaylist = function (t) { -1 === this.requestScheduled && (this.requestScheduled = self.performance.now()) }, e.shouldLoadPlaylist = function (t) { return this.canLoad && !!t && !!t.url && (!t.details || t.details.live) }, e.shouldReloadPlaylist = function (t) { return -1 === this.timer && -1 === this.requestScheduled && this.shouldLoadPlaylist(t) }, e.playlistLoaded = function (t, e, r) { var i = this, n = e.details, a = e.stats, s = self.performance.now(), o = a.loading.first ? Math.max(0, s - a.loading.first) : 0; if (n.advancedDateTime = Date.now() - o, n.live || null != r && r.live) { if (n.reloaded(r), r && this.log("live playlist " + t + " " + (n.advanced ? "REFRESHED " + n.lastPartSn + "-" + n.lastPartIndex : n.updated ? "UPDATED" : "MISSED")), r && n.fragments.length > 0 && nr(r, n), !this.canLoad || !n.live) return; var l, u = void 0, h = void 0; if (n.canBlockReload && n.endSN && n.advanced) { var d = this.hls.config.lowLatencyMode, c = n.lastPartSn, f = n.endSN, g = n.lastPartIndex, v = c === f; -1 !== g ? (u = v ? f + 1 : c, h = v ? d ? 0 : g : g + 1) : u = f + 1; var m = n.age, p = m + n.ageHeader, y = Math.min(p - n.partTarget, 1.5 * n.targetduration); if (y > 0) { if (r && y > r.tuneInGoal) this.warn("CDN Tune-in goal increased from: " + r.tuneInGoal + " to: " + y + " with playlist age: " + n.age), y = 0; else { var E = Math.floor(y / n.targetduration); u += E, void 0 !== h && (h += Math.round(y % n.targetduration / n.partTarget)), this.log("CDN Tune-in age: " + n.ageHeader + "s last advanced " + m.toFixed(2) + "s goal: " + y + " skip sn " + E + " to part " + h) } n.tuneInGoal = y } if (l = this.getDeliveryDirectives(n, e.deliveryDirectives, u, h), d || !v) return void this.loadPlaylist(l) } else (n.canBlockReload || n.canSkipUntil) && (l = this.getDeliveryDirectives(n, e.deliveryDirectives, u, h)); var T = this.hls.mainForwardBufferInfo, S = T ? T.end - T.len : 0, L = function (t, e) { void 0 === e && (e = 1 / 0); var r = 1e3 * t.targetduration; if (t.updated) { var i = t.fragments; if (i.length && 4 * r > e) { var n = 1e3 * i[i.length - 1].duration; n < r && (r = n) } } else r /= 2; return Math.round(r) }(n, 1e3 * (n.edge - S)); n.updated && s > this.requestScheduled + L && (this.requestScheduled = a.loading.start), void 0 !== u && n.canBlockReload ? this.requestScheduled = a.loading.first + L - (1e3 * n.partTarget || 1e3) : -1 === this.requestScheduled || this.requestScheduled + L < s ? this.requestScheduled = s : this.requestScheduled - s <= 0 && (this.requestScheduled += L); var A = this.requestScheduled - s; A = Math.max(0, A), this.log("reload live playlist " + t + " in " + Math.round(A) + " ms"), this.timer = self.setTimeout((function () { return i.loadPlaylist(l) }), A) } else this.clearTimer() }, e.getDeliveryDirectives = function (t, e, r, i) { var n = function (t, e) { var r = t.canSkipUntil, i = t.canSkipDateRanges, n = t.endSN; return r && (void 0 !== e ? e - n : 0) < r ? i ? $e : Je : Qe }(t, r); return null != e && e.skip && t.deltaUpdateFailed && (r = e.msn, i = e.part, n = Qe), new Ze(r, i, n) }, e.checkRetry = function (t) { var e = this, r = t.details, i = hr(t), n = t.errorAction, a = n || {}, s = a.action, o = a.retryCount, l = void 0 === o ? 0 : o, u = a.retryConfig, h = !!n && !!u && (s === Lr || !n.resolved && s === Tr); if (h) { var d; if (this.requestScheduled = -1, l >= u.maxNumRetry) return !1; if (i && null != (d = t.context) && d.deliveryDirectives) this.warn("Retrying playlist loading " + (l + 1) + "/" + u.maxNumRetry + ' after "' + r + '" without delivery-directives'), this.loadPlaylist(); else { var c = cr(u, l); this.timer = self.setTimeout((function () { return e.loadPlaylist() }), c), this.warn("Retrying playlist loading " + (l + 1) + "/" + u.maxNumRetry + ' after "' + r + '" in ' + c + "ms") } t.levelRetry = !0, n.resolved = !0 } return h }, t }(), Ir = function () { function t(t, e, r) { void 0 === e && (e = 0), void 0 === r && (r = 0), this.halfLife = void 0, this.alpha_ = void 0, this.estimate_ = void 0, this.totalWeight_ = void 0, this.halfLife = t, this.alpha_ = t ? Math.exp(Math.log(.5) / t) : 0, this.estimate_ = e, this.totalWeight_ = r } var e = t.prototype; return e.sample = function (t, e) { var r = Math.pow(this.alpha_, t); this.estimate_ = e * (1 - r) + r * this.estimate_, this.totalWeight_ += t }, e.getTotalWeight = function () { return this.totalWeight_ }, e.getEstimate = function () { if (this.alpha_) { var t = 1 - Math.pow(this.alpha_, this.totalWeight_); if (t) return this.estimate_ / t } return this.estimate_ }, t }(), wr = function () { function t(t, e, r, i) { void 0 === i && (i = 100), this.defaultEstimate_ = void 0, this.minWeight_ = void 0, this.minDelayMs_ = void 0, this.slow_ = void 0, this.fast_ = void 0, this.defaultTTFB_ = void 0, this.ttfb_ = void 0, this.defaultEstimate_ = r, this.minWeight_ = .001, this.minDelayMs_ = 50, this.slow_ = new Ir(t), this.fast_ = new Ir(e), this.defaultTTFB_ = i, this.ttfb_ = new Ir(t) } var e = t.prototype; return e.update = function (t, e) { var r = this.slow_, i = this.fast_, n = this.ttfb_; r.halfLife !== t && (this.slow_ = new Ir(t, r.getEstimate(), r.getTotalWeight())), i.halfLife !== e && (this.fast_ = new Ir(e, i.getEstimate(), i.getTotalWeight())), n.halfLife !== t && (this.ttfb_ = new Ir(t, n.getEstimate(), n.getTotalWeight())) }, e.sample = function (t, e) { var r = (t = Math.max(t, this.minDelayMs_)) / 1e3, i = 8 * e / r; this.fast_.sample(r, i), this.slow_.sample(r, i) }, e.sampleTTFB = function (t) { var e = t / 1e3, r = Math.sqrt(2) * Math.exp(-Math.pow(e, 2) / 2); this.ttfb_.sample(r, Math.max(t, 5)) }, e.canEstimate = function () { return this.fast_.getTotalWeight() >= this.minWeight_ }, e.getEstimate = function () { return this.canEstimate() ? Math.min(this.fast_.getEstimate(), this.slow_.getEstimate()) : this.defaultEstimate_ }, e.getEstimateTTFB = function () { return this.ttfb_.getTotalWeight() >= this.minWeight_ ? this.ttfb_.getEstimate() : this.defaultTTFB_ }, e.destroy = function () { }, t }(), Cr = { supported: !0, configurations: [], decodingInfoResults: [{ supported: !0, powerEfficient: !0, smooth: !0 }] }, _r = {}; function xr(t, e, r) { var n = t.videoCodec, a = t.audioCodec; if (!n || !a || !r) return Promise.resolve(Cr); var s = { width: t.width, height: t.height, bitrate: Math.ceil(Math.max(.9 * t.bitrate, t.averageBitrate)), framerate: t.frameRate || 30 }, o = t.videoRange; "SDR" !== o && (s.transferFunction = o.toLowerCase()); var l = n.split(",").map((function (t) { return { type: "media-source", video: i(i({}, s), {}, { contentType: ne(t, "video") }) } })); return a && t.audioGroups && t.audioGroups.forEach((function (t) { var r; t && (null == (r = e.groups[t]) || r.tracks.forEach((function (e) { if (e.groupId === t) { var r = e.channels || "", i = parseFloat(r); y(i) && i > 2 && l.push.apply(l, a.split(",").map((function (t) { return { type: "media-source", audio: { contentType: ne(t, "audio"), channels: "" + i } } }))) } }))) })), Promise.all(l.map((function (t) { var e = function (t) { var e = t.audio, r = t.video, i = r || e; if (i) { var n = i.contentType.split('"')[1]; if (r) return "r" + r.height + "x" + r.width + "f" + Math.ceil(r.framerate) + (r.transferFunction || "sd") + "_" + n + "_" + Math.ceil(r.bitrate / 1e5); if (e) return "c" + e.channels + (e.spatialRendering ? "s" : "n") + "_" + n } return "" }(t); return _r[e] || (_r[e] = r.decodingInfo(t)) }))).then((function (t) { return { supported: !t.some((function (t) { return !t.supported })), configurations: l, decodingInfoResults: t } })).catch((function (t) { return { supported: !1, configurations: l, decodingInfoResults: [], error: t } })) } function Pr(t, e) { var r = !1, i = []; return t && (r = "SDR" !== t, i = [t]), e && (i = e.allowedVideoRanges || ze.slice(0), i = (r = void 0 !== e.preferHDR ? e.preferHDR : function () { if ("function" == typeof matchMedia) { var t = matchMedia("(dynamic-range: high)"), e = matchMedia("bad query"); if (t.media !== e.media) return !0 === t.matches } return !1 }()) ? i.filter((function (t) { return "SDR" !== t })) : ["SDR"]), { preferHDR: r, allowedVideoRanges: i } } function Fr(t, e) { w.log('[abr] start candidates with "' + t + '" ignored because ' + e) } function Mr(t, e, r) { if ("attrs" in t) { var i = e.indexOf(t); if (-1 !== i) return i } for (var n = 0; n < e.length; n++)if (Or(t, e[n], r)) return n; return -1 } function Or(t, e, r) { var i = t.groupId, n = t.name, a = t.lang, s = t.assocLang, o = t.characteristics, l = t.default, u = t.forced; return (void 0 === i || e.groupId === i) && (void 0 === n || e.name === n) && (void 0 === a || e.lang === a) && (void 0 === a || e.assocLang === s) && (void 0 === l || e.default === l) && (void 0 === u || e.forced === u) && (void 0 === o || function (t, e) { void 0 === e && (e = ""); var r = t.split(","), i = e.split(","); return r.length === i.length && !r.some((function (t) { return -1 === i.indexOf(t) })) }(o, e.characteristics)) && (void 0 === r || r(t, e)) } function Nr(t, e) { var r = t.audioCodec, i = t.channels; return !(void 0 !== r && (e.audioCodec || "").substring(0, 4) !== r.substring(0, 4) || void 0 !== i && i !== (e.channels || "2")) } function Ur(t, e, r) { for (var i = e; i; i--)if (r(t[i])) return i; for (var n = e + 1; n < t.length; n++)if (r(t[n])) return n; return -1 } var Br = function () { function t(t) { var e = this; this.hls = void 0, this.lastLevelLoadSec = 0, this.lastLoadedFragLevel = -1, this.firstSelection = -1, this._nextAutoLevel = -1, this.nextAutoLevelKey = "", this.audioTracksByGroup = null, this.codecTiers = null, this.timer = -1, this.fragCurrent = null, this.partCurrent = null, this.bitrateTestDelay = 0, this.bwEstimator = void 0, this._abandonRulesCheck = function () { var t = e.fragCurrent, r = e.partCurrent, i = e.hls, n = i.autoLevelEnabled, a = i.media; if (t && a) { var s = performance.now(), o = r ? r.stats : t.stats, l = r ? r.duration : t.duration, u = s - o.loading.start, h = i.minAutoLevel; if (o.aborted || o.loaded && o.loaded === o.total || t.level <= h) return e.clearTimer(), void (e._nextAutoLevel = -1); if (n && !a.paused && a.playbackRate && a.readyState) { var d = i.mainForwardBufferInfo; if (null !== d) { var c = e.bwEstimator.getEstimateTTFB(), f = Math.abs(a.playbackRate); if (!(u <= Math.max(c, l / (2 * f) * 1e3))) { var g = d.len / f, v = o.loading.first ? o.loading.first - o.loading.start : -1, m = o.loaded && v > -1, p = e.getBwEstimate(), E = i.levels, T = E[t.level], L = o.total || Math.max(o.loaded, Math.round(l * T.maxBitrate / 8)), A = m ? u - v : u; A < 1 && m && (A = Math.min(u, 8 * o.loaded / p)); var R = m ? 1e3 * o.loaded / A : 0, k = R ? (L - o.loaded) / R : 8 * L / p + c / 1e3; if (!(k <= g)) { var b, D = R ? 8 * R : p, I = Number.POSITIVE_INFINITY; for (b = t.level - 1; b > h; b--) { var C = E[b].maxBitrate; if ((I = e.getTimeToLoadFrag(c / 1e3, D, l * C, !E[b].details)) < g) break } if (!(I >= k || I > 10 * l)) { i.nextLoadLevel = i.nextAutoLevel = b, m ? e.bwEstimator.sample(u - Math.min(c, v), o.loaded) : e.bwEstimator.sampleTTFB(u); var _ = E[b].bitrate; e.getBwEstimate() * e.hls.config.abrBandWidthUpFactor > _ && e.resetEstimator(_), e.clearTimer(), w.warn("[abr] Fragment " + t.sn + (r ? " part " + r.index : "") + " of level " + t.level + " is loading too slowly;\n      Time to underbuffer: " + g.toFixed(3) + " s\n      Estimated load time for current fragment: " + k.toFixed(3) + " s\n      Estimated load time for down switch fragment: " + I.toFixed(3) + " s\n      TTFB estimate: " + (0 | v) + " ms\n      Current BW estimate: " + (y(p) ? 0 | p : "Unknown") + " bps\n      New BW estimate: " + (0 | e.getBwEstimate()) + " bps\n      Switching to level " + b + " @ " + (0 | _) + " bps"), i.trigger(S.FRAG_LOAD_EMERGENCY_ABORTED, { frag: t, part: r, stats: o }) } } } } } } }, this.hls = t, this.bwEstimator = this.initEstimator(), this.registerListeners() } var e = t.prototype; return e.resetEstimator = function (t) { t && (w.log("setting initial bwe to " + t), this.hls.config.abrEwmaDefaultEstimate = t), this.firstSelection = -1, this.bwEstimator = this.initEstimator() }, e.initEstimator = function () { var t = this.hls.config; return new wr(t.abrEwmaSlowVoD, t.abrEwmaFastVoD, t.abrEwmaDefaultEstimate) }, e.registerListeners = function () { var t = this.hls; t.on(S.MANIFEST_LOADING, this.onManifestLoading, this), t.on(S.FRAG_LOADING, this.onFragLoading, this), t.on(S.FRAG_LOADED, this.onFragLoaded, this), t.on(S.FRAG_BUFFERED, this.onFragBuffered, this), t.on(S.LEVEL_SWITCHING, this.onLevelSwitching, this), t.on(S.LEVEL_LOADED, this.onLevelLoaded, this), t.on(S.LEVELS_UPDATED, this.onLevelsUpdated, this), t.on(S.MAX_AUTO_LEVEL_UPDATED, this.onMaxAutoLevelUpdated, this), t.on(S.ERROR, this.onError, this) }, e.unregisterListeners = function () { var t = this.hls; t && (t.off(S.MANIFEST_LOADING, this.onManifestLoading, this), t.off(S.FRAG_LOADING, this.onFragLoading, this), t.off(S.FRAG_LOADED, this.onFragLoaded, this), t.off(S.FRAG_BUFFERED, this.onFragBuffered, this), t.off(S.LEVEL_SWITCHING, this.onLevelSwitching, this), t.off(S.LEVEL_LOADED, this.onLevelLoaded, this), t.off(S.LEVELS_UPDATED, this.onLevelsUpdated, this), t.off(S.MAX_AUTO_LEVEL_UPDATED, this.onMaxAutoLevelUpdated, this), t.off(S.ERROR, this.onError, this)) }, e.destroy = function () { this.unregisterListeners(), this.clearTimer(), this.hls = this._abandonRulesCheck = null, this.fragCurrent = this.partCurrent = null }, e.onManifestLoading = function (t, e) { this.lastLoadedFragLevel = -1, this.firstSelection = -1, this.lastLevelLoadSec = 0, this.fragCurrent = this.partCurrent = null, this.onLevelsUpdated(), this.clearTimer() }, e.onLevelsUpdated = function () { this.lastLoadedFragLevel > -1 && this.fragCurrent && (this.lastLoadedFragLevel = this.fragCurrent.level), this._nextAutoLevel = -1, this.onMaxAutoLevelUpdated(), this.codecTiers = null, this.audioTracksByGroup = null }, e.onMaxAutoLevelUpdated = function () { this.firstSelection = -1, this.nextAutoLevelKey = "" }, e.onFragLoading = function (t, e) { var r, i = e.frag; this.ignoreFragment(i) || (i.bitrateTest || (this.fragCurrent = i, this.partCurrent = null != (r = e.part) ? r : null), this.clearTimer(), this.timer = self.setInterval(this._abandonRulesCheck, 100)) }, e.onLevelSwitching = function (t, e) { this.clearTimer() }, e.onError = function (t, e) { if (!e.fatal) switch (e.details) { case A.BUFFER_ADD_CODEC_ERROR: case A.BUFFER_APPEND_ERROR: this.lastLoadedFragLevel = -1, this.firstSelection = -1; break; case A.FRAG_LOAD_TIMEOUT: var r = e.frag, i = this.fragCurrent, n = this.partCurrent; if (r && i && r.sn === i.sn && r.level === i.level) { var a = performance.now(), s = n ? n.stats : r.stats, o = a - s.loading.start, l = s.loading.first ? s.loading.first - s.loading.start : -1; if (s.loaded && l > -1) { var u = this.bwEstimator.getEstimateTTFB(); this.bwEstimator.sample(o - Math.min(u, l), s.loaded) } else this.bwEstimator.sampleTTFB(o) } } }, e.getTimeToLoadFrag = function (t, e, r, i) { return t + r / e + (i ? this.lastLevelLoadSec : 0) }, e.onLevelLoaded = function (t, e) { var r = this.hls.config, i = e.stats.loading, n = i.end - i.start; y(n) && (this.lastLevelLoadSec = n / 1e3), e.details.live ? this.bwEstimator.update(r.abrEwmaSlowLive, r.abrEwmaFastLive) : this.bwEstimator.update(r.abrEwmaSlowVoD, r.abrEwmaFastVoD) }, e.onFragLoaded = function (t, e) { var r = e.frag, i = e.part, n = i ? i.stats : r.stats; if (r.type === Ie && this.bwEstimator.sampleTTFB(n.loading.first - n.loading.start), !this.ignoreFragment(r)) { if (this.clearTimer(), r.level === this._nextAutoLevel && (this._nextAutoLevel = -1), this.firstSelection = -1, this.hls.config.abrMaxWithRealBitrate) { var a = i ? i.duration : r.duration, s = this.hls.levels[r.level], o = (s.loaded ? s.loaded.bytes : 0) + n.loaded, l = (s.loaded ? s.loaded.duration : 0) + a; s.loaded = { bytes: o, duration: l }, s.realBitrate = Math.round(8 * o / l) } if (r.bitrateTest) { var u = { stats: n, frag: r, part: i, id: r.type }; this.onFragBuffered(S.FRAG_BUFFERED, u), r.bitrateTest = !1 } else this.lastLoadedFragLevel = r.level } }, e.onFragBuffered = function (t, e) { var r = e.frag, i = e.part, n = null != i && i.stats.loaded ? i.stats : r.stats; if (!n.aborted && !this.ignoreFragment(r)) { var a = n.parsing.end - n.loading.start - Math.min(n.loading.first - n.loading.start, this.bwEstimator.getEstimateTTFB()); this.bwEstimator.sample(a, n.loaded), n.bwEstimate = this.getBwEstimate(), r.bitrateTest ? this.bitrateTestDelay = a / 1e3 : this.bitrateTestDelay = 0 } }, e.ignoreFragment = function (t) { return t.type !== Ie || "initSegment" === t.sn }, e.clearTimer = function () { this.timer > -1 && (self.clearInterval(this.timer), this.timer = -1) }, e.getAutoLevelKey = function () { var t; return this.getBwEstimate() + "_" + (null == (t = this.hls.mainForwardBufferInfo) ? void 0 : t.len) }, e.getNextABRAutoLevel = function () { var t = this.fragCurrent, e = this.partCurrent, r = this.hls, i = r.maxAutoLevel, n = r.config, a = r.minAutoLevel, s = r.media, o = e ? e.duration : t ? t.duration : 0, l = s && 0 !== s.playbackRate ? Math.abs(s.playbackRate) : 1, u = this.getBwEstimate(), h = r.mainForwardBufferInfo, d = (h ? h.len : 0) / l, c = n.abrBandWidthFactor, f = n.abrBandWidthUpFactor; if (d) { var g = this.findBestLevel(u, a, i, d, 0, c, f); if (g >= 0) return g } var v = o ? Math.min(o, n.maxStarvationDelay) : n.maxStarvationDelay; if (!d) { var m = this.bitrateTestDelay; m && (v = (o ? Math.min(o, n.maxLoadingDelay) : n.maxLoadingDelay) - m, w.info("[abr] bitrate test took " + Math.round(1e3 * m) + "ms, set first fragment max fetchDuration to " + Math.round(1e3 * v) + " ms"), c = f = 1) } var p = this.findBestLevel(u, a, i, d, v, c, f); if (w.info("[abr] " + (d ? "rebuffering expected" : "buffer is empty") + ", optimal quality level " + p), p > -1) return p; var y = r.levels[a], E = r.levels[r.loadLevel]; return (null == y ? void 0 : y.bitrate) < (null == E ? void 0 : E.bitrate) ? a : r.loadLevel }, e.getBwEstimate = function () { return this.bwEstimator.canEstimate() ? this.bwEstimator.getEstimate() : this.hls.config.abrEwmaDefaultEstimate }, e.findBestLevel = function (t, e, r, i, n, a, s) { var o, l = this, u = i + n, h = this.lastLoadedFragLevel, d = -1 === h ? this.hls.firstLevel : h, c = this.fragCurrent, f = this.partCurrent, g = this.hls, v = g.levels, m = g.allAudioTracks, p = g.loadLevel, E = g.config; if (1 === v.length) return 0; var T, S = v[d], L = !(null == S || null == (o = S.details) || !o.live), A = -1 === p || -1 === h, R = "SDR", k = (null == S ? void 0 : S.frameRate) || 0, b = E.audioPreference, D = E.videoPreference, I = this.audioTracksByGroup || (this.audioTracksByGroup = function (t) { return t.reduce((function (t, e) { var r = t.groups[e.groupId]; r || (r = t.groups[e.groupId] = { tracks: [], channels: { 2: 0 }, hasDefault: !1, hasAutoSelect: !1 }), r.tracks.push(e); var i = e.channels || "2"; return r.channels[i] = (r.channels[i] || 0) + 1, r.hasDefault = r.hasDefault || e.default, r.hasAutoSelect = r.hasAutoSelect || e.autoselect, r.hasDefault && (t.hasDefaultAudio = !0), r.hasAutoSelect && (t.hasAutoSelectAudio = !0), t }), { hasDefaultAudio: !1, hasAutoSelectAudio: !1, groups: {} }) }(m)); if (A) { if (-1 !== this.firstSelection) return this.firstSelection; var C = this.codecTiers || (this.codecTiers = function (t, e, r, i) { return t.slice(r, i + 1).reduce((function (t, r) { if (!r.codecSet) return t; var i = r.audioGroups, n = t[r.codecSet]; n || (t[r.codecSet] = n = { minBitrate: 1 / 0, minHeight: 1 / 0, minFramerate: 1 / 0, maxScore: 0, videoRanges: { SDR: 0 }, channels: { 2: 0 }, hasDefaultAudio: !i, fragmentError: 0 }), n.minBitrate = Math.min(n.minBitrate, r.bitrate); var a = Math.min(r.height, r.width); return n.minHeight = Math.min(n.minHeight, a), n.minFramerate = Math.min(n.minFramerate, r.frameRate), n.maxScore = Math.max(n.maxScore, r.score), n.fragmentError += r.fragmentError, n.videoRanges[r.videoRange] = (n.videoRanges[r.videoRange] || 0) + 1, i && i.forEach((function (t) { if (t) { var r = e.groups[t]; n.hasDefaultAudio = n.hasDefaultAudio || e.hasDefaultAudio ? r.hasDefault : r.hasAutoSelect || !e.hasDefaultAudio && !e.hasAutoSelectAudio, Object.keys(r.channels).forEach((function (t) { n.channels[t] = (n.channels[t] || 0) + r.channels[t] })) } })), t }), {}) }(v, I, e, r)), _ = function (t, e, r, i, n) { for (var a = Object.keys(t), s = null == i ? void 0 : i.channels, o = null == i ? void 0 : i.audioCodec, l = s && 2 === parseInt(s), u = !0, h = !1, d = 1 / 0, c = 1 / 0, f = 1 / 0, g = 0, v = [], m = Pr(e, n), p = m.preferHDR, E = m.allowedVideoRanges, T = function () { var e = t[a[S]]; u = e.channels[2] > 0, d = Math.min(d, e.minHeight), c = Math.min(c, e.minFramerate), f = Math.min(f, e.minBitrate); var r = E.filter((function (t) { return e.videoRanges[t] > 0 })); r.length > 0 && (h = !0, v = r) }, S = a.length; S--;)T(); d = y(d) ? d : 0, c = y(c) ? c : 0; var L = Math.max(1080, d), A = Math.max(30, c); return f = y(f) ? f : r, r = Math.max(f, r), h || (e = void 0, v = []), { codecSet: a.reduce((function (e, i) { var n = t[i]; if (i === e) return e; if (n.minBitrate > r) return Fr(i, "min bitrate of " + n.minBitrate + " > current estimate of " + r), e; if (!n.hasDefaultAudio) return Fr(i, "no renditions with default or auto-select sound found"), e; if (o && i.indexOf(o.substring(0, 4)) % 5 != 0) return Fr(i, 'audio codec preference "' + o + '" not found'), e; if (s && !l) { if (!n.channels[s]) return Fr(i, "no renditions with " + s + " channel sound found (channels options: " + Object.keys(n.channels) + ")"), e } else if ((!o || l) && u && 0 === n.channels[2]) return Fr(i, "no renditions with stereo sound found"), e; return n.minHeight > L ? (Fr(i, "min resolution of " + n.minHeight + " > maximum of " + L), e) : n.minFramerate > A ? (Fr(i, "min framerate of " + n.minFramerate + " > maximum of " + A), e) : v.some((function (t) { return n.videoRanges[t] > 0 })) ? n.maxScore < g ? (Fr(i, "max score of " + n.maxScore + " < selected max of " + g), e) : e && (se(i) >= se(e) || n.fragmentError > t[e].fragmentError) ? e : (g = n.maxScore, i) : (Fr(i, "no variants with VIDEO-RANGE of " + JSON.stringify(v) + " found"), e) }), void 0), videoRanges: v, preferHDR: p, minFramerate: c, minBitrate: f } }(C, R, t, b, D), x = _.codecSet, P = _.videoRanges, F = _.minFramerate, M = _.minBitrate, O = _.preferHDR; T = x, R = O ? P[P.length - 1] : P[0], k = F, t = Math.max(t, M), w.log("[abr] picked start tier " + JSON.stringify(_)) } else T = null == S ? void 0 : S.codecSet, R = null == S ? void 0 : S.videoRange; for (var N, U = f ? f.duration : c ? c.duration : 0, B = this.bwEstimator.getEstimateTTFB() / 1e3, G = [], K = function () { var e, o, c = v[H], g = H > d; if (!c) return 0; if (E.useMediaCapabilities && !c.supportedResult && !c.supportedPromise) { var m = navigator.mediaCapabilities; "function" == typeof (null == m ? void 0 : m.decodingInfo) && function (t, e, r, i, n, a) { var s = t.audioCodec ? t.audioGroups : null, o = null == a ? void 0 : a.audioCodec, l = null == a ? void 0 : a.channels, u = l ? parseInt(l) : o ? 1 / 0 : 2, h = null; if (null != s && s.length) try { h = 1 === s.length && s[0] ? e.groups[s[0]].channels : s.reduce((function (t, r) { if (r) { var i = e.groups[r]; if (!i) throw new Error("Audio track group " + r + " not found"); Object.keys(i.channels).forEach((function (e) { t[e] = (t[e] || 0) + i.channels[e] })) } return t }), { 2: 0 }) } catch (t) { return !0 } return void 0 !== t.videoCodec && (t.width > 1920 && t.height > 1088 || t.height > 1920 && t.width > 1088 || t.frameRate > Math.max(i, 30) || "SDR" !== t.videoRange && t.videoRange !== r || t.bitrate > Math.max(n, 8e6)) || !!h && y(u) && Object.keys(h).some((function (t) { return parseInt(t) > u })) }(c, I, R, k, t, b) ? (c.supportedPromise = xr(c, I, m), c.supportedPromise.then((function (t) { c.supportedResult = t; var e = l.hls.levels, r = e.indexOf(c); t.error ? w.warn('[abr] MediaCapabilities decodingInfo error: "' + t.error + '" for level ' + r + " " + JSON.stringify(t)) : t.supported || (w.warn("[abr] Unsupported MediaCapabilities decodingInfo result for level " + r + " " + JSON.stringify(t)), r > -1 && e.length > 1 && (w.log("[abr] Removing unsupported level " + r), l.hls.removeLevel(r))) }))) : c.supportedResult = Cr } if (T && c.codecSet !== T || R && c.videoRange !== R || g && k > c.frameRate || !g && k > 0 && k < c.frameRate || null == (e = c.supportedResult) || null == (o = e.decodingInfoResults) || !o[0].smooth) return G.push(H), 0; var D, C = c.details, _ = (f ? null == C ? void 0 : C.partTarget : null == C ? void 0 : C.averagetargetduration) || U; D = g ? s * t : a * t; var x = U && i >= 2 * U && 0 === n ? v[H].averageBitrate : v[H].maxBitrate, P = l.getTimeToLoadFrag(B, D, x * _, void 0 === C); if (D >= x && (H === h || 0 === c.loadError && 0 === c.fragmentError) && (P <= B || !y(P) || L && !l.bitrateTestDelay || P < u)) { var F = l.forcedAutoLevel; return H === p || -1 !== F && F === p || (G.length && w.trace("[abr] Skipped level(s) " + G.join(",") + " of " + r + ' max with CODECS and VIDEO-RANGE:"' + v[G[0]].codecs + '" ' + v[G[0]].videoRange + '; not compatible with "' + S.codecs + '" ' + R), w.info("[abr] switch candidate:" + d + "->" + H + " adjustedbw(" + Math.round(D) + ")-bitrate=" + Math.round(D - x) + " ttfb:" + B.toFixed(1) + " avgDuration:" + _.toFixed(1) + " maxFetchDuration:" + u.toFixed(1) + " fetchDuration:" + P.toFixed(1) + " firstSelection:" + A + " codecSet:" + T + " videoRange:" + R + " hls.loadLevel:" + p)), A && (l.firstSelection = H), { v: H } } }, H = r; H >= e; H--)if (0 !== (N = K()) && N) return N.v; return -1 }, s(t, [{ key: "firstAutoLevel", get: function () { var t = this.hls, e = t.maxAutoLevel, r = t.minAutoLevel, i = this.getBwEstimate(), n = this.hls.config.maxStarvationDelay, a = this.findBestLevel(i, r, e, 0, n, 1, 1); if (a > -1) return a; var s = this.hls.firstLevel, o = Math.min(Math.max(s, r), e); return w.warn("[abr] Could not find best starting auto level. Defaulting to first in playlist " + s + " clamped to " + o), o } }, { key: "forcedAutoLevel", get: function () { return this.nextAutoLevelKey ? -1 : this._nextAutoLevel } }, { key: "nextAutoLevel", get: function () { var t = this.forcedAutoLevel, e = this.bwEstimator.canEstimate(), r = this.lastLoadedFragLevel > -1; if (!(-1 === t || e && r && this.nextAutoLevelKey !== this.getAutoLevelKey())) return t; var i = e && r ? this.getNextABRAutoLevel() : this.firstAutoLevel; if (-1 !== t) { var n = this.hls.levels; if (n.length > Math.max(t, i) && n[t].loadError <= n[i].loadError) return t } return this._nextAutoLevel = i, this.nextAutoLevelKey = this.getAutoLevelKey(), i }, set: function (t) { var e = Math.max(this.hls.minAutoLevel, t); this._nextAutoLevel != e && (this.nextAutoLevelKey = "", this._nextAutoLevel = e) } }]), t }(), Gr = function () { function t() { this._boundTick = void 0, this._tickTimer = null, this._tickInterval = null, this._tickCallCount = 0, this._boundTick = this.tick.bind(this) } var e = t.prototype; return e.destroy = function () { this.onHandlerDestroying(), this.onHandlerDestroyed() }, e.onHandlerDestroying = function () { this.clearNextTick(), this.clearInterval() }, e.onHandlerDestroyed = function () { }, e.hasInterval = function () { return !!this._tickInterval }, e.hasNextTick = function () { return !!this._tickTimer }, e.setInterval = function (t) { return !this._tickInterval && (this._tickCallCount = 0, this._tickInterval = self.setInterval(this._boundTick, t), !0) }, e.clearInterval = function () { return !!this._tickInterval && (self.clearInterval(this._tickInterval), this._tickInterval = null, !0) }, e.clearNextTick = function () { return !!this._tickTimer && (self.clearTimeout(this._tickTimer), this._tickTimer = null, !0) }, e.tick = function () { this._tickCallCount++, 1 === this._tickCallCount && (this.doTick(), this._tickCallCount > 1 && this.tickImmediate(), this._tickCallCount = 0) }, e.tickImmediate = function () { this.clearNextTick(), this._tickTimer = self.setTimeout(this._boundTick, 0) }, e.doTick = function () { }, t }(), Kr = "NOT_LOADED", Hr = "APPENDING", Vr = "PARTIAL", Yr = "OK", Wr = function () { function t(t) { this.activePartLists = Object.create(null), this.endListFragments = Object.create(null), this.fragments = Object.create(null), this.timeRanges = Object.create(null), this.bufferPadding = .2, this.hls = void 0, this.hasGaps = !1, this.hls = t, this._registerListeners() } var e = t.prototype; return e._registerListeners = function () { var t = this.hls; t.on(S.BUFFER_APPENDED, this.onBufferAppended, this), t.on(S.FRAG_BUFFERED, this.onFragBuffered, this), t.on(S.FRAG_LOADED, this.onFragLoaded, this) }, e._unregisterListeners = function () { var t = this.hls; t.off(S.BUFFER_APPENDED, this.onBufferAppended, this), t.off(S.FRAG_BUFFERED, this.onFragBuffered, this), t.off(S.FRAG_LOADED, this.onFragLoaded, this) }, e.destroy = function () { this._unregisterListeners(), this.fragments = this.activePartLists = this.endListFragments = this.timeRanges = null }, e.getAppendedFrag = function (t, e) { var r = this.activePartLists[e]; if (r) for (var i = r.length; i--;) { var n = r[i]; if (!n) break; var a = n.end; if (n.start <= t && null !== a && t <= a) return n } return this.getBufferedFrag(t, e) }, e.getBufferedFrag = function (t, e) { for (var r = this.fragments, i = Object.keys(r), n = i.length; n--;) { var a = r[i[n]]; if ((null == a ? void 0 : a.body.type) === e && a.buffered) { var s = a.body; if (s.start <= t && t <= s.end) return s } } return null }, e.detectEvictedFragments = function (t, e, r, i) { var n = this; this.timeRanges && (this.timeRanges[t] = e); var a = (null == i ? void 0 : i.fragment.sn) || -1; Object.keys(this.fragments).forEach((function (i) { var s = n.fragments[i]; if (s && !(a >= s.body.sn)) if (s.buffered || s.loaded) { var o = s.range[t]; o && o.time.some((function (t) { var r = !n.isTimeBuffered(t.startPTS, t.endPTS, e); return r && n.removeFragment(s.body), r })) } else s.body.type === r && n.removeFragment(s.body) })) }, e.detectPartialFragments = function (t) { var e = this, r = this.timeRanges, i = t.frag, n = t.part; if (r && "initSegment" !== i.sn) { var a = qr(i), s = this.fragments[a]; if (!(!s || s.buffered && i.gap)) { var o = !i.relurl; Object.keys(r).forEach((function (t) { var a = i.elementaryStreams[t]; if (a) { var l = r[t], u = o || !0 === a.partial; s.range[t] = e.getBufferedTimes(i, n, u, l) } })), s.loaded = null, Object.keys(s.range).length ? (s.buffered = !0, (s.body.endList = i.endList || s.body.endList) && (this.endListFragments[s.body.type] = s), jr(s) || this.removeParts(i.sn - 1, i.type)) : this.removeFragment(s.body) } } }, e.removeParts = function (t, e) { var r = this.activePartLists[e]; r && (this.activePartLists[e] = r.filter((function (e) { return e.fragment.sn >= t }))) }, e.fragBuffered = function (t, e) { var r = qr(t), i = this.fragments[r]; !i && e && (i = this.fragments[r] = { body: t, appendedPTS: null, loaded: null, buffered: !1, range: Object.create(null) }, t.gap && (this.hasGaps = !0)), i && (i.loaded = null, i.buffered = !0) }, e.getBufferedTimes = function (t, e, r, i) { for (var n = { time: [], partial: r }, a = t.start, s = t.end, o = t.minEndPTS || s, l = t.maxStartPTS || a, u = 0; u < i.length; u++) { var h = i.start(u) - this.bufferPadding, d = i.end(u) + this.bufferPadding; if (l >= h && o <= d) { n.time.push({ startPTS: Math.max(a, i.start(u)), endPTS: Math.min(s, i.end(u)) }); break } if (a < d && s > h) { var c = Math.max(a, i.start(u)), f = Math.min(s, i.end(u)); f > c && (n.partial = !0, n.time.push({ startPTS: c, endPTS: f })) } else if (s <= h) break } return n }, e.getPartialFragment = function (t) { var e, r, i, n = null, a = 0, s = this.bufferPadding, o = this.fragments; return Object.keys(o).forEach((function (l) { var u = o[l]; u && jr(u) && (r = u.body.start - s, i = u.body.end + s, t >= r && t <= i && (e = Math.min(t - r, i - t), a <= e && (n = u.body, a = e))) })), n }, e.isEndListAppended = function (t) { var e = this.endListFragments[t]; return void 0 !== e && (e.buffered || jr(e)) }, e.getState = function (t) { var e = qr(t), r = this.fragments[e]; return r ? r.buffered ? jr(r) ? Vr : Yr : Hr : Kr }, e.isTimeBuffered = function (t, e, r) { for (var i, n, a = 0; a < r.length; a++) { if (i = r.start(a) - this.bufferPadding, n = r.end(a) + this.bufferPadding, t >= i && e <= n) return !0; if (e <= i) return !1 } return !1 }, e.onFragLoaded = function (t, e) { var r = e.frag, i = e.part; if ("initSegment" !== r.sn && !r.bitrateTest) { var n = i ? null : e, a = qr(r); this.fragments[a] = { body: r, appendedPTS: null, loaded: n, buffered: !1, range: Object.create(null) } } }, e.onBufferAppended = function (t, e) { var r = this, i = e.frag, n = e.part, a = e.timeRanges; if ("initSegment" !== i.sn) { var s = i.type; if (n) { var o = this.activePartLists[s]; o || (this.activePartLists[s] = o = []), o.push(n) } this.timeRanges = a, Object.keys(a).forEach((function (t) { var e = a[t]; r.detectEvictedFragments(t, e, s, n) })) } }, e.onFragBuffered = function (t, e) { this.detectPartialFragments(e) }, e.hasFragment = function (t) { var e = qr(t); return !!this.fragments[e] }, e.hasParts = function (t) { var e; return !(null == (e = this.activePartLists[t]) || !e.length) }, e.removeFragmentsInRange = function (t, e, r, i, n) { var a = this; i && !this.hasGaps || Object.keys(this.fragments).forEach((function (s) { var o = a.fragments[s]; if (o) { var l = o.body; l.type !== r || i && !l.gap || l.start < e && l.end > t && (o.buffered || n) && a.removeFragment(l) } })) }, e.removeFragment = function (t) { var e = qr(t); t.stats.loaded = 0, t.clearElementaryStreamInfo(); var r = this.activePartLists[t.type]; if (r) { var i = t.sn; this.activePartLists[t.type] = r.filter((function (t) { return t.fragment.sn !== i })) } delete this.fragments[e], t.endList && delete this.endListFragments[t.type] }, e.removeAllFragments = function () { this.fragments = Object.create(null), this.endListFragments = Object.create(null), this.activePartLists = Object.create(null), this.hasGaps = !1 }, t }(); function jr(t) { var e, r, i; return t.buffered && (t.body.gap || (null == (e = t.range.video) ? void 0 : e.partial) || (null == (r = t.range.audio) ? void 0 : r.partial) || (null == (i = t.range.audiovideo) ? void 0 : i.partial)) } function qr(t) { return t.type + "_" + t.level + "_" + t.sn } var Xr = { length: 0, start: function () { return 0 }, end: function () { return 0 } }, zr = function () { function t() { } return t.isBuffered = function (e, r) { try { if (e) for (var i = t.getBuffered(e), n = 0; n < i.length; n++)if (r >= i.start(n) && r <= i.end(n)) return !0 } catch (t) { } return !1 }, t.bufferInfo = function (e, r, i) { try { if (e) { var n, a = t.getBuffered(e), s = []; for (n = 0; n < a.length; n++)s.push({ start: a.start(n), end: a.end(n) }); return this.bufferedInfo(s, r, i) } } catch (t) { } return { len: 0, start: r, end: r, nextStart: void 0 } }, t.bufferedInfo = function (t, e, r) { e = Math.max(0, e), t.sort((function (t, e) { var r = t.start - e.start; return r || e.end - t.end })); var i = []; if (r) for (var n = 0; n < t.length; n++) { var a = i.length; if (a) { var s = i[a - 1].end; t[n].start - s < r ? t[n].end > s && (i[a - 1].end = t[n].end) : i.push(t[n]) } else i.push(t[n]) } else i = t; for (var o, l = 0, u = e, h = e, d = 0; d < i.length; d++) { var c = i[d].start, f = i[d].end; if (e + r >= c && e < f) u = c, l = (h = f) - e; else if (e + r < c) { o = c; break } } return { len: l, start: u || 0, end: h || 0, nextStart: o } }, t.getBuffered = function (t) { try { return t.buffered } catch (t) { return w.log("failed to get media.buffered", t), Xr } }, t }(), Qr = function (t, e, r, i, n, a) { void 0 === i && (i = 0), void 0 === n && (n = -1), void 0 === a && (a = !1), this.level = void 0, this.sn = void 0, this.part = void 0, this.id = void 0, this.size = void 0, this.partial = void 0, this.transmuxing = { start: 0, executeStart: 0, executeEnd: 0, end: 0 }, this.buffering = { audio: { start: 0, executeStart: 0, executeEnd: 0, end: 0 }, video: { start: 0, executeStart: 0, executeEnd: 0, end: 0 }, audiovideo: { start: 0, executeStart: 0, executeEnd: 0, end: 0 } }, this.level = t, this.sn = e, this.id = r, this.size = i, this.part = n, this.partial = a }; function Jr(t, e) { for (var r = 0, i = t.length; r < i; r++) { var n; if ((null == (n = t[r]) ? void 0 : n.cc) === e) return t[r] } return null } function $r(t, e) { if (t) { var r = t.start + e; t.start = t.startPTS = r, t.endPTS = r + t.duration } } function Zr(t, e) { for (var r = e.fragments, i = 0, n = r.length; i < n; i++)$r(r[i], t); e.fragmentHint && $r(e.fragmentHint, t), e.alignedSliding = !0 } function ti(t, e, r) { e && (function (t, e, r) { if (function (t, e, r) { return !(!e || !(r.endCC > r.startCC || t && t.cc < r.startCC)) }(t, r, e)) { var i = function (t, e) { var r = t.fragments, i = e.fragments; if (i.length && r.length) { var n = Jr(r, i[0].cc); if (n && (!n || n.startPTS)) return n; w.log("No frag in previous level to align on") } else w.log("No fragments to align") }(r, e); i && y(i.start) && (w.log("Adjusting PTS using last level due to CC increase within current level " + e.url), Zr(i.start, e)) } }(t, r, e), !r.alignedSliding && e && ei(r, e), r.alignedSliding || !e || r.skippedSegments || ar(e, r)) } function ei(t, e) { if (t.hasProgramDateTime && e.hasProgramDateTime) { var r = t.fragments, i = e.fragments; if (r.length && i.length) { var n, a, s = Math.min(e.endCC, t.endCC); e.startCC < s && t.startCC < s && (n = Jr(i, s), a = Jr(r, s)), n && a || (a = Jr(r, (n = i[Math.floor(i.length / 2)]).cc) || r[Math.floor(r.length / 2)]); var o = n.programDateTime, l = a.programDateTime; o && l && Zr((l - o) / 1e3 - (a.start - n.start), t) } } } var ri = Math.pow(2, 17), ii = function () { function t(t) { this.config = void 0, this.loader = null, this.partLoadTimeout = -1, this.config = t } var e = t.prototype; return e.destroy = function () { this.loader && (this.loader.destroy(), this.loader = null) }, e.abort = function () { this.loader && this.loader.abort() }, e.load = function (t, e) { var r = this, n = t.url; if (!n) return Promise.reject(new si({ type: L.NETWORK_ERROR, details: A.FRAG_LOAD_ERROR, fatal: !1, frag: t, error: new Error("Fragment does not have a " + (n ? "part list" : "url")), networkDetails: null })); this.abort(); var a = this.config, s = a.fLoader, o = a.loader; return new Promise((function (l, u) { if (r.loader && r.loader.destroy(), t.gap) { if (t.tagList.some((function (t) { return "GAP" === t[0] }))) return void u(ai(t)); t.gap = !1 } var h = r.loader = t.loader = s ? new s(a) : new o(a), d = ni(t), c = fr(a.fragLoadPolicy.default), f = { loadPolicy: c, timeout: c.maxLoadTimeMs, maxRetry: 0, retryDelay: 0, maxRetryDelay: 0, highWaterMark: "initSegment" === t.sn ? 1 / 0 : ri }; t.stats = h.stats, h.load(d, f, { onSuccess: function (e, i, n, a) { r.resetLoader(t, h); var s = e.data; n.resetIV && t.decryptdata && (t.decryptdata.iv = new Uint8Array(s.slice(0, 16)), s = s.slice(16)), l({ frag: t, part: null, payload: s, networkDetails: a }) }, onError: function (e, a, s, o) { r.resetLoader(t, h), u(new si({ type: L.NETWORK_ERROR, details: A.FRAG_LOAD_ERROR, fatal: !1, frag: t, response: i({ url: n, data: void 0 }, e), error: new Error("HTTP Error " + e.code + " " + e.text), networkDetails: s, stats: o })) }, onAbort: function (e, i, n) { r.resetLoader(t, h), u(new si({ type: L.NETWORK_ERROR, details: A.INTERNAL_ABORTED, fatal: !1, frag: t, error: new Error("Aborted"), networkDetails: n, stats: e })) }, onTimeout: function (e, i, n) { r.resetLoader(t, h), u(new si({ type: L.NETWORK_ERROR, details: A.FRAG_LOAD_TIMEOUT, fatal: !1, frag: t, error: new Error("Timeout after " + f.timeout + "ms"), networkDetails: n, stats: e })) }, onProgress: function (r, i, n, a) { e && e({ frag: t, part: null, payload: n, networkDetails: a }) } }) })) }, e.loadPart = function (t, e, r) { var n = this; this.abort(); var a = this.config, s = a.fLoader, o = a.loader; return new Promise((function (l, u) { if (n.loader && n.loader.destroy(), t.gap || e.gap) u(ai(t, e)); else { var h = n.loader = t.loader = s ? new s(a) : new o(a), d = ni(t, e), c = fr(a.fragLoadPolicy.default), f = { loadPolicy: c, timeout: c.maxLoadTimeMs, maxRetry: 0, retryDelay: 0, maxRetryDelay: 0, highWaterMark: ri }; e.stats = h.stats, h.load(d, f, { onSuccess: function (i, a, s, o) { n.resetLoader(t, h), n.updateStatsFromPart(t, e); var u = { frag: t, part: e, payload: i.data, networkDetails: o }; r(u), l(u) }, onError: function (r, a, s, o) { n.resetLoader(t, h), u(new si({ type: L.NETWORK_ERROR, details: A.FRAG_LOAD_ERROR, fatal: !1, frag: t, part: e, response: i({ url: d.url, data: void 0 }, r), error: new Error("HTTP Error " + r.code + " " + r.text), networkDetails: s, stats: o })) }, onAbort: function (r, i, a) { t.stats.aborted = e.stats.aborted, n.resetLoader(t, h), u(new si({ type: L.NETWORK_ERROR, details: A.INTERNAL_ABORTED, fatal: !1, frag: t, part: e, error: new Error("Aborted"), networkDetails: a, stats: r })) }, onTimeout: function (r, i, a) { n.resetLoader(t, h), u(new si({ type: L.NETWORK_ERROR, details: A.FRAG_LOAD_TIMEOUT, fatal: !1, frag: t, part: e, error: new Error("Timeout after " + f.timeout + "ms"), networkDetails: a, stats: r })) } }) } })) }, e.updateStatsFromPart = function (t, e) { var r = t.stats, i = e.stats, n = i.total; if (r.loaded += i.loaded, n) { var a = Math.round(t.duration / e.duration), s = Math.min(Math.round(r.loaded / n), a), o = (a - s) * Math.round(r.loaded / s); r.total = r.loaded + o } else r.total = Math.max(r.loaded, r.total); var l = r.loading, u = i.loading; l.start ? l.first += u.first - u.start : (l.start = u.start, l.first = u.first), l.end = u.end }, e.resetLoader = function (t, e) { t.loader = null, this.loader === e && (self.clearTimeout(this.partLoadTimeout), this.loader = null), e.destroy() }, t }(); function ni(t, e) { void 0 === e && (e = null); var r = e || t, i = { frag: t, part: e, responseType: "arraybuffer", url: r.url, headers: {}, rangeStart: 0, rangeEnd: 0 }, n = r.byteRangeStartOffset, a = r.byteRangeEndOffset; if (y(n) && y(a)) { var s, o = n, l = a; if ("initSegment" === t.sn && "AES-128" === (null == (s = t.decryptdata) ? void 0 : s.method)) { var u = a - n; u % 16 && (l = a + (16 - u % 16)), 0 !== n && (i.resetIV = !0, o = n - 16) } i.rangeStart = o, i.rangeEnd = l } return i } function ai(t, e) { var r = new Error("GAP " + (t.gap ? "tag" : "attribute") + " found"), i = { type: L.MEDIA_ERROR, details: A.FRAG_GAP, fatal: !1, frag: t, error: r, networkDetails: null }; return e && (i.part = e), (e || t).stats.aborted = !0, new si(i) } var si = function (t) { function e(e) { var r; return (r = t.call(this, e.error.message) || this).data = void 0, r.data = e, r } return l(e, t), e }(c(Error)), oi = function () { function t(t, e) { this.subtle = void 0, this.aesIV = void 0, this.subtle = t, this.aesIV = e } return t.prototype.decrypt = function (t, e) { return this.subtle.decrypt({ name: "AES-CBC", iv: this.aesIV }, e, t) }, t }(), li = function () { function t(t, e) { this.subtle = void 0, this.key = void 0, this.subtle = t, this.key = e } return t.prototype.expandKey = function () { return this.subtle.importKey("raw", this.key, { name: "AES-CBC" }, !1, ["encrypt", "decrypt"]) }, t }(), ui = function () { function t() { this.rcon = [0, 1, 2, 4, 8, 16, 32, 64, 128, 27, 54], this.subMix = [new Uint32Array(256), new Uint32Array(256), new Uint32Array(256), new Uint32Array(256)], this.invSubMix = [new Uint32Array(256), new Uint32Array(256), new Uint32Array(256), new Uint32Array(256)], this.sBox = new Uint32Array(256), this.invSBox = new Uint32Array(256), this.key = new Uint32Array(0), this.ksRows = 0, this.keySize = 0, this.keySchedule = void 0, this.invKeySchedule = void 0, this.initTable() } var e = t.prototype; return e.uint8ArrayToUint32Array_ = function (t) { for (var e = new DataView(t), r = new Uint32Array(4), i = 0; i < 4; i++)r[i] = e.getUint32(4 * i); return r }, e.initTable = function () { var t = this.sBox, e = this.invSBox, r = this.subMix, i = r[0], n = r[1], a = r[2], s = r[3], o = this.invSubMix, l = o[0], u = o[1], h = o[2], d = o[3], c = new Uint32Array(256), f = 0, g = 0, v = 0; for (v = 0; v < 256; v++)c[v] = v < 128 ? v << 1 : v << 1 ^ 283; for (v = 0; v < 256; v++) { var m = g ^ g << 1 ^ g << 2 ^ g << 3 ^ g << 4; m = m >>> 8 ^ 255 & m ^ 99, t[f] = m, e[m] = f; var p = c[f], y = c[p], E = c[y], T = 257 * c[m] ^ 16843008 * m; i[f] = T << 24 | T >>> 8, n[f] = T << 16 | T >>> 16, a[f] = T << 8 | T >>> 24, s[f] = T, T = 16843009 * E ^ 65537 * y ^ 257 * p ^ 16843008 * f, l[m] = T << 24 | T >>> 8, u[m] = T << 16 | T >>> 16, h[m] = T << 8 | T >>> 24, d[m] = T, f ? (f = p ^ c[c[c[E ^ p]]], g ^= c[c[g]]) : f = g = 1 } }, e.expandKey = function (t) { for (var e = this.uint8ArrayToUint32Array_(t), r = !0, i = 0; i < e.length && r;)r = e[i] === this.key[i], i++; if (!r) { this.key = e; var n = this.keySize = e.length; if (4 !== n && 6 !== n && 8 !== n) throw new Error("Invalid aes key size=" + n); var a, s, o, l, u = this.ksRows = 4 * (n + 6 + 1), h = this.keySchedule = new Uint32Array(u), d = this.invKeySchedule = new Uint32Array(u), c = this.sBox, f = this.rcon, g = this.invSubMix, v = g[0], m = g[1], p = g[2], y = g[3]; for (a = 0; a < u; a++)a < n ? o = h[a] = e[a] : (l = o, a % n == 0 ? (l = c[(l = l << 8 | l >>> 24) >>> 24] << 24 | c[l >>> 16 & 255] << 16 | c[l >>> 8 & 255] << 8 | c[255 & l], l ^= f[a / n | 0] << 24) : n > 6 && a % n == 4 && (l = c[l >>> 24] << 24 | c[l >>> 16 & 255] << 16 | c[l >>> 8 & 255] << 8 | c[255 & l]), h[a] = o = (h[a - n] ^ l) >>> 0); for (s = 0; s < u; s++)a = u - s, l = 3 & s ? h[a] : h[a - 4], d[s] = s < 4 || a <= 4 ? l : v[c[l >>> 24]] ^ m[c[l >>> 16 & 255]] ^ p[c[l >>> 8 & 255]] ^ y[c[255 & l]], d[s] = d[s] >>> 0 } }, e.networkToHostOrderSwap = function (t) { return t << 24 | (65280 & t) << 8 | (16711680 & t) >> 8 | t >>> 24 }, e.decrypt = function (t, e, r) { for (var i, n, a, s, o, l, u, h, d, c, f, g, v, m, p = this.keySize + 6, y = this.invKeySchedule, E = this.invSBox, T = this.invSubMix, S = T[0], L = T[1], A = T[2], R = T[3], k = this.uint8ArrayToUint32Array_(r), b = k[0], D = k[1], I = k[2], w = k[3], C = new Int32Array(t), _ = new Int32Array(C.length), x = this.networkToHostOrderSwap; e < C.length;) { for (d = x(C[e]), c = x(C[e + 1]), f = x(C[e + 2]), g = x(C[e + 3]), o = d ^ y[0], l = g ^ y[1], u = f ^ y[2], h = c ^ y[3], v = 4, m = 1; m < p; m++)i = S[o >>> 24] ^ L[l >> 16 & 255] ^ A[u >> 8 & 255] ^ R[255 & h] ^ y[v], n = S[l >>> 24] ^ L[u >> 16 & 255] ^ A[h >> 8 & 255] ^ R[255 & o] ^ y[v + 1], a = S[u >>> 24] ^ L[h >> 16 & 255] ^ A[o >> 8 & 255] ^ R[255 & l] ^ y[v + 2], s = S[h >>> 24] ^ L[o >> 16 & 255] ^ A[l >> 8 & 255] ^ R[255 & u] ^ y[v + 3], o = i, l = n, u = a, h = s, v += 4; i = E[o >>> 24] << 24 ^ E[l >> 16 & 255] << 16 ^ E[u >> 8 & 255] << 8 ^ E[255 & h] ^ y[v], n = E[l >>> 24] << 24 ^ E[u >> 16 & 255] << 16 ^ E[h >> 8 & 255] << 8 ^ E[255 & o] ^ y[v + 1], a = E[u >>> 24] << 24 ^ E[h >> 16 & 255] << 16 ^ E[o >> 8 & 255] << 8 ^ E[255 & l] ^ y[v + 2], s = E[h >>> 24] << 24 ^ E[o >> 16 & 255] << 16 ^ E[l >> 8 & 255] << 8 ^ E[255 & u] ^ y[v + 3], _[e] = x(i ^ b), _[e + 1] = x(s ^ D), _[e + 2] = x(a ^ I), _[e + 3] = x(n ^ w), b = d, D = c, I = f, w = g, e += 4 } return _.buffer }, t }(), hi = function () { function t(t, e) { var r = (void 0 === e ? {} : e).removePKCS7Padding, i = void 0 === r || r; if (this.logEnabled = !0, this.removePKCS7Padding = void 0, this.subtle = null, this.softwareDecrypter = null, this.key = null, this.fastAesKey = null, this.remainderData = null, this.currentIV = null, this.currentResult = null, this.useSoftware = void 0, this.useSoftware = t.enableSoftwareAES, this.removePKCS7Padding = i, i) try { var n = self.crypto; n && (this.subtle = n.subtle || n.webkitSubtle) } catch (t) { } null === this.subtle && (this.useSoftware = !0) } var e = t.prototype; return e.destroy = function () { this.subtle = null, this.softwareDecrypter = null, this.key = null, this.fastAesKey = null, this.remainderData = null, this.currentIV = null, this.currentResult = null }, e.isSync = function () { return this.useSoftware }, e.flush = function () { var t = this.currentResult, e = this.remainderData; if (!t || e) return this.reset(), null; var r, i, n, a = new Uint8Array(t); return this.reset(), this.removePKCS7Padding ? (i = (r = a).byteLength, (n = i && new DataView(r.buffer).getUint8(i - 1)) ? nt(r, 0, i - n) : r) : a }, e.reset = function () { this.currentResult = null, this.currentIV = null, this.remainderData = null, this.softwareDecrypter && (this.softwareDecrypter = null) }, e.decrypt = function (t, e, r) { var i = this; return this.useSoftware ? new Promise((function (n, a) { i.softwareDecrypt(new Uint8Array(t), e, r); var s = i.flush(); s ? n(s.buffer) : a(new Error("[softwareDecrypt] Failed to decrypt data")) })) : this.webCryptoDecrypt(new Uint8Array(t), e, r) }, e.softwareDecrypt = function (t, e, r) { var i = this.currentIV, n = this.currentResult, a = this.remainderData; this.logOnce("JS AES decrypt"), a && (t = Gt(a, t), this.remainderData = null); var s = this.getValidChunk(t); if (!s.length) return null; i && (r = i); var o = this.softwareDecrypter; o || (o = this.softwareDecrypter = new ui), o.expandKey(e); var l = n; return this.currentResult = o.decrypt(s.buffer, 0, r), this.currentIV = nt(s, -16).buffer, l || null }, e.webCryptoDecrypt = function (t, e, r) { var i = this, n = this.subtle; return this.key === e && this.fastAesKey || (this.key = e, this.fastAesKey = new li(n, e)), this.fastAesKey.expandKey().then((function (e) { return n ? (i.logOnce("WebCrypto AES decrypt"), new oi(n, new Uint8Array(r)).decrypt(t.buffer, e)) : Promise.reject(new Error("web crypto not initialized")) })).catch((function (n) { return w.warn("[decrypter]: WebCrypto Error, disable WebCrypto API, " + n.name + ": " + n.message), i.onWebCryptoError(t, e, r) })) }, e.onWebCryptoError = function (t, e, r) { this.useSoftware = !0, this.logEnabled = !0, this.softwareDecrypt(t, e, r); var i = this.flush(); if (i) return i.buffer; throw new Error("WebCrypto and softwareDecrypt: failed to decrypt data") }, e.getValidChunk = function (t) { var e = t, r = t.length - t.length % 16; return r !== t.length && (e = nt(t, 0, r), this.remainderData = nt(t, r)), e }, e.logOnce = function (t) { this.logEnabled && (w.log("[decrypter]: " + t), this.logEnabled = !1) }, t }(), di = function (t) { for (var e = "", r = t.length, i = 0; i < r; i++)e += "[" + t.start(i).toFixed(3) + "-" + t.end(i).toFixed(3) + "]"; return e }, ci = "STOPPED", fi = "IDLE", gi = "KEY_LOADING", vi = "FRAG_LOADING", mi = "FRAG_LOADING_WAITING_RETRY", pi = "WAITING_TRACK", yi = "PARSING", Ei = "PARSED", Ti = "ENDED", Si = "ERROR", Li = "WAITING_INIT_PTS", Ai = "WAITING_LEVEL", Ri = function (t) { function e(e, r, i, n, a) { var s; return (s = t.call(this) || this).hls = void 0, s.fragPrevious = null, s.fragCurrent = null, s.fragmentTracker = void 0, s.transmuxer = null, s._state = ci, s.playlistType = void 0, s.media = null, s.mediaBuffer = null, s.config = void 0, s.bitrateTest = !1, s.lastCurrentTime = 0, s.nextLoadPosition = 0, s.startPosition = 0, s.startTimeOffset = null, s.loadedmetadata = !1, s.retryDate = 0, s.levels = null, s.fragmentLoader = void 0, s.keyLoader = void 0, s.levelLastLoaded = null, s.startFragRequested = !1, s.decrypter = void 0, s.initPTS = [], s.onvseeking = null, s.onvended = null, s.logPrefix = "", s.log = void 0, s.warn = void 0, s.playlistType = a, s.logPrefix = n, s.log = w.log.bind(w, n + ":"), s.warn = w.warn.bind(w, n + ":"), s.hls = e, s.fragmentLoader = new ii(e.config), s.keyLoader = i, s.fragmentTracker = r, s.config = e.config, s.decrypter = new hi(e.config), e.on(S.MANIFEST_LOADED, s.onManifestLoaded, function (t) { if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return t }(s)), s } l(e, t); var r = e.prototype; return r.doTick = function () { this.onTickEnd() }, r.onTickEnd = function () { }, r.startLoad = function (t) { }, r.stopLoad = function () { this.fragmentLoader.abort(), this.keyLoader.abort(this.playlistType); var t = this.fragCurrent; null != t && t.loader && (t.abortRequests(), this.fragmentTracker.removeFragment(t)), this.resetTransmuxer(), this.fragCurrent = null, this.fragPrevious = null, this.clearInterval(), this.clearNextTick(), this.state = ci }, r._streamEnded = function (t, e) { if (e.live || t.nextStart || !t.end || !this.media) return !1; var r = e.partList; if (null != r && r.length) { var i = r[r.length - 1]; return zr.isBuffered(this.media, i.start + i.duration / 2) } var n = e.fragments[e.fragments.length - 1].type; return this.fragmentTracker.isEndListAppended(n) }, r.getLevelDetails = function () { var t; if (this.levels && null !== this.levelLastLoaded) return null == (t = this.levelLastLoaded) ? void 0 : t.details }, r.onMediaAttached = function (t, e) { var r = this.media = this.mediaBuffer = e.media; this.onvseeking = this.onMediaSeeking.bind(this), this.onvended = this.onMediaEnded.bind(this), r.addEventListener("seeking", this.onvseeking), r.addEventListener("ended", this.onvended); var i = this.config; this.levels && i.autoStartLoad && this.state === ci && this.startLoad(i.startPosition) }, r.onMediaDetaching = function () { var t = this.media; null != t && t.ended && (this.log("MSE detaching and video ended, reset startPosition"), this.startPosition = this.lastCurrentTime = 0), t && this.onvseeking && this.onvended && (t.removeEventListener("seeking", this.onvseeking), t.removeEventListener("ended", this.onvended), this.onvseeking = this.onvended = null), this.keyLoader && this.keyLoader.detach(), this.media = this.mediaBuffer = null, this.loadedmetadata = !1, this.fragmentTracker.removeAllFragments(), this.stopLoad() }, r.onMediaSeeking = function () { var t = this.config, e = this.fragCurrent, r = this.media, i = this.mediaBuffer, n = this.state, a = r ? r.currentTime : 0, s = zr.bufferInfo(i || r, a, t.maxBufferHole); if (this.log("media seeking to " + (y(a) ? a.toFixed(3) : a) + ", state: " + n), this.state === Ti) this.resetLoadingState(); else if (e) { var o = t.maxFragLookUpTolerance, l = e.start - o, u = e.start + e.duration + o; if (!s.len || u < s.start || l > s.end) { var h = a > u; (a < l || h) && (h && e.loader && (this.log("seeking outside of buffer while fragment load in progress, cancel fragment load"), e.abortRequests(), this.resetLoadingState()), this.fragPrevious = null) } } r && (this.fragmentTracker.removeFragmentsInRange(a, 1 / 0, this.playlistType, !0), this.lastCurrentTime = a), this.loadedmetadata || s.len || (this.nextLoadPosition = this.startPosition = a), this.tickImmediate() }, r.onMediaEnded = function () { this.startPosition = this.lastCurrentTime = 0 }, r.onManifestLoaded = function (t, e) { this.startTimeOffset = e.startTimeOffset, this.initPTS = [] }, r.onHandlerDestroying = function () { this.hls.off(S.MANIFEST_LOADED, this.onManifestLoaded, this), this.stopLoad(), t.prototype.onHandlerDestroying.call(this), this.hls = null }, r.onHandlerDestroyed = function () { this.state = ci, this.fragmentLoader && this.fragmentLoader.destroy(), this.keyLoader && this.keyLoader.destroy(), this.decrypter && this.decrypter.destroy(), this.hls = this.log = this.warn = this.decrypter = this.keyLoader = this.fragmentLoader = this.fragmentTracker = null, t.prototype.onHandlerDestroyed.call(this) }, r.loadFragment = function (t, e, r) { this._loadFragForPlayback(t, e, r) }, r._loadFragForPlayback = function (t, e, r) { var i = this; this._doFragLoad(t, e, r, (function (e) { if (i.fragContextChanged(t)) return i.warn("Fragment " + t.sn + (e.part ? " p: " + e.part.index : "") + " of level " + t.level + " was dropped during download."), void i.fragmentTracker.removeFragment(t); t.stats.chunkCount++, i._handleFragmentLoadProgress(e) })).then((function (e) { if (e) { var r = i.state; i.fragContextChanged(t) ? (r === vi || !i.fragCurrent && r === yi) && (i.fragmentTracker.removeFragment(t), i.state = fi) : ("payload" in e && (i.log("Loaded fragment " + t.sn + " of level " + t.level), i.hls.trigger(S.FRAG_LOADED, e)), i._handleFragmentLoadComplete(e)) } })).catch((function (e) { i.state !== ci && i.state !== Si && (i.warn(e), i.resetFragmentLoading(t)) })) }, r.clearTrackerIfNeeded = function (t) { var e, r = this.fragmentTracker; if (r.getState(t) === Hr) { var i = t.type, n = this.getFwdBufferInfo(this.mediaBuffer, i), a = Math.max(t.duration, n ? n.len : this.config.maxBufferLength); this.reduceMaxBufferLength(a) && r.removeFragment(t) } else 0 === (null == (e = this.mediaBuffer) ? void 0 : e.buffered.length) ? r.removeAllFragments() : r.hasParts(t.type) && (r.detectPartialFragments({ frag: t, part: null, stats: t.stats, id: t.type }), r.getState(t) === Vr && r.removeFragment(t)) }, r.checkLiveUpdate = function (t) { if (t.updated && !t.live) { var e = t.fragments[t.fragments.length - 1]; this.fragmentTracker.detectPartialFragments({ frag: e, part: null, stats: e.stats, id: e.type }) } t.fragments[0] || (t.deltaUpdateFailed = !0) }, r.flushMainBuffer = function (t, e, r) { if (void 0 === r && (r = null), t - e) { var i = { startOffset: t, endOffset: e, type: r }; this.hls.trigger(S.BUFFER_FLUSHING, i) } }, r._loadInitSegment = function (t, e) { var r = this; this._doFragLoad(t, e).then((function (e) { if (!e || r.fragContextChanged(t) || !r.levels) throw new Error("init load aborted"); return e })).then((function (e) { var i = r.hls, n = e.payload, a = t.decryptdata; if (n && n.byteLength > 0 && null != a && a.key && a.iv && "AES-128" === a.method) { var s = self.performance.now(); return r.decrypter.decrypt(new Uint8Array(n), a.key.buffer, a.iv.buffer).catch((function (e) { throw i.trigger(S.ERROR, { type: L.MEDIA_ERROR, details: A.FRAG_DECRYPT_ERROR, fatal: !1, error: e, reason: e.message, frag: t }), e })).then((function (n) { var a = self.performance.now(); return i.trigger(S.FRAG_DECRYPTED, { frag: t, payload: n, stats: { tstart: s, tdecrypt: a } }), e.payload = n, r.completeInitSegmentLoad(e) })) } return r.completeInitSegmentLoad(e) })).catch((function (e) { r.state !== ci && r.state !== Si && (r.warn(e), r.resetFragmentLoading(t)) })) }, r.completeInitSegmentLoad = function (t) { if (!this.levels) throw new Error("init load aborted, missing levels"); var e = t.frag.stats; this.state = fi, t.frag.data = new Uint8Array(t.payload), e.parsing.start = e.buffering.start = self.performance.now(), e.parsing.end = e.buffering.end = self.performance.now(), this.tick() }, r.fragContextChanged = function (t) { var e = this.fragCurrent; return !t || !e || t.sn !== e.sn || t.level !== e.level }, r.fragBufferedComplete = function (t, e) { var r, i, n, a, s = this.mediaBuffer ? this.mediaBuffer : this.media; if (this.log("Buffered " + t.type + " sn: " + t.sn + (e ? " part: " + e.index : "") + " of " + (this.playlistType === Ie ? "level" : "track") + " " + t.level + " (frag:[" + (null != (r = t.startPTS) ? r : NaN).toFixed(3) + "-" + (null != (i = t.endPTS) ? i : NaN).toFixed(3) + "] > buffer:" + (s ? di(zr.getBuffered(s)) : "(detached)") + ")"), "initSegment" !== t.sn) { var o; if (t.type !== Ce) { var l = t.elementaryStreams; if (!Object.keys(l).some((function (t) { return !!l[t] }))) return void (this.state = fi) } var u = null == (o = this.levels) ? void 0 : o[t.level]; null != u && u.fragmentError && (this.log("Resetting level fragment error count of " + u.fragmentError + " on frag buffered"), u.fragmentError = 0) } this.state = fi, s && (!this.loadedmetadata && t.type == Ie && s.buffered.length && (null == (n = this.fragCurrent) ? void 0 : n.sn) === (null == (a = this.fragPrevious) ? void 0 : a.sn) && (this.loadedmetadata = !0, this.seekToStartPos()), this.tick()) }, r.seekToStartPos = function () { }, r._handleFragmentLoadComplete = function (t) { var e = this.transmuxer; if (e) { var r = t.frag, i = t.part, n = t.partsLoaded, a = !n || 0 === n.length || n.some((function (t) { return !t })), s = new Qr(r.level, r.sn, r.stats.chunkCount + 1, 0, i ? i.index : -1, !a); e.flush(s) } }, r._handleFragmentLoadProgress = function (t) { }, r._doFragLoad = function (t, e, r, i) { var n, a = this; void 0 === r && (r = null); var s = null == e ? void 0 : e.details; if (!this.levels || !s) throw new Error("frag load aborted, missing level" + (s ? "" : " detail") + "s"); var o = null; if (!t.encrypted || null != (n = t.decryptdata) && n.key ? !t.encrypted && s.encryptedFragments.length && this.keyLoader.loadClear(t, s.encryptedFragments) : (this.log("Loading key for " + t.sn + " of [" + s.startSN + "-" + s.endSN + "], " + ("[stream-controller]" === this.logPrefix ? "level" : "track") + " " + t.level), this.state = gi, this.fragCurrent = t, o = this.keyLoader.load(t).then((function (t) { if (!a.fragContextChanged(t.frag)) return a.hls.trigger(S.KEY_LOADED, t), a.state === gi && (a.state = fi), t })), this.hls.trigger(S.KEY_LOADING, { frag: t }), null === this.fragCurrent && (o = Promise.reject(new Error("frag load aborted, context changed in KEY_LOADING")))), r = Math.max(t.start, r || 0), this.config.lowLatencyMode && "initSegment" !== t.sn) { var l = s.partList; if (l && i) { r > t.end && s.fragmentHint && (t = s.fragmentHint); var u = this.getNextPart(l, t, r); if (u > -1) { var h, d = l[u]; return this.log("Loading part sn: " + t.sn + " p: " + d.index + " cc: " + t.cc + " of playlist [" + s.startSN + "-" + s.endSN + "] parts [0-" + u + "-" + (l.length - 1) + "] " + ("[stream-controller]" === this.logPrefix ? "level" : "track") + ": " + t.level + ", target: " + parseFloat(r.toFixed(3))), this.nextLoadPosition = d.start + d.duration, this.state = vi, h = o ? o.then((function (r) { return !r || a.fragContextChanged(r.frag) ? null : a.doFragPartsLoad(t, d, e, i) })).catch((function (t) { return a.handleFragLoadError(t) })) : this.doFragPartsLoad(t, d, e, i).catch((function (t) { return a.handleFragLoadError(t) })), this.hls.trigger(S.FRAG_LOADING, { frag: t, part: d, targetBufferTime: r }), null === this.fragCurrent ? Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING parts")) : h } if (!t.url || this.loadedEndOfParts(l, r)) return Promise.resolve(null) } } this.log("Loading fragment " + t.sn + " cc: " + t.cc + " " + (s ? "of [" + s.startSN + "-" + s.endSN + "] " : "") + ("[stream-controller]" === this.logPrefix ? "level" : "track") + ": " + t.level + ", target: " + parseFloat(r.toFixed(3))), y(t.sn) && !this.bitrateTest && (this.nextLoadPosition = t.start + t.duration), this.state = vi; var c, f = this.config.progressive; return c = f && o ? o.then((function (e) { return !e || a.fragContextChanged(null == e ? void 0 : e.frag) ? null : a.fragmentLoader.load(t, i) })).catch((function (t) { return a.handleFragLoadError(t) })) : Promise.all([this.fragmentLoader.load(t, f ? i : void 0), o]).then((function (t) { var e = t[0]; return !f && e && i && i(e), e })).catch((function (t) { return a.handleFragLoadError(t) })), this.hls.trigger(S.FRAG_LOADING, { frag: t, targetBufferTime: r }), null === this.fragCurrent ? Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING")) : c }, r.doFragPartsLoad = function (t, e, r, i) { var n = this; return new Promise((function (a, s) { var o, l = [], u = null == (o = r.details) ? void 0 : o.partList; !function e(o) { n.fragmentLoader.loadPart(t, o, i).then((function (i) { l[o.index] = i; var s = i.part; n.hls.trigger(S.FRAG_LOADED, i); var h = or(r, t.sn, o.index + 1) || lr(u, t.sn, o.index + 1); if (!h) return a({ frag: t, part: s, partsLoaded: l }); e(h) })).catch(s) }(e) })) }, r.handleFragLoadError = function (t) { if ("data" in t) { var e = t.data; t.data && e.details === A.INTERNAL_ABORTED ? this.handleFragLoadAborted(e.frag, e.part) : this.hls.trigger(S.ERROR, e) } else this.hls.trigger(S.ERROR, { type: L.OTHER_ERROR, details: A.INTERNAL_EXCEPTION, err: t, error: t, fatal: !0 }); return null }, r._handleTransmuxerFlush = function (t) { var e = this.getCurrentContext(t); if (e && this.state === yi) { var r = e.frag, i = e.part, n = e.level, a = self.performance.now(); r.stats.parsing.end = a, i && (i.stats.parsing.end = a), this.updateLevelTiming(r, i, n, t.partial) } else this.fragCurrent || this.state === ci || this.state === Si || (this.state = fi) }, r.getCurrentContext = function (t) { var e = this.levels, r = this.fragCurrent, i = t.level, n = t.sn, a = t.part; if (null == e || !e[i]) return this.warn("Levels object was unset while buffering fragment " + n + " of level " + i + ". The current chunk will not be buffered."), null; var s = e[i], o = a > -1 ? or(s, n, a) : null, l = o ? o.fragment : function (t, e, r) { if (null == t || !t.details) return null; var i = t.details, n = i.fragments[e - i.startSN]; return n || ((n = i.fragmentHint) && n.sn === e ? n : e < i.startSN && r && r.sn === e ? r : null) }(s, n, r); return l ? (r && r !== l && (l.stats = r.stats), { frag: l, part: o, level: s }) : null }, r.bufferFragmentData = function (t, e, r, i, n) { var a; if (t && this.state === yi) { var s = t.data1, o = t.data2, l = s; if (s && o && (l = Gt(s, o)), null != (a = l) && a.length) { var u = { type: t.type, frag: e, part: r, chunkMeta: i, parent: e.type, data: l }; if (this.hls.trigger(S.BUFFER_APPENDING, u), t.dropped && t.independent && !r) { if (n) return; this.flushBufferGap(e) } } } }, r.flushBufferGap = function (t) { var e = this.media; if (e) if (zr.isBuffered(e, e.currentTime)) { var r = e.currentTime, i = zr.bufferInfo(e, r, 0), n = t.duration, a = Math.min(2 * this.config.maxFragLookUpTolerance, .25 * n), s = Math.max(Math.min(t.start - a, i.end - a), r + a); t.start - s > a && this.flushMainBuffer(s, t.start) } else this.flushMainBuffer(0, t.start) }, r.getFwdBufferInfo = function (t, e) { var r = this.getLoadPosition(); return y(r) ? this.getFwdBufferInfoAtPos(t, r, e) : null }, r.getFwdBufferInfoAtPos = function (t, e, r) { var i = this.config.maxBufferHole, n = zr.bufferInfo(t, e, i); if (0 === n.len && void 0 !== n.nextStart) { var a = this.fragmentTracker.getBufferedFrag(e, r); if (a && n.nextStart < a.end) return zr.bufferInfo(t, e, Math.max(n.nextStart, i)) } return n }, r.getMaxBufferLength = function (t) { var e, r = this.config; return e = t ? Math.max(8 * r.maxBufferSize / t, r.maxBufferLength) : r.maxBufferLength, Math.min(e, r.maxMaxBufferLength) }, r.reduceMaxBufferLength = function (t) { var e = this.config, r = t || e.maxBufferLength; return e.maxMaxBufferLength >= r && (e.maxMaxBufferLength /= 2, this.warn("Reduce max buffer length to " + e.maxMaxBufferLength + "s"), !0) }, r.getAppendedFrag = function (t, e) { var r = this.fragmentTracker.getAppendedFrag(t, Ie); return r && "fragment" in r ? r.fragment : r }, r.getNextFragment = function (t, e) { var r = e.fragments, i = r.length; if (!i) return null; var n, a = this.config, s = r[0].start; if (e.live) { var o = a.initialLiveManifestSize; if (i < o) return this.warn("Not enough fragments to start playback (have: " + i + ", need: " + o + ")"), null; (!e.PTSKnown && !this.startFragRequested && -1 === this.startPosition || t < s) && (n = this.getInitialLiveFragment(e, r), this.startPosition = this.nextLoadPosition = n ? this.hls.liveSyncPosition || n.start : t) } else t <= s && (n = r[0]); if (!n) { var l = a.lowLatencyMode ? e.partEnd : e.fragmentEnd; n = this.getFragmentAtPosition(t, l, e) } return this.mapToInitFragWhenRequired(n) }, r.isLoopLoading = function (t, e) { var r = this.fragmentTracker.getState(t); return (r === Yr || r === Vr && !!t.gap) && this.nextLoadPosition > e }, r.getNextFragmentLoopLoading = function (t, e, r, i, n) { var a = t.gap, s = this.getNextFragment(this.nextLoadPosition, e); if (null === s) return s; if (t = s, a && t && !t.gap && r.nextStart) { var o = this.getFwdBufferInfoAtPos(this.mediaBuffer ? this.mediaBuffer : this.media, r.nextStart, i); if (null !== o && r.len + o.len >= n) return this.log('buffer full after gaps in "' + i + '" playlist starting at sn: ' + t.sn), null } return t }, r.mapToInitFragWhenRequired = function (t) { return null == t || !t.initSegment || null != t && t.initSegment.data || this.bitrateTest ? t : t.initSegment }, r.getNextPart = function (t, e, r) { for (var i = -1, n = !1, a = !0, s = 0, o = t.length; s < o; s++) { var l = t[s]; if (a = a && !l.independent, i > -1 && r < l.start) break; var u = l.loaded; u ? i = -1 : (n || l.independent || a) && l.fragment === e && (i = s), n = u } return i }, r.loadedEndOfParts = function (t, e) { var r = t[t.length - 1]; return r && e > r.start && r.loaded }, r.getInitialLiveFragment = function (t, e) { var r = this.fragPrevious, i = null; if (r) { if (t.hasProgramDateTime && (this.log("Live playlist, switching playlist, load frag with same PDT: " + r.programDateTime), i = function (t, e, r) { if (null === e || !Array.isArray(t) || !t.length || !y(e)) return null; if (e < (t[0].programDateTime || 0)) return null; if (e >= (t[t.length - 1].endProgramDateTime || 0)) return null; r = r || 0; for (var i = 0; i < t.length; ++i) { var n = t[i]; if (yr(e, r, n)) return n } return null }(e, r.endProgramDateTime, this.config.maxFragLookUpTolerance)), !i) { var n = r.sn + 1; if (n >= t.startSN && n <= t.endSN) { var a = e[n - t.startSN]; r.cc === a.cc && (i = a, this.log("Live playlist, switching playlist, load frag with next SN: " + i.sn)) } i || (i = function (t, e) { return vr(t, (function (t) { return t.cc < e ? 1 : t.cc > e ? -1 : 0 })) }(e, r.cc), i && this.log("Live playlist, switching playlist, load frag with same CC: " + i.sn)) } } else { var s = this.hls.liveSyncPosition; null !== s && (i = this.getFragmentAtPosition(s, this.bitrateTest ? t.fragmentEnd : t.edge, t)) } return i }, r.getFragmentAtPosition = function (t, e, r) { var i, n = this.config, a = this.fragPrevious, s = r.fragments, o = r.endSN, l = r.fragmentHint, u = n.maxFragLookUpTolerance, h = r.partList, d = !!(n.lowLatencyMode && null != h && h.length && l); if (d && l && !this.bitrateTest && (s = s.concat(l), o = l.sn), i = t < e ? mr(a, s, t, t > e - u ? 0 : u) : s[s.length - 1]) { var c = i.sn - r.startSN, f = this.fragmentTracker.getState(i); if ((f === Yr || f === Vr && i.gap) && (a = i), a && i.sn === a.sn && (!d || h[0].fragment.sn > i.sn) && a && i.level === a.level) { var g = s[c + 1]; i = i.sn < o && this.fragmentTracker.getState(g) !== Yr ? g : null } } return i }, r.synchronizeToLiveEdge = function (t) { var e = this.config, r = this.media; if (r) { var i = this.hls.liveSyncPosition, n = r.currentTime, a = t.fragments[0].start, s = t.edge, o = n >= a - e.maxFragLookUpTolerance && n <= s; if (null !== i && r.duration > i && (n < i || !o)) { var l = void 0 !== e.liveMaxLatencyDuration ? e.liveMaxLatencyDuration : e.liveMaxLatencyDurationCount * t.targetduration; (!o && r.readyState < 4 || n < s - l) && (this.loadedmetadata || (this.nextLoadPosition = i), r.readyState && (this.warn("Playback: " + n.toFixed(3) + " is located too far from the end of live sliding playlist: " + s + ", reset currentTime to : " + i.toFixed(3)), r.currentTime = i)) } } }, r.alignPlaylists = function (t, e, r) { var i = t.fragments.length; if (!i) return this.warn("No fragments in live playlist"), 0; var n = t.fragments[0].start, a = !e, s = t.alignedSliding && y(n); if (a || !s && !n) { var o = this.fragPrevious; ti(o, r, t); var l = t.fragments[0].start; return this.log("Live playlist sliding: " + l.toFixed(2) + " start-sn: " + (e ? e.startSN : "na") + "->" + t.startSN + " prev-sn: " + (o ? o.sn : "na") + " fragments: " + i), l } return n }, r.waitForCdnTuneIn = function (t) { return t.live && t.canBlockReload && t.partTarget && t.tuneInGoal > Math.max(t.partHoldBack, 3 * t.partTarget) }, r.setStartPosition = function (t, e) { var r = this.startPosition; if (r < e && (r = -1), -1 === r || -1 === this.lastCurrentTime) { var i = null !== this.startTimeOffset, n = i ? this.startTimeOffset : t.startTimeOffset; null !== n && y(n) ? (r = e + n, n < 0 && (r += t.totalduration), r = Math.min(Math.max(e, r), e + t.totalduration), this.log("Start time offset " + n + " found in " + (i ? "multivariant" : "media") + " playlist, adjust startPosition to " + r), this.startPosition = r) : t.live ? r = this.hls.liveSyncPosition || e : this.startPosition = r = 0, this.lastCurrentTime = r } this.nextLoadPosition = r }, r.getLoadPosition = function () { var t = this.media, e = 0; return this.loadedmetadata && t ? e = t.currentTime : this.nextLoadPosition && (e = this.nextLoadPosition), e }, r.handleFragLoadAborted = function (t, e) { this.transmuxer && "initSegment" !== t.sn && t.stats.aborted && (this.warn("Fragment " + t.sn + (e ? " part " + e.index : "") + " of level " + t.level + " was aborted"), this.resetFragmentLoading(t)) }, r.resetFragmentLoading = function (t) { this.fragCurrent && (this.fragContextChanged(t) || this.state === mi) || (this.state = fi) }, r.onFragmentOrKeyLoadError = function (t, e) { if (e.chunkMeta && !e.frag) { var r = this.getCurrentContext(e.chunkMeta); r && (e.frag = r.frag) } var i = e.frag; if (i && i.type === t && this.levels) if (this.fragContextChanged(i)) { var n; this.warn("Frag load error must match current frag to retry " + i.url + " > " + (null == (n = this.fragCurrent) ? void 0 : n.url)) } else { var a = e.details === A.FRAG_GAP; a && this.fragmentTracker.fragBuffered(i, !0); var s = e.errorAction, o = s || {}, l = o.action, u = o.retryCount, h = void 0 === u ? 0 : u, d = o.retryConfig; if (s && l === Lr && d) { this.resetStartWhenNotLoaded(this.levelLastLoaded); var c = cr(d, h); this.warn("Fragment " + i.sn + " of " + t + " " + i.level + " errored with " + e.details + ", retrying loading " + (h + 1) + "/" + d.maxNumRetry + " in " + c + "ms"), s.resolved = !0, this.retryDate = self.performance.now() + c, this.state = mi } else if (d && s) { if (this.resetFragmentErrors(t), !(h < d.maxNumRetry)) return void w.warn(e.details + " reached or exceeded max retry (" + h + ")"); a || l === Sr || (s.resolved = !0) } else (null == s ? void 0 : s.action) === Tr ? this.state = Ai : this.state = Si; this.tickImmediate() } }, r.reduceLengthAndFlushBuffer = function (t) { if (this.state === yi || this.state === Ei) { var e = t.parent, r = this.getFwdBufferInfo(this.mediaBuffer, e), i = r && r.len > .5; i && this.reduceMaxBufferLength(r.len); var n = !i; return n && this.warn("Buffer full error while media.currentTime is not buffered, flush " + e + " buffer"), t.frag && (this.fragmentTracker.removeFragment(t.frag), this.nextLoadPosition = t.frag.start), this.resetLoadingState(), n } return !1 }, r.resetFragmentErrors = function (t) { t === we && (this.fragCurrent = null), this.loadedmetadata || (this.startFragRequested = !1), this.state !== ci && (this.state = fi) }, r.afterBufferFlushed = function (t, e, r) { if (t) { var i = zr.getBuffered(t); this.fragmentTracker.detectEvictedFragments(e, i, r), this.state === Ti && this.resetLoadingState() } }, r.resetLoadingState = function () { this.log("Reset loading state"), this.fragCurrent = null, this.fragPrevious = null, this.state = fi }, r.resetStartWhenNotLoaded = function (t) { if (!this.loadedmetadata) { this.startFragRequested = !1; var e = t ? t.details : null; null != e && e.live ? (this.startPosition = -1, this.setStartPosition(e, 0), this.resetLoadingState()) : this.nextLoadPosition = this.startPosition } }, r.resetWhenMissingContext = function (t) { this.warn("The loading context changed while buffering fragment " + t.sn + " of level " + t.level + ". This chunk will not be buffered."), this.removeUnbufferedFrags(), this.resetStartWhenNotLoaded(this.levelLastLoaded), this.resetLoadingState() }, r.removeUnbufferedFrags = function (t) { void 0 === t && (t = 0), this.fragmentTracker.removeFragmentsInRange(t, 1 / 0, this.playlistType, !1, !0) }, r.updateLevelTiming = function (t, e, r, i) { var n, a = this, s = r.details; if (s) { if (!Object.keys(t.elementaryStreams).reduce((function (e, n) { var o = t.elementaryStreams[n]; if (o) { var l = o.endPTS - o.startPTS; if (l <= 0) return a.warn("Could not parse fragment " + t.sn + " " + n + " duration reliably (" + l + ")"), e || !1; var u = i ? 0 : ir(s, t, o.startPTS, o.endPTS, o.startDTS, o.endDTS); return a.hls.trigger(S.LEVEL_PTS_UPDATED, { details: s, level: r, drift: u, type: n, frag: t, start: o.startPTS, end: o.endPTS }), !0 } return e }), !1) && null === (null == (n = this.transmuxer) ? void 0 : n.error)) { var o = new Error("Found no media in fragment " + t.sn + " of level " + t.level + " resetting transmuxer to fallback to playlist timing"); if (0 === r.fragmentError && (r.fragmentError++, t.gap = !0, this.fragmentTracker.removeFragment(t), this.fragmentTracker.fragBuffered(t, !0)), this.warn(o.message), this.hls.trigger(S.ERROR, { type: L.MEDIA_ERROR, details: A.FRAG_PARSING_ERROR, fatal: !1, error: o, frag: t, reason: "Found no media in msn " + t.sn + ' of level "' + r.url + '"' }), !this.hls) return; this.resetTransmuxer() } this.state = Ei, this.hls.trigger(S.FRAG_PARSED, { frag: t, part: e }) } else this.warn("level.details undefined") }, r.resetTransmuxer = function () { this.transmuxer && (this.transmuxer.destroy(), this.transmuxer = null) }, r.recoverWorkerError = function (t) { "demuxerWorker" === t.event && (this.fragmentTracker.removeAllFragments(), this.resetTransmuxer(), this.resetStartWhenNotLoaded(this.levelLastLoaded), this.resetLoadingState()) }, s(e, [{ key: "state", get: function () { return this._state }, set: function (t) { var e = this._state; e !== t && (this._state = t, this.log(e + "->" + t)) } }]), e }(Gr), ki = function () { function t() { this.chunks = [], this.dataLength = 0 } var e = t.prototype; return e.push = function (t) { this.chunks.push(t), this.dataLength += t.length }, e.flush = function () { var t, e = this.chunks, r = this.dataLength; return e.length ? (t = 1 === e.length ? e[0] : function (t, e) { for (var r = new Uint8Array(e), i = 0, n = 0; n < t.length; n++) { var a = t[n]; r.set(a, i), i += a.length } return r }(e, r), this.reset(), t) : new Uint8Array(0) }, e.reset = function () { this.chunks.length = 0, this.dataLength = 0 }, t }(); function bi(t, e) { return void 0 === t && (t = ""), void 0 === e && (e = 9e4), { type: t, id: -1, pid: -1, inputTimeScale: e, sequenceNumber: -1, samples: [], dropped: 0 } } var Di = function () { function t() { this._audioTrack = void 0, this._id3Track = void 0, this.frameIndex = 0, this.cachedData = null, this.basePTS = null, this.initPTS = null, this.lastPTS = null } var e = t.prototype; return e.resetInitSegment = function (t, e, r, i) { this._id3Track = { type: "id3", id: 3, pid: -1, inputTimeScale: 9e4, sequenceNumber: 0, samples: [], dropped: 0 } }, e.resetTimeStamp = function (t) { this.initPTS = t, this.resetContiguity() }, e.resetContiguity = function () { this.basePTS = null, this.lastPTS = null, this.frameIndex = 0 }, e.canParse = function (t, e) { return !1 }, e.appendFrame = function (t, e, r) { }, e.demux = function (t, e) { this.cachedData && (t = Gt(this.cachedData, t), this.cachedData = null); var r, i = lt(t, 0), n = i ? i.length : 0, a = this._audioTrack, s = this._id3Track, o = i ? dt(i) : void 0, l = t.length; for ((null === this.basePTS || 0 === this.frameIndex && y(o)) && (this.basePTS = Ii(o, e, this.initPTS), this.lastPTS = this.basePTS), null === this.lastPTS && (this.lastPTS = this.basePTS), i && i.length > 0 && s.samples.push({ pts: this.lastPTS, dts: this.lastPTS, data: i, type: Be, duration: Number.POSITIVE_INFINITY }); n < l;) { if (this.canParse(t, n)) { var u = this.appendFrame(a, t, n); u ? (this.frameIndex++, this.lastPTS = u.sample.pts, r = n += u.length) : n = l } else ht(t, n) ? (i = lt(t, n), s.samples.push({ pts: this.lastPTS, dts: this.lastPTS, data: i, type: Be, duration: Number.POSITIVE_INFINITY }), r = n += i.length) : n++; if (n === l && r !== l) { var h = nt(t, r); this.cachedData ? this.cachedData = Gt(this.cachedData, h) : this.cachedData = h } } return { audioTrack: a, videoTrack: bi(), id3Track: s, textTrack: bi() } }, e.demuxSampleAes = function (t, e, r) { return Promise.reject(new Error("[" + this + "] This demuxer does not support Sample-AES decryption")) }, e.flush = function (t) { var e = this.cachedData; return e && (this.cachedData = null, this.demux(e, 0)), { audioTrack: this._audioTrack, videoTrack: bi(), id3Track: this._id3Track, textTrack: bi() } }, e.destroy = function () { }, t }(), Ii = function (t, e, r) { return y(t) ? 90 * t : 9e4 * e + (r ? 9e4 * r.baseTime / r.timescale : 0) }; function wi(t, e) { return 255 === t[e] && 240 == (246 & t[e + 1]) } function Ci(t, e) { return 1 & t[e + 1] ? 7 : 9 } function _i(t, e) { return (3 & t[e + 3]) << 11 | t[e + 4] << 3 | (224 & t[e + 5]) >>> 5 } function xi(t, e) { return e + 1 < t.length && wi(t, e) } function Pi(t, e) { if (xi(t, e)) { var r = Ci(t, e); if (e + r >= t.length) return !1; var i = _i(t, e); if (i <= r) return !1; var n = e + i; return n === t.length || xi(t, n) } return !1 } function Fi(t, e, r, i, n) { if (!t.samplerate) { var a = function (t, e, r, i) { var n, a, s, o, l = navigator.userAgent.toLowerCase(), u = i, h = [96e3, 88200, 64e3, 48e3, 44100, 32e3, 24e3, 22050, 16e3, 12e3, 11025, 8e3, 7350]; n = 1 + ((192 & e[r + 2]) >>> 6); var d = (60 & e[r + 2]) >>> 2; if (!(d > h.length - 1)) return s = (1 & e[r + 2]) << 2, s |= (192 & e[r + 3]) >>> 6, w.log("manifest codec:" + i + ", ADTS type:" + n + ", samplingIndex:" + d), /firefox/i.test(l) ? d >= 6 ? (n = 5, o = new Array(4), a = d - 3) : (n = 2, o = new Array(2), a = d) : -1 !== l.indexOf("android") ? (n = 2, o = new Array(2), a = d) : (n = 5, o = new Array(4), i && (-1 !== i.indexOf("mp4a.40.29") || -1 !== i.indexOf("mp4a.40.5")) || !i && d >= 6 ? a = d - 3 : ((i && -1 !== i.indexOf("mp4a.40.2") && (d >= 6 && 1 === s || /vivaldi/i.test(l)) || !i && 1 === s) && (n = 2, o = new Array(2)), a = d)), o[0] = n << 3, o[0] |= (14 & d) >> 1, o[1] |= (1 & d) << 7, o[1] |= s << 3, 5 === n && (o[1] |= (14 & a) >> 1, o[2] = (1 & a) << 7, o[2] |= 8, o[3] = 0), { config: o, samplerate: h[d], channelCount: s, codec: "mp4a.40." + n, manifestCodec: u }; var c = new Error("invalid ADTS sampling index:" + d); t.emit(S.ERROR, S.ERROR, { type: L.MEDIA_ERROR, details: A.FRAG_PARSING_ERROR, fatal: !0, error: c, reason: c.message }) }(e, r, i, n); if (!a) return; t.config = a.config, t.samplerate = a.samplerate, t.channelCount = a.channelCount, t.codec = a.codec, t.manifestCodec = a.manifestCodec, w.log("parsed codec:" + t.codec + ", rate:" + a.samplerate + ", channels:" + a.channelCount) } } function Mi(t) { return 9216e4 / t } function Oi(t, e, r, i, n) { var a, s = i + n * Mi(t.samplerate), o = function (t, e) { var r = Ci(t, e); if (e + r <= t.length) { var i = _i(t, e) - r; if (i > 0) return { headerLength: r, frameLength: i } } }(e, r); if (o) { var l = o.frameLength, u = o.headerLength, h = u + l, d = Math.max(0, r + h - e.length); d ? (a = new Uint8Array(h - u)).set(e.subarray(r + u, e.length), 0) : a = e.subarray(r + u, r + h); var c = { unit: a, pts: s }; return d || t.samples.push(c), { sample: c, length: h, missing: d } } var f = e.length - r; return (a = new Uint8Array(f)).set(e.subarray(r, e.length), 0), { sample: { unit: a, pts: s }, length: f, missing: -1 } } var Ni = null, Ui = [32, 64, 96, 128, 160, 192, 224, 256, 288, 320, 352, 384, 416, 448, 32, 48, 56, 64, 80, 96, 112, 128, 160, 192, 224, 256, 320, 384, 32, 40, 48, 56, 64, 80, 96, 112, 128, 160, 192, 224, 256, 320, 32, 48, 56, 64, 80, 96, 112, 128, 144, 160, 176, 192, 224, 256, 8, 16, 24, 32, 40, 48, 56, 64, 80, 96, 112, 128, 144, 160], Bi = [44100, 48e3, 32e3, 22050, 24e3, 16e3, 11025, 12e3, 8e3], Gi = [[0, 72, 144, 12], [0, 0, 0, 0], [0, 72, 144, 12], [0, 144, 144, 12]], Ki = [0, 1, 1, 4]; function Hi(t, e, r, i, n) { if (!(r + 24 > e.length)) { var a = Vi(e, r); if (a && r + a.frameLength <= e.length) { var s = i + n * (9e4 * a.samplesPerFrame / a.sampleRate), o = { unit: e.subarray(r, r + a.frameLength), pts: s, dts: s }; return t.config = [], t.channelCount = a.channelCount, t.samplerate = a.sampleRate, t.samples.push(o), { sample: o, length: a.frameLength, missing: 0 } } } } function Vi(t, e) { var r = t[e + 1] >> 3 & 3, i = t[e + 1] >> 1 & 3, n = t[e + 2] >> 4 & 15, a = t[e + 2] >> 2 & 3; if (1 !== r && 0 !== n && 15 !== n && 3 !== a) { var s = t[e + 2] >> 1 & 1, o = t[e + 3] >> 6, l = 1e3 * Ui[14 * (3 === r ? 3 - i : 3 === i ? 3 : 4) + n - 1], u = Bi[3 * (3 === r ? 0 : 2 === r ? 1 : 2) + a], h = 3 === o ? 1 : 2, d = Gi[r][i], c = Ki[i], f = 8 * d * c, g = Math.floor(d * l / u + s) * c; if (null === Ni) { var v = (navigator.userAgent || "").match(/Chrome\/(\d+)/i); Ni = v ? parseInt(v[1]) : 0 } return !!Ni && Ni <= 87 && 2 === i && l >= 224e3 && 0 === o && (t[e + 3] = 128 | t[e + 3]), { sampleRate: u, channelCount: h, frameLength: g, samplesPerFrame: f } } } function Yi(t, e) { return 255 === t[e] && 224 == (224 & t[e + 1]) && 0 != (6 & t[e + 1]) } function Wi(t, e) { return e + 1 < t.length && Yi(t, e) } function ji(t, e) { if (e + 1 < t.length && Yi(t, e)) { var r = Vi(t, e), i = 4; null != r && r.frameLength && (i = r.frameLength); var n = e + i; return n === t.length || Wi(t, n) } return !1 } var qi = function (t) { function e(e, r) { var i; return (i = t.call(this) || this).observer = void 0, i.config = void 0, i.observer = e, i.config = r, i } l(e, t); var r = e.prototype; return r.resetInitSegment = function (e, r, i, n) { t.prototype.resetInitSegment.call(this, e, r, i, n), this._audioTrack = { container: "audio/adts", type: "audio", id: 2, pid: -1, sequenceNumber: 0, segmentCodec: "aac", samples: [], manifestCodec: r, duration: n, inputTimeScale: 9e4, dropped: 0 } }, e.probe = function (t) { if (!t) return !1; var e = lt(t, 0), r = (null == e ? void 0 : e.length) || 0; if (ji(t, r)) return !1; for (var i = t.length; r < i; r++)if (Pi(t, r)) return w.log("ADTS sync word found !"), !0; return !1 }, r.canParse = function (t, e) { return function (t, e) { return function (t, e) { return e + 5 < t.length }(t, e) && wi(t, e) && _i(t, e) <= t.length - e }(t, e) }, r.appendFrame = function (t, e, r) { Fi(t, this.observer, e, r, t.manifestCodec); var i = Oi(t, e, r, this.basePTS, this.frameIndex); if (i && 0 === i.missing) return i }, e }(Di), Xi = /\/emsg[-/]ID3/i, zi = function () { function t(t, e) { this.remainderData = null, this.timeOffset = 0, this.config = void 0, this.videoTrack = void 0, this.audioTrack = void 0, this.id3Track = void 0, this.txtTrack = void 0, this.config = e } var e = t.prototype; return e.resetTimeStamp = function () { }, e.resetInitSegment = function (t, e, r, i) { var n = this.videoTrack = bi("video", 1), a = this.audioTrack = bi("audio", 1), s = this.txtTrack = bi("text", 1); if (this.id3Track = bi("id3", 1), this.timeOffset = 0, null != t && t.byteLength) { var o = Pt(t); if (o.video) { var l = o.video, u = l.id, h = l.timescale, d = l.codec; n.id = u, n.timescale = s.timescale = h, n.codec = d } if (o.audio) { var c = o.audio, f = c.id, g = c.timescale, v = c.codec; a.id = f, a.timescale = g, a.codec = v } s.id = kt.text, n.sampleDuration = 0, n.duration = a.duration = i } }, e.resetContiguity = function () { this.remainderData = null }, t.probe = function (t) { return function (t) { for (var e = t.byteLength, r = 0; r < e;) { var i = It(t, r); if (i > 8 && 109 === t[r + 4] && 111 === t[r + 5] && 111 === t[r + 6] && 102 === t[r + 7]) return !0; r = i > 1 ? r + i : e } return !1 }(t) }, e.demux = function (t, e) { this.timeOffset = e; var r = t, i = this.videoTrack, n = this.txtTrack; if (this.config.progressive) { this.remainderData && (r = Gt(this.remainderData, t)); var a = function (t) { var e = { valid: null, remainder: null }, r = _t(t, ["moof"]); if (r.length < 2) return e.remainder = t, e; var i = r[r.length - 1]; return e.valid = nt(t, 0, i.byteOffset - 8), e.remainder = nt(t, i.byteOffset - 8), e }(r); this.remainderData = a.remainder, i.samples = a.valid || new Uint8Array } else i.samples = r; var s = this.extractID3Track(i, e); return n.samples = Kt(e, i), { videoTrack: i, audioTrack: this.audioTrack, id3Track: s, textTrack: this.txtTrack } }, e.flush = function () { var t = this.timeOffset, e = this.videoTrack, r = this.txtTrack; e.samples = this.remainderData || new Uint8Array, this.remainderData = null; var i = this.extractID3Track(e, this.timeOffset); return r.samples = Kt(t, e), { videoTrack: e, audioTrack: bi(), id3Track: i, textTrack: bi() } }, e.extractID3Track = function (t, e) { var r = this.id3Track; if (t.samples.length) { var i = _t(t.samples, ["emsg"]); i && i.forEach((function (t) { var i = function (t) { var e = t[0], r = "", i = "", n = 0, a = 0, s = 0, o = 0, l = 0, u = 0; if (0 === e) { for (; "\0" !== bt(t.subarray(u, u + 1));)r += bt(t.subarray(u, u + 1)), u += 1; for (r += bt(t.subarray(u, u + 1)), u += 1; "\0" !== bt(t.subarray(u, u + 1));)i += bt(t.subarray(u, u + 1)), u += 1; i += bt(t.subarray(u, u + 1)), u += 1, n = It(t, 12), a = It(t, 16), o = It(t, 20), l = It(t, 24), u = 28 } else if (1 === e) { n = It(t, u += 4); var h = It(t, u += 4), d = It(t, u += 4); for (u += 4, s = Math.pow(2, 32) * h + d, E(s) || (s = Number.MAX_SAFE_INTEGER, w.warn("Presentation time exceeds safe integer limit and wrapped to max safe integer in parsing emsg box")), o = It(t, u), l = It(t, u += 4), u += 4; "\0" !== bt(t.subarray(u, u + 1));)r += bt(t.subarray(u, u + 1)), u += 1; for (r += bt(t.subarray(u, u + 1)), u += 1; "\0" !== bt(t.subarray(u, u + 1));)i += bt(t.subarray(u, u + 1)), u += 1; i += bt(t.subarray(u, u + 1)), u += 1 } return { schemeIdUri: r, value: i, timeScale: n, presentationTime: s, presentationTimeDelta: a, eventDuration: o, id: l, payload: t.subarray(u, t.byteLength) } }(t); if (Xi.test(i.schemeIdUri)) { var n = y(i.presentationTime) ? i.presentationTime / i.timeScale : e + i.presentationTimeDelta / i.timeScale, a = 4294967295 === i.eventDuration ? Number.POSITIVE_INFINITY : i.eventDuration / i.timeScale; a <= .001 && (a = Number.POSITIVE_INFINITY); var s = i.payload; r.samples.push({ data: s, len: s.byteLength, dts: n, pts: n, type: Ke, duration: a }) } })) } return r }, e.demuxSampleAes = function (t, e, r) { return Promise.reject(new Error("The MP4 demuxer does not support SAMPLE-AES decryption")) }, e.destroy = function () { }, t }(), Qi = function (t, e) { var r = 0, i = 5; e += i; for (var n = new Uint32Array(1), a = new Uint32Array(1), s = new Uint8Array(1); i > 0;) { s[0] = t[e]; var o = Math.min(i, 8), l = 8 - o; a[0] = 4278190080 >>> 24 + l << l, n[0] = (s[0] & a[0]) >> l, r = r ? r << o | n[0] : n[0], e += 1, i -= o } return r }, Ji = function (t) { function e(e) { var r; return (r = t.call(this) || this).observer = void 0, r.observer = e, r } l(e, t); var r = e.prototype; return r.resetInitSegment = function (e, r, i, n) { t.prototype.resetInitSegment.call(this, e, r, i, n), this._audioTrack = { container: "audio/ac-3", type: "audio", id: 2, pid: -1, sequenceNumber: 0, segmentCodec: "ac3", samples: [], manifestCodec: r, duration: n, inputTimeScale: 9e4, dropped: 0 } }, r.canParse = function (t, e) { return e + 64 < t.length }, r.appendFrame = function (t, e, r) { var i = $i(t, e, r, this.basePTS, this.frameIndex); if (-1 !== i) return { sample: t.samples[t.samples.length - 1], length: i, missing: 0 } }, e.probe = function (t) { if (!t) return !1; var e = lt(t, 0); if (!e) return !1; var r = e.length; return 11 === t[r] && 119 === t[r + 1] && void 0 !== dt(e) && Qi(t, r) < 16 }, e }(Di); function $i(t, e, r, i, n) { if (r + 8 > e.length) return -1; if (11 !== e[r] || 119 !== e[r + 1]) return -1; var a = e[r + 4] >> 6; if (a >= 3) return -1; var s = [48e3, 44100, 32e3][a], o = 63 & e[r + 4], l = 2 * [64, 69, 96, 64, 70, 96, 80, 87, 120, 80, 88, 120, 96, 104, 144, 96, 105, 144, 112, 121, 168, 112, 122, 168, 128, 139, 192, 128, 140, 192, 160, 174, 240, 160, 175, 240, 192, 208, 288, 192, 209, 288, 224, 243, 336, 224, 244, 336, 256, 278, 384, 256, 279, 384, 320, 348, 480, 320, 349, 480, 384, 417, 576, 384, 418, 576, 448, 487, 672, 448, 488, 672, 512, 557, 768, 512, 558, 768, 640, 696, 960, 640, 697, 960, 768, 835, 1152, 768, 836, 1152, 896, 975, 1344, 896, 976, 1344, 1024, 1114, 1536, 1024, 1115, 1536, 1152, 1253, 1728, 1152, 1254, 1728, 1280, 1393, 1920, 1280, 1394, 1920][3 * o + a]; if (r + l > e.length) return -1; var u = e[r + 6] >> 5, h = 0; 2 === u ? h += 2 : (1 & u && 1 !== u && (h += 2), 4 & u && (h += 2)); var d = (e[r + 6] << 8 | e[r + 7]) >> 12 - h & 1, c = [2, 1, 2, 3, 3, 4, 4, 5][u] + d, f = e[r + 5] >> 3, g = 7 & e[r + 5], v = new Uint8Array([a << 6 | f << 1 | g >> 2, (3 & g) << 6 | u << 3 | d << 2 | o >> 4, o << 4 & 224]), m = i + n * (1536 / s * 9e4), p = e.subarray(r, r + l); return t.config = v, t.channelCount = c, t.samplerate = s, t.samples.push({ unit: p, pts: m }), l } var Zi = function () { function t() { this.VideoSample = null } var e = t.prototype; return e.createVideoSample = function (t, e, r, i) { return { key: t, frame: !1, pts: e, dts: r, units: [], debug: i, length: 0 } }, e.getLastNalUnit = function (t) { var e, r, i = this.VideoSample; if (i && 0 !== i.units.length || (i = t[t.length - 1]), null != (e = i) && e.units) { var n = i.units; r = n[n.length - 1] } return r }, e.pushAccessUnit = function (t, e) { if (t.units.length && t.frame) { if (void 0 === t.pts) { var r = e.samples, i = r.length; if (!i) return void e.dropped++; var n = r[i - 1]; t.pts = n.pts, t.dts = n.dts } e.samples.push(t) } t.debug.length && w.log(t.pts + "/" + t.dts + ":" + t.debug) }, t }(), tn = function () { function t(t) { this.data = void 0, this.bytesAvailable = void 0, this.word = void 0, this.bitsAvailable = void 0, this.data = t, this.bytesAvailable = t.byteLength, this.word = 0, this.bitsAvailable = 0 } var e = t.prototype; return e.loadWord = function () { var t = this.data, e = this.bytesAvailable, r = t.byteLength - e, i = new Uint8Array(4), n = Math.min(4, e); if (0 === n) throw new Error("no bytes available"); i.set(t.subarray(r, r + n)), this.word = new DataView(i.buffer).getUint32(0), this.bitsAvailable = 8 * n, this.bytesAvailable -= n }, e.skipBits = function (t) { var e; t = Math.min(t, 8 * this.bytesAvailable + this.bitsAvailable), this.bitsAvailable > t ? (this.word <<= t, this.bitsAvailable -= t) : (t -= this.bitsAvailable, t -= (e = t >> 3) << 3, this.bytesAvailable -= e, this.loadWord(), this.word <<= t, this.bitsAvailable -= t) }, e.readBits = function (t) { var e = Math.min(this.bitsAvailable, t), r = this.word >>> 32 - e; if (t > 32 && w.error("Cannot read more than 32 bits at a time"), this.bitsAvailable -= e, this.bitsAvailable > 0) this.word <<= e; else { if (!(this.bytesAvailable > 0)) throw new Error("no bits available"); this.loadWord() } return (e = t - e) > 0 && this.bitsAvailable ? r << e | this.readBits(e) : r }, e.skipLZ = function () { var t; for (t = 0; t < this.bitsAvailable; ++t)if (0 != (this.word & 2147483648 >>> t)) return this.word <<= t, this.bitsAvailable -= t, t; return this.loadWord(), t + this.skipLZ() }, e.skipUEG = function () { this.skipBits(1 + this.skipLZ()) }, e.skipEG = function () { this.skipBits(1 + this.skipLZ()) }, e.readUEG = function () { var t = this.skipLZ(); return this.readBits(t + 1) - 1 }, e.readEG = function () { var t = this.readUEG(); return 1 & t ? 1 + t >>> 1 : -1 * (t >>> 1) }, e.readBoolean = function () { return 1 === this.readBits(1) }, e.readUByte = function () { return this.readBits(8) }, e.readUShort = function () { return this.readBits(16) }, e.readUInt = function () { return this.readBits(32) }, e.skipScalingList = function (t) { for (var e = 8, r = 8, i = 0; i < t; i++)0 !== r && (r = (e + this.readEG() + 256) % 256), e = 0 === r ? e : r }, e.readSPS = function () { var t, e, r, i = 0, n = 0, a = 0, s = 0, o = this.readUByte.bind(this), l = this.readBits.bind(this), u = this.readUEG.bind(this), h = this.readBoolean.bind(this), d = this.skipBits.bind(this), c = this.skipEG.bind(this), f = this.skipUEG.bind(this), g = this.skipScalingList.bind(this); o(); var v = o(); if (l(5), d(3), o(), f(), 100 === v || 110 === v || 122 === v || 244 === v || 44 === v || 83 === v || 86 === v || 118 === v || 128 === v) { var m = u(); if (3 === m && d(1), f(), f(), d(1), h()) for (e = 3 !== m ? 8 : 12, r = 0; r < e; r++)h() && g(r < 6 ? 16 : 64) } f(); var p = u(); if (0 === p) u(); else if (1 === p) for (d(1), c(), c(), t = u(), r = 0; r < t; r++)c(); f(), d(1); var y = u(), E = u(), T = l(1); 0 === T && d(1), d(1), h() && (i = u(), n = u(), a = u(), s = u()); var S = [1, 1]; if (h() && h()) switch (o()) { case 1: S = [1, 1]; break; case 2: S = [12, 11]; break; case 3: S = [10, 11]; break; case 4: S = [16, 11]; break; case 5: S = [40, 33]; break; case 6: S = [24, 11]; break; case 7: S = [20, 11]; break; case 8: S = [32, 11]; break; case 9: S = [80, 33]; break; case 10: S = [18, 11]; break; case 11: S = [15, 11]; break; case 12: S = [64, 33]; break; case 13: S = [160, 99]; break; case 14: S = [4, 3]; break; case 15: S = [3, 2]; break; case 16: S = [2, 1]; break; case 255: S = [o() << 8 | o(), o() << 8 | o()] }return { width: Math.ceil(16 * (y + 1) - 2 * i - 2 * n), height: (2 - T) * (E + 1) * 16 - (T ? 2 : 4) * (a + s), pixelRatio: S } }, e.readSliceType = function () { return this.readUByte(), this.readUEG(), this.readUEG() }, t }(), en = function (t) { function e() { return t.apply(this, arguments) || this } l(e, t); var r = e.prototype; return r.parseAVCPES = function (t, e, r, i, n) { var a, s = this, o = this.parseAVCNALu(t, r.data), l = this.VideoSample, u = !1; r.data = null, l && o.length && !t.audFound && (this.pushAccessUnit(l, t), l = this.VideoSample = this.createVideoSample(!1, r.pts, r.dts, "")), o.forEach((function (i) { var o; switch (i.type) { case 1: var h = !1; a = !0; var d, c = i.data; if (u && c.length > 4) { var f = new tn(c).readSliceType(); 2 !== f && 4 !== f && 7 !== f && 9 !== f || (h = !0) } h && null != (d = l) && d.frame && !l.key && (s.pushAccessUnit(l, t), l = s.VideoSample = null), l || (l = s.VideoSample = s.createVideoSample(!0, r.pts, r.dts, "")), l.frame = !0, l.key = h; break; case 5: a = !0, null != (o = l) && o.frame && !l.key && (s.pushAccessUnit(l, t), l = s.VideoSample = null), l || (l = s.VideoSample = s.createVideoSample(!0, r.pts, r.dts, "")), l.key = !0, l.frame = !0; break; case 6: a = !0, Vt(i.data, 1, r.pts, e.samples); break; case 7: var g, v; a = !0, u = !0; var m = i.data, p = new tn(m).readSPS(); if (!t.sps || t.width !== p.width || t.height !== p.height || (null == (g = t.pixelRatio) ? void 0 : g[0]) !== p.pixelRatio[0] || (null == (v = t.pixelRatio) ? void 0 : v[1]) !== p.pixelRatio[1]) { t.width = p.width, t.height = p.height, t.pixelRatio = p.pixelRatio, t.sps = [m], t.duration = n; for (var y = m.subarray(1, 4), E = "avc1.", T = 0; T < 3; T++) { var S = y[T].toString(16); S.length < 2 && (S = "0" + S), E += S } t.codec = E } break; case 8: a = !0, t.pps = [i.data]; break; case 9: a = !0, t.audFound = !0, l && s.pushAccessUnit(l, t), l = s.VideoSample = s.createVideoSample(!1, r.pts, r.dts, ""); break; case 12: a = !0; break; default: a = !1, l && (l.debug += "unknown NAL " + i.type + " ") }l && a && l.units.push(i) })), i && l && (this.pushAccessUnit(l, t), this.VideoSample = null) }, r.parseAVCNALu = function (t, e) { var r, i, n = e.byteLength, a = t.naluState || 0, s = a, o = [], l = 0, u = -1, h = 0; for (-1 === a && (u = 0, h = 31 & e[0], a = 0, l = 1); l < n;)if (r = e[l++], a) if (1 !== a) if (r) if (1 === r) { if (i = l - a - 1, u >= 0) { var d = { data: e.subarray(u, i), type: h }; o.push(d) } else { var c = this.getLastNalUnit(t.samples); c && (s && l <= 4 - s && c.state && (c.data = c.data.subarray(0, c.data.byteLength - s)), i > 0 && (c.data = Gt(c.data, e.subarray(0, i)), c.state = 0)) } l < n ? (u = l, h = 31 & e[l], a = 0) : a = -1 } else a = 0; else a = 3; else a = r ? 0 : 2; else a = r ? 0 : 1; if (u >= 0 && a >= 0) { var f = { data: e.subarray(u, n), type: h, state: a }; o.push(f) } if (0 === o.length) { var g = this.getLastNalUnit(t.samples); g && (g.data = Gt(g.data, e)) } return t.naluState = a, o }, e }(Zi), rn = function () { function t(t, e, r) { this.keyData = void 0, this.decrypter = void 0, this.keyData = r, this.decrypter = new hi(e, { removePKCS7Padding: !1 }) } var e = t.prototype; return e.decryptBuffer = function (t) { return this.decrypter.decrypt(t, this.keyData.key.buffer, this.keyData.iv.buffer) }, e.decryptAacSample = function (t, e, r) { var i = this, n = t[e].unit; if (!(n.length <= 16)) { var a = n.subarray(16, n.length - n.length % 16), s = a.buffer.slice(a.byteOffset, a.byteOffset + a.length); this.decryptBuffer(s).then((function (a) { var s = new Uint8Array(a); n.set(s, 16), i.decrypter.isSync() || i.decryptAacSamples(t, e + 1, r) })) } }, e.decryptAacSamples = function (t, e, r) { for (; ; e++) { if (e >= t.length) return void r(); if (!(t[e].unit.length < 32 || (this.decryptAacSample(t, e, r), this.decrypter.isSync()))) return } }, e.getAvcEncryptedData = function (t) { for (var e = 16 * Math.floor((t.length - 48) / 160) + 16, r = new Int8Array(e), i = 0, n = 32; n < t.length - 16; n += 160, i += 16)r.set(t.subarray(n, n + 16), i); return r }, e.getAvcDecryptedUnit = function (t, e) { for (var r = new Uint8Array(e), i = 0, n = 32; n < t.length - 16; n += 160, i += 16)t.set(r.subarray(i, i + 16), n); return t }, e.decryptAvcSample = function (t, e, r, i, n) { var a = this, s = Yt(n.data), o = this.getAvcEncryptedData(s); this.decryptBuffer(o.buffer).then((function (o) { n.data = a.getAvcDecryptedUnit(s, o), a.decrypter.isSync() || a.decryptAvcSamples(t, e, r + 1, i) })) }, e.decryptAvcSamples = function (t, e, r, i) { if (t instanceof Uint8Array) throw new Error("Cannot decrypt samples of type Uint8Array"); for (; ; e++, r = 0) { if (e >= t.length) return void i(); for (var n = t[e].units; !(r >= n.length); r++) { var a = n[r]; if (!(a.data.length <= 48 || 1 !== a.type && 5 !== a.type || (this.decryptAvcSample(t, e, r, i, a), this.decrypter.isSync()))) return } } }, t }(), nn = 188, an = function () { function t(t, e, r) { this.observer = void 0, this.config = void 0, this.typeSupported = void 0, this.sampleAes = null, this.pmtParsed = !1, this.audioCodec = void 0, this.videoCodec = void 0, this._duration = 0, this._pmtId = -1, this._videoTrack = void 0, this._audioTrack = void 0, this._id3Track = void 0, this._txtTrack = void 0, this.aacOverFlow = null, this.remainderData = null, this.videoParser = void 0, this.observer = t, this.config = e, this.typeSupported = r, this.videoParser = new en } t.probe = function (e) { var r = t.syncOffset(e); return r > 0 && w.warn("MPEG2-TS detected but first sync word found @ offset " + r), -1 !== r }, t.syncOffset = function (t) { for (var e = t.length, r = Math.min(940, e - nn) + 1, i = 0; i < r;) { for (var n = !1, a = -1, s = 0, o = i; o < e; o += nn) { if (71 !== t[o] || e - o !== nn && 71 !== t[o + nn]) { if (s) return -1; break } if (s++, -1 === a && 0 !== (a = o) && (r = Math.min(a + 18612, t.length - nn) + 1), n || (n = 0 === sn(t, o)), n && s > 1 && (0 === a && s > 2 || o + nn > r)) return a } i++ } return -1 }, t.createTrack = function (t, e) { return { container: "video" === t || "audio" === t ? "video/mp2t" : void 0, type: t, id: kt[t], pid: -1, inputTimeScale: 9e4, sequenceNumber: 0, samples: [], dropped: 0, duration: "audio" === t ? e : void 0 } }; var e = t.prototype; return e.resetInitSegment = function (e, r, i, n) { this.pmtParsed = !1, this._pmtId = -1, this._videoTrack = t.createTrack("video"), this._audioTrack = t.createTrack("audio", n), this._id3Track = t.createTrack("id3"), this._txtTrack = t.createTrack("text"), this._audioTrack.segmentCodec = "aac", this.aacOverFlow = null, this.remainderData = null, this.audioCodec = r, this.videoCodec = i, this._duration = n }, e.resetTimeStamp = function () { }, e.resetContiguity = function () { var t = this._audioTrack, e = this._videoTrack, r = this._id3Track; t && (t.pesData = null), e && (e.pesData = null), r && (r.pesData = null), this.aacOverFlow = null, this.remainderData = null }, e.demux = function (e, r, i, n) { var a; void 0 === i && (i = !1), void 0 === n && (n = !1), i || (this.sampleAes = null); var s = this._videoTrack, o = this._audioTrack, l = this._id3Track, u = this._txtTrack, h = s.pid, d = s.pesData, c = o.pid, f = l.pid, g = o.pesData, v = l.pesData, m = null, p = this.pmtParsed, y = this._pmtId, E = e.length; if (this.remainderData && (E = (e = Gt(this.remainderData, e)).length, this.remainderData = null), E < nn && !n) return this.remainderData = e, { audioTrack: o, videoTrack: s, id3Track: l, textTrack: u }; var T = Math.max(0, t.syncOffset(e)); (E -= (E - T) % nn) < e.byteLength && !n && (this.remainderData = new Uint8Array(e.buffer, E, e.buffer.byteLength - E)); for (var R = 0, k = T; k < E; k += nn)if (71 === e[k]) { var b = !!(64 & e[k + 1]), D = sn(e, k), I = void 0; if ((48 & e[k + 3]) >> 4 > 1) { if ((I = k + 5 + e[k + 4]) === k + nn) continue } else I = k + 4; switch (D) { case h: b && (d && (a = hn(d)) && this.videoParser.parseAVCPES(s, u, a, !1, this._duration), d = { data: [], size: 0 }), d && (d.data.push(e.subarray(I, k + nn)), d.size += k + nn - I); break; case c: if (b) { if (g && (a = hn(g))) switch (o.segmentCodec) { case "aac": this.parseAACPES(o, a); break; case "mp3": this.parseMPEGPES(o, a); break; case "ac3": this.parseAC3PES(o, a) }g = { data: [], size: 0 } } g && (g.data.push(e.subarray(I, k + nn)), g.size += k + nn - I); break; case f: b && (v && (a = hn(v)) && this.parseID3PES(l, a), v = { data: [], size: 0 }), v && (v.data.push(e.subarray(I, k + nn)), v.size += k + nn - I); break; case 0: b && (I += e[I] + 1), y = this._pmtId = on(e, I); break; case y: b && (I += e[I] + 1); var C = ln(e, I, this.typeSupported, i); (h = C.videoPid) > 0 && (s.pid = h, s.segmentCodec = C.segmentVideoCodec), (c = C.audioPid) > 0 && (o.pid = c, o.segmentCodec = C.segmentAudioCodec), (f = C.id3Pid) > 0 && (l.pid = f), null === m || p || (w.warn("MPEG-TS PMT found at " + k + " after unknown PID '" + m + "'. Backtracking to sync byte @" + T + " to parse all TS packets."), m = null, k = T - 188), p = this.pmtParsed = !0; break; case 17: case 8191: break; default: m = D } } else R++; if (R > 0) { var _ = new Error("Found " + R + " TS packet/s that do not start with 0x47"); this.observer.emit(S.ERROR, S.ERROR, { type: L.MEDIA_ERROR, details: A.FRAG_PARSING_ERROR, fatal: !1, error: _, reason: _.message }) } s.pesData = d, o.pesData = g, l.pesData = v; var x = { audioTrack: o, videoTrack: s, id3Track: l, textTrack: u }; return n && this.extractRemainingSamples(x), x }, e.flush = function () { var t, e = this.remainderData; return this.remainderData = null, t = e ? this.demux(e, -1, !1, !0) : { videoTrack: this._videoTrack, audioTrack: this._audioTrack, id3Track: this._id3Track, textTrack: this._txtTrack }, this.extractRemainingSamples(t), this.sampleAes ? this.decrypt(t, this.sampleAes) : t }, e.extractRemainingSamples = function (t) { var e, r = t.audioTrack, i = t.videoTrack, n = t.id3Track, a = t.textTrack, s = i.pesData, o = r.pesData, l = n.pesData; if (s && (e = hn(s)) ? (this.videoParser.parseAVCPES(i, a, e, !0, this._duration), i.pesData = null) : i.pesData = s, o && (e = hn(o))) { switch (r.segmentCodec) { case "aac": this.parseAACPES(r, e); break; case "mp3": this.parseMPEGPES(r, e); break; case "ac3": this.parseAC3PES(r, e) }r.pesData = null } else null != o && o.size && w.log("last AAC PES packet truncated,might overlap between fragments"), r.pesData = o; l && (e = hn(l)) ? (this.parseID3PES(n, e), n.pesData = null) : n.pesData = l }, e.demuxSampleAes = function (t, e, r) { var i = this.demux(t, r, !0, !this.config.progressive), n = this.sampleAes = new rn(this.observer, this.config, e); return this.decrypt(i, n) }, e.decrypt = function (t, e) { return new Promise((function (r) { var i = t.audioTrack, n = t.videoTrack; i.samples && "aac" === i.segmentCodec ? e.decryptAacSamples(i.samples, 0, (function () { n.samples ? e.decryptAvcSamples(n.samples, 0, 0, (function () { r(t) })) : r(t) })) : n.samples && e.decryptAvcSamples(n.samples, 0, 0, (function () { r(t) })) })) }, e.destroy = function () { this._duration = 0 }, e.parseAACPES = function (t, e) { var r, i, n, a = 0, s = this.aacOverFlow, o = e.data; if (s) { this.aacOverFlow = null; var l = s.missing, u = s.sample.unit.byteLength; if (-1 === l) o = Gt(s.sample.unit, o); else { var h = u - l; s.sample.unit.set(o.subarray(0, l), h), t.samples.push(s.sample), a = s.missing } } for (r = a, i = o.length; r < i - 1 && !xi(o, r); r++); if (r !== a) { var d, c = r < i - 1; d = c ? "AAC PES did not start with ADTS header,offset:" + r : "No ADTS header found in AAC PES"; var f = new Error(d); if (w.warn("parsing error: " + d), this.observer.emit(S.ERROR, S.ERROR, { type: L.MEDIA_ERROR, details: A.FRAG_PARSING_ERROR, fatal: !1, levelRetry: c, error: f, reason: d }), !c) return } if (Fi(t, this.observer, o, r, this.audioCodec), void 0 !== e.pts) n = e.pts; else { if (!s) return void w.warn("[tsdemuxer]: AAC PES unknown PTS"); var g = Mi(t.samplerate); n = s.sample.pts + g } for (var v, m = 0; r < i;) { if (r += (v = Oi(t, o, r, n, m)).length, v.missing) { this.aacOverFlow = v; break } for (m++; r < i - 1 && !xi(o, r); r++); } }, e.parseMPEGPES = function (t, e) { var r = e.data, i = r.length, n = 0, a = 0, s = e.pts; if (void 0 !== s) for (; a < i;)if (Wi(r, a)) { var o = Hi(t, r, a, s, n); if (!o) break; a += o.length, n++ } else a++; else w.warn("[tsdemuxer]: MPEG PES unknown PTS") }, e.parseAC3PES = function (t, e) { var r = e.data, i = e.pts; if (void 0 !== i) for (var n, a = r.length, s = 0, o = 0; o < a && (n = $i(t, r, o, i, s++)) > 0;)o += n; else w.warn("[tsdemuxer]: AC3 PES unknown PTS") }, e.parseID3PES = function (t, e) { if (void 0 !== e.pts) { var r = o({}, e, { type: this._videoTrack ? Ke : Be, duration: Number.POSITIVE_INFINITY }); t.samples.push(r) } else w.warn("[tsdemuxer]: ID3 PES unknown PTS") }, t }(); function sn(t, e) { return ((31 & t[e + 1]) << 8) + t[e + 2] } function on(t, e) { return (31 & t[e + 10]) << 8 | t[e + 11] } function ln(t, e, r, i) { var n = { audioPid: -1, videoPid: -1, id3Pid: -1, segmentVideoCodec: "avc", segmentAudioCodec: "aac" }, a = e + 3 + ((15 & t[e + 1]) << 8 | t[e + 2]) - 4; for (e += 12 + ((15 & t[e + 10]) << 8 | t[e + 11]); e < a;) { var s = sn(t, e), o = (15 & t[e + 3]) << 8 | t[e + 4]; switch (t[e]) { case 207: if (!i) { un("ADTS AAC"); break } case 15: -1 === n.audioPid && (n.audioPid = s); break; case 21: -1 === n.id3Pid && (n.id3Pid = s); break; case 219: if (!i) { un("H.264"); break } case 27: -1 === n.videoPid && (n.videoPid = s, n.segmentVideoCodec = "avc"); break; case 3: case 4: r.mpeg || r.mp3 ? -1 === n.audioPid && (n.audioPid = s, n.segmentAudioCodec = "mp3") : w.log("MPEG audio found, not supported in this browser"); break; case 193: if (!i) { un("AC-3"); break } case 129: r.ac3 ? -1 === n.audioPid && (n.audioPid = s, n.segmentAudioCodec = "ac3") : w.log("AC-3 audio found, not supported in this browser"); break; case 6: if (-1 === n.audioPid && o > 0) for (var l = e + 5, u = o; u > 2;) { 106 === t[l] && (!0 !== r.ac3 ? w.log("AC-3 audio found, not supported in this browser for now") : (n.audioPid = s, n.segmentAudioCodec = "ac3")); var h = t[l + 1] + 2; l += h, u -= h } break; case 194: case 135: w.warn("Unsupported EC-3 in M2TS found"); break; case 36: w.warn("Unsupported HEVC in M2TS found") }e += o + 5 } return n } function un(t) { w.log(t + " with AES-128-CBC encryption found in unencrypted stream") } function hn(t) { var e, r, i, n, a, s = 0, o = t.data; if (!t || 0 === t.size) return null; for (; o[0].length < 19 && o.length > 1;)o[0] = Gt(o[0], o[1]), o.splice(1, 1); if (1 === ((e = o[0])[0] << 16) + (e[1] << 8) + e[2]) { if ((r = (e[4] << 8) + e[5]) && r > t.size - 6) return null; var l = e[7]; 192 & l && (n = 536870912 * (14 & e[9]) + 4194304 * (255 & e[10]) + 16384 * (254 & e[11]) + 128 * (255 & e[12]) + (254 & e[13]) / 2, 64 & l ? n - (a = 536870912 * (14 & e[14]) + 4194304 * (255 & e[15]) + 16384 * (254 & e[16]) + 128 * (255 & e[17]) + (254 & e[18]) / 2) > 54e5 && (w.warn(Math.round((n - a) / 9e4) + "s delta between PTS and DTS, align them"), n = a) : a = n); var u = (i = e[8]) + 9; if (t.size <= u) return null; t.size -= u; for (var h = new Uint8Array(t.size), d = 0, c = o.length; d < c; d++) { var f = (e = o[d]).byteLength; if (u) { if (u > f) { u -= f; continue } e = e.subarray(u), f -= u, u = 0 } h.set(e, s), s += f } return r && (r -= i + 3), { data: h, pts: n, dts: a, len: r } } return null } var dn = function (t) { function e() { return t.apply(this, arguments) || this } l(e, t); var r = e.prototype; return r.resetInitSegment = function (e, r, i, n) { t.prototype.resetInitSegment.call(this, e, r, i, n), this._audioTrack = { container: "audio/mpeg", type: "audio", id: 2, pid: -1, sequenceNumber: 0, segmentCodec: "mp3", samples: [], manifestCodec: r, duration: n, inputTimeScale: 9e4, dropped: 0 } }, e.probe = function (t) { if (!t) return !1; var e = lt(t, 0), r = (null == e ? void 0 : e.length) || 0; if (e && 11 === t[r] && 119 === t[r + 1] && void 0 !== dt(e) && Qi(t, r) <= 16) return !1; for (var i = t.length; r < i; r++)if (ji(t, r)) return w.log("MPEG Audio sync word found !"), !0; return !1 }, r.canParse = function (t, e) { return function (t, e) { return Yi(t, e) && 4 <= t.length - e }(t, e) }, r.appendFrame = function (t, e, r) { if (null !== this.basePTS) return Hi(t, e, r, this.basePTS, this.frameIndex) }, e }(Di), cn = function () { function t() { } return t.getSilentFrame = function (t, e) { if ("mp4a.40.2" === t) { if (1 === e) return new Uint8Array([0, 200, 0, 128, 35, 128]); if (2 === e) return new Uint8Array([33, 0, 73, 144, 2, 25, 0, 35, 128]); if (3 === e) return new Uint8Array([0, 200, 0, 128, 32, 132, 1, 38, 64, 8, 100, 0, 142]); if (4 === e) return new Uint8Array([0, 200, 0, 128, 32, 132, 1, 38, 64, 8, 100, 0, 128, 44, 128, 8, 2, 56]); if (5 === e) return new Uint8Array([0, 200, 0, 128, 32, 132, 1, 38, 64, 8, 100, 0, 130, 48, 4, 153, 0, 33, 144, 2, 56]); if (6 === e) return new Uint8Array([0, 200, 0, 128, 32, 132, 1, 38, 64, 8, 100, 0, 130, 48, 4, 153, 0, 33, 144, 2, 0, 178, 0, 32, 8, 224]) } else { if (1 === e) return new Uint8Array([1, 64, 34, 128, 163, 78, 230, 128, 186, 8, 0, 0, 0, 28, 6, 241, 193, 10, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 94]); if (2 === e) return new Uint8Array([1, 64, 34, 128, 163, 94, 230, 128, 186, 8, 0, 0, 0, 0, 149, 0, 6, 241, 161, 10, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 94]); if (3 === e) return new Uint8Array([1, 64, 34, 128, 163, 94, 230, 128, 186, 8, 0, 0, 0, 0, 149, 0, 6, 241, 161, 10, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 94]) } }, t }(), fn = Math.pow(2, 32) - 1, gn = function () { function t() { } return t.init = function () { var e; for (e in t.types = { avc1: [], avcC: [], btrt: [], dinf: [], dref: [], esds: [], ftyp: [], hdlr: [], mdat: [], mdhd: [], mdia: [], mfhd: [], minf: [], moof: [], moov: [], mp4a: [], ".mp3": [], dac3: [], "ac-3": [], mvex: [], mvhd: [], pasp: [], sdtp: [], stbl: [], stco: [], stsc: [], stsd: [], stsz: [], stts: [], tfdt: [], tfhd: [], traf: [], trak: [], trun: [], trex: [], tkhd: [], vmhd: [], smhd: [] }, t.types) t.types.hasOwnProperty(e) && (t.types[e] = [e.charCodeAt(0), e.charCodeAt(1), e.charCodeAt(2), e.charCodeAt(3)]); var r = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0, 118, 105, 100, 101, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 86, 105, 100, 101, 111, 72, 97, 110, 100, 108, 101, 114, 0]), i = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0, 115, 111, 117, 110, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 83, 111, 117, 110, 100, 72, 97, 110, 100, 108, 101, 114, 0]); t.HDLR_TYPES = { video: r, audio: i }; var n = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 12, 117, 114, 108, 32, 0, 0, 0, 1]), a = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0]); t.STTS = t.STSC = t.STCO = a, t.STSZ = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]), t.VMHD = new Uint8Array([0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0]), t.SMHD = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0]), t.STSD = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 1]); var s = new Uint8Array([105, 115, 111, 109]), o = new Uint8Array([97, 118, 99, 49]), l = new Uint8Array([0, 0, 0, 1]); t.FTYP = t.box(t.types.ftyp, s, l, s, o), t.DINF = t.box(t.types.dinf, t.box(t.types.dref, n)) }, t.box = function (t) { for (var e = 8, r = arguments.length, i = new Array(r > 1 ? r - 1 : 0), n = 1; n < r; n++)i[n - 1] = arguments[n]; for (var a = i.length, s = a; a--;)e += i[a].byteLength; var o = new Uint8Array(e); for (o[0] = e >> 24 & 255, o[1] = e >> 16 & 255, o[2] = e >> 8 & 255, o[3] = 255 & e, o.set(t, 4), a = 0, e = 8; a < s; a++)o.set(i[a], e), e += i[a].byteLength; return o }, t.hdlr = function (e) { return t.box(t.types.hdlr, t.HDLR_TYPES[e]) }, t.mdat = function (e) { return t.box(t.types.mdat, e) }, t.mdhd = function (e, r) { r *= e; var i = Math.floor(r / (fn + 1)), n = Math.floor(r % (fn + 1)); return t.box(t.types.mdhd, new Uint8Array([1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 0, 0, 0, 0, 0, 0, 0, 3, e >> 24 & 255, e >> 16 & 255, e >> 8 & 255, 255 & e, i >> 24, i >> 16 & 255, i >> 8 & 255, 255 & i, n >> 24, n >> 16 & 255, n >> 8 & 255, 255 & n, 85, 196, 0, 0])) }, t.mdia = function (e) { return t.box(t.types.mdia, t.mdhd(e.timescale, e.duration), t.hdlr(e.type), t.minf(e)) }, t.mfhd = function (e) { return t.box(t.types.mfhd, new Uint8Array([0, 0, 0, 0, e >> 24, e >> 16 & 255, e >> 8 & 255, 255 & e])) }, t.minf = function (e) { return "audio" === e.type ? t.box(t.types.minf, t.box(t.types.smhd, t.SMHD), t.DINF, t.stbl(e)) : t.box(t.types.minf, t.box(t.types.vmhd, t.VMHD), t.DINF, t.stbl(e)) }, t.moof = function (e, r, i) { return t.box(t.types.moof, t.mfhd(e), t.traf(i, r)) }, t.moov = function (e) { for (var r = e.length, i = []; r--;)i[r] = t.trak(e[r]); return t.box.apply(null, [t.types.moov, t.mvhd(e[0].timescale, e[0].duration)].concat(i).concat(t.mvex(e))) }, t.mvex = function (e) { for (var r = e.length, i = []; r--;)i[r] = t.trex(e[r]); return t.box.apply(null, [t.types.mvex].concat(i)) }, t.mvhd = function (e, r) { r *= e; var i = Math.floor(r / (fn + 1)), n = Math.floor(r % (fn + 1)), a = new Uint8Array([1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 0, 0, 0, 0, 0, 0, 0, 3, e >> 24 & 255, e >> 16 & 255, e >> 8 & 255, 255 & e, i >> 24, i >> 16 & 255, i >> 8 & 255, 255 & i, n >> 24, n >> 16 & 255, n >> 8 & 255, 255 & n, 0, 1, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 64, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 255, 255, 255, 255]); return t.box(t.types.mvhd, a) }, t.sdtp = function (e) { var r, i, n = e.samples || [], a = new Uint8Array(4 + n.length); for (r = 0; r < n.length; r++)i = n[r].flags, a[r + 4] = i.dependsOn << 4 | i.isDependedOn << 2 | i.hasRedundancy; return t.box(t.types.sdtp, a) }, t.stbl = function (e) { return t.box(t.types.stbl, t.stsd(e), t.box(t.types.stts, t.STTS), t.box(t.types.stsc, t.STSC), t.box(t.types.stsz, t.STSZ), t.box(t.types.stco, t.STCO)) }, t.avc1 = function (e) { var r, i, n, a = [], s = []; for (r = 0; r < e.sps.length; r++)n = (i = e.sps[r]).byteLength, a.push(n >>> 8 & 255), a.push(255 & n), a = a.concat(Array.prototype.slice.call(i)); for (r = 0; r < e.pps.length; r++)n = (i = e.pps[r]).byteLength, s.push(n >>> 8 & 255), s.push(255 & n), s = s.concat(Array.prototype.slice.call(i)); var o = t.box(t.types.avcC, new Uint8Array([1, a[3], a[4], a[5], 255, 224 | e.sps.length].concat(a).concat([e.pps.length]).concat(s))), l = e.width, u = e.height, h = e.pixelRatio[0], d = e.pixelRatio[1]; return t.box(t.types.avc1, new Uint8Array([0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, l >> 8 & 255, 255 & l, u >> 8 & 255, 255 & u, 0, 72, 0, 0, 0, 72, 0, 0, 0, 0, 0, 0, 0, 1, 18, 100, 97, 105, 108, 121, 109, 111, 116, 105, 111, 110, 47, 104, 108, 115, 46, 106, 115, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 24, 17, 17]), o, t.box(t.types.btrt, new Uint8Array([0, 28, 156, 128, 0, 45, 198, 192, 0, 45, 198, 192])), t.box(t.types.pasp, new Uint8Array([h >> 24, h >> 16 & 255, h >> 8 & 255, 255 & h, d >> 24, d >> 16 & 255, d >> 8 & 255, 255 & d]))) }, t.esds = function (t) { var e = t.config.length; return new Uint8Array([0, 0, 0, 0, 3, 23 + e, 0, 1, 0, 4, 15 + e, 64, 21, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 5].concat([e]).concat(t.config).concat([6, 1, 2])) }, t.audioStsd = function (t) { var e = t.samplerate; return new Uint8Array([0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, t.channelCount, 0, 16, 0, 0, 0, 0, e >> 8 & 255, 255 & e, 0, 0]) }, t.mp4a = function (e) { return t.box(t.types.mp4a, t.audioStsd(e), t.box(t.types.esds, t.esds(e))) }, t.mp3 = function (e) { return t.box(t.types[".mp3"], t.audioStsd(e)) }, t.ac3 = function (e) { return t.box(t.types["ac-3"], t.audioStsd(e), t.box(t.types.dac3, e.config)) }, t.stsd = function (e) { return "audio" === e.type ? "mp3" === e.segmentCodec && "mp3" === e.codec ? t.box(t.types.stsd, t.STSD, t.mp3(e)) : "ac3" === e.segmentCodec ? t.box(t.types.stsd, t.STSD, t.ac3(e)) : t.box(t.types.stsd, t.STSD, t.mp4a(e)) : t.box(t.types.stsd, t.STSD, t.avc1(e)) }, t.tkhd = function (e) { var r = e.id, i = e.duration * e.timescale, n = e.width, a = e.height, s = Math.floor(i / (fn + 1)), o = Math.floor(i % (fn + 1)); return t.box(t.types.tkhd, new Uint8Array([1, 0, 0, 7, 0, 0, 0, 0, 0, 0, 0, 2, 0, 0, 0, 0, 0, 0, 0, 3, r >> 24 & 255, r >> 16 & 255, r >> 8 & 255, 255 & r, 0, 0, 0, 0, s >> 24, s >> 16 & 255, s >> 8 & 255, 255 & s, o >> 24, o >> 16 & 255, o >> 8 & 255, 255 & o, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 64, 0, 0, 0, n >> 8 & 255, 255 & n, 0, 0, a >> 8 & 255, 255 & a, 0, 0])) }, t.traf = function (e, r) { var i = t.sdtp(e), n = e.id, a = Math.floor(r / (fn + 1)), s = Math.floor(r % (fn + 1)); return t.box(t.types.traf, t.box(t.types.tfhd, new Uint8Array([0, 0, 0, 0, n >> 24, n >> 16 & 255, n >> 8 & 255, 255 & n])), t.box(t.types.tfdt, new Uint8Array([1, 0, 0, 0, a >> 24, a >> 16 & 255, a >> 8 & 255, 255 & a, s >> 24, s >> 16 & 255, s >> 8 & 255, 255 & s])), t.trun(e, i.length + 16 + 20 + 8 + 16 + 8 + 8), i) }, t.trak = function (e) { return e.duration = e.duration || 4294967295, t.box(t.types.trak, t.tkhd(e), t.mdia(e)) }, t.trex = function (e) { var r = e.id; return t.box(t.types.trex, new Uint8Array([0, 0, 0, 0, r >> 24, r >> 16 & 255, r >> 8 & 255, 255 & r, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 1])) }, t.trun = function (e, r) { var i, n, a, s, o, l, u = e.samples || [], h = u.length, d = 12 + 16 * h, c = new Uint8Array(d); for (r += 8 + d, c.set(["video" === e.type ? 1 : 0, 0, 15, 1, h >>> 24 & 255, h >>> 16 & 255, h >>> 8 & 255, 255 & h, r >>> 24 & 255, r >>> 16 & 255, r >>> 8 & 255, 255 & r], 0), i = 0; i < h; i++)a = (n = u[i]).duration, s = n.size, o = n.flags, l = n.cts, c.set([a >>> 24 & 255, a >>> 16 & 255, a >>> 8 & 255, 255 & a, s >>> 24 & 255, s >>> 16 & 255, s >>> 8 & 255, 255 & s, o.isLeading << 2 | o.dependsOn, o.isDependedOn << 6 | o.hasRedundancy << 4 | o.paddingValue << 1 | o.isNonSync, 61440 & o.degradPrio, 15 & o.degradPrio, l >>> 24 & 255, l >>> 16 & 255, l >>> 8 & 255, 255 & l], 12 + 16 * i); return t.box(t.types.trun, c) }, t.initSegment = function (e) { t.types || t.init(); var r = t.moov(e); return Gt(t.FTYP, r) }, t }(); gn.types = void 0, gn.HDLR_TYPES = void 0, gn.STTS = void 0, gn.STSC = void 0, gn.STCO = void 0, gn.STSZ = void 0, gn.VMHD = void 0, gn.SMHD = void 0, gn.STSD = void 0, gn.FTYP = void 0, gn.DINF = void 0; var vn = 9e4; function mn(t, e, r, i) { void 0 === r && (r = 1), void 0 === i && (i = !1); var n = t * e * r; return i ? Math.round(n) : n } function pn(t, e) { return void 0 === e && (e = !1), mn(t, 1e3, 1 / vn, e) } var yn = null, En = null, Tn = function () { function t(t, e, r, i) { if (this.observer = void 0, this.config = void 0, this.typeSupported = void 0, this.ISGenerated = !1, this._initPTS = null, this._initDTS = null, this.nextAvcDts = null, this.nextAudioPts = null, this.videoSampleDuration = null, this.isAudioContiguous = !1, this.isVideoContiguous = !1, this.videoTrackConfig = void 0, this.observer = t, this.config = e, this.typeSupported = r, this.ISGenerated = !1, null === yn) { var n = (navigator.userAgent || "").match(/Chrome\/(\d+)/i); yn = n ? parseInt(n[1]) : 0 } if (null === En) { var a = navigator.userAgent.match(/Safari\/(\d+)/i); En = a ? parseInt(a[1]) : 0 } } var e = t.prototype; return e.destroy = function () { this.config = this.videoTrackConfig = this._initPTS = this._initDTS = null }, e.resetTimeStamp = function (t) { w.log("[mp4-remuxer]: initPTS & initDTS reset"), this._initPTS = this._initDTS = t }, e.resetNextTimestamp = function () { w.log("[mp4-remuxer]: reset next timestamp"), this.isVideoContiguous = !1, this.isAudioContiguous = !1 }, e.resetInitSegment = function () { w.log("[mp4-remuxer]: ISGenerated flag reset"), this.ISGenerated = !1, this.videoTrackConfig = void 0 }, e.getVideoStartPts = function (t) { var e = !1, r = t.reduce((function (t, r) { var i = r.pts - t; return i < -4294967296 ? (e = !0, Sn(t, r.pts)) : i > 0 ? t : r.pts }), t[0].pts); return e && w.debug("PTS rollover detected"), r }, e.remux = function (t, e, r, i, n, a, s, o) { var l, u, h, d, c, f, g = n, v = n, m = t.pid > -1, p = e.pid > -1, y = e.samples.length, E = t.samples.length > 0, T = s && y > 0 || y > 1; if ((!m || E) && (!p || T) || this.ISGenerated || s) { if (this.ISGenerated) { var S, L, A, R, k = this.videoTrackConfig; !k || e.width === k.width && e.height === k.height && (null == (S = e.pixelRatio) ? void 0 : S[0]) === (null == (L = k.pixelRatio) ? void 0 : L[0]) && (null == (A = e.pixelRatio) ? void 0 : A[1]) === (null == (R = k.pixelRatio) ? void 0 : R[1]) || this.resetInitSegment() } else h = this.generateIS(t, e, n, a); var b, D = this.isVideoContiguous, I = -1; if (T && (I = function (t) { for (var e = 0; e < t.length; e++)if (t[e].key) return e; return -1 }(e.samples), !D && this.config.forceKeyFrameOnDiscontinuity)) if (f = !0, I > 0) { w.warn("[mp4-remuxer]: Dropped " + I + " out of " + y + " video samples due to a missing keyframe"); var C = this.getVideoStartPts(e.samples); e.samples = e.samples.slice(I), e.dropped += I, b = v += (e.samples[0].pts - C) / e.inputTimeScale } else -1 === I && (w.warn("[mp4-remuxer]: No keyframe found out of " + y + " video samples"), f = !1); if (this.ISGenerated) { if (E && T) { var _ = this.getVideoStartPts(e.samples), x = (Sn(t.samples[0].pts, _) - _) / e.inputTimeScale; g += Math.max(0, x), v += Math.max(0, -x) } if (E) { if (t.samplerate || (w.warn("[mp4-remuxer]: regenerate InitSegment as audio detected"), h = this.generateIS(t, e, n, a)), u = this.remuxAudio(t, g, this.isAudioContiguous, a, p || T || o === we ? v : void 0), T) { var P = u ? u.endPTS - u.startPTS : 0; e.inputTimeScale || (w.warn("[mp4-remuxer]: regenerate InitSegment as video detected"), h = this.generateIS(t, e, n, a)), l = this.remuxVideo(e, v, D, P) } } else T && (l = this.remuxVideo(e, v, D, 0)); l && (l.firstKeyFrame = I, l.independent = -1 !== I, l.firstKeyFramePTS = b) } } return this.ISGenerated && this._initPTS && this._initDTS && (r.samples.length && (c = Ln(r, n, this._initPTS, this._initDTS)), i.samples.length && (d = An(i, n, this._initPTS))), { audio: u, video: l, initSegment: h, independent: f, text: d, id3: c } }, e.generateIS = function (t, e, r, i) { var n, a, s, o = t.samples, l = e.samples, u = this.typeSupported, h = {}, d = this._initPTS, c = !d || i, f = "audio/mp4"; if (c && (n = a = 1 / 0), t.config && o.length) { switch (t.timescale = t.samplerate, t.segmentCodec) { case "mp3": u.mpeg ? (f = "audio/mpeg", t.codec = "") : u.mp3 && (t.codec = "mp3"); break; case "ac3": t.codec = "ac-3" }h.audio = { id: "audio", container: f, codec: t.codec, initSegment: "mp3" === t.segmentCodec && u.mpeg ? new Uint8Array(0) : gn.initSegment([t]), metadata: { channelCount: t.channelCount } }, c && (s = t.inputTimeScale, d && s === d.timescale ? c = !1 : n = a = o[0].pts - Math.round(s * r)) } if (e.sps && e.pps && l.length) { if (e.timescale = e.inputTimeScale, h.video = { id: "main", container: "video/mp4", codec: e.codec, initSegment: gn.initSegment([e]), metadata: { width: e.width, height: e.height } }, c) if (s = e.inputTimeScale, d && s === d.timescale) c = !1; else { var g = this.getVideoStartPts(l), v = Math.round(s * r); a = Math.min(a, Sn(l[0].dts, g) - v), n = Math.min(n, g - v) } this.videoTrackConfig = { width: e.width, height: e.height, pixelRatio: e.pixelRatio } } if (Object.keys(h).length) return this.ISGenerated = !0, c ? (this._initPTS = { baseTime: n, timescale: s }, this._initDTS = { baseTime: a, timescale: s }) : n = s = void 0, { tracks: h, initPTS: n, timescale: s } }, e.remuxVideo = function (t, e, r, i) { var n, a, s = t.inputTimeScale, l = t.samples, u = [], h = l.length, d = this._initPTS, c = this.nextAvcDts, f = 8, g = this.videoSampleDuration, v = Number.POSITIVE_INFINITY, m = Number.NEGATIVE_INFINITY, p = !1; if (!r || null === c) { var y = e * s, E = l[0].pts - Sn(l[0].dts, l[0].pts); yn && null !== c && Math.abs(y - E - c) < 15e3 ? r = !0 : c = y - E } for (var T = d.baseTime * s / d.timescale, R = 0; R < h; R++) { var k = l[R]; k.pts = Sn(k.pts - T, c), k.dts = Sn(k.dts - T, c), k.dts < l[R > 0 ? R - 1 : R].dts && (p = !0) } p && l.sort((function (t, e) { var r = t.dts - e.dts, i = t.pts - e.pts; return r || i })), n = l[0].dts; var b = (a = l[l.length - 1].dts) - n, D = b ? Math.round(b / (h - 1)) : g || t.inputTimeScale / 30; if (r) { var I = n - c, C = I > D, _ = I < -1; if ((C || _) && (C ? w.warn("AVC: " + pn(I, !0) + " ms (" + I + "dts) hole between fragments detected at " + e.toFixed(3)) : w.warn("AVC: " + pn(-I, !0) + " ms (" + I + "dts) overlapping between fragments detected at " + e.toFixed(3)), !_ || c >= l[0].pts || yn)) { n = c; var x = l[0].pts - I; if (C) l[0].dts = n, l[0].pts = x; else for (var P = 0; P < l.length && !(l[P].dts > x); P++)l[P].dts -= I, l[P].pts -= I; w.log("Video: Initial PTS/DTS adjusted: " + pn(x, !0) + "/" + pn(n, !0) + ", delta: " + pn(I, !0) + " ms") } } for (var F = 0, M = 0, O = n = Math.max(0, n), N = 0; N < h; N++) { for (var U = l[N], B = U.units, G = B.length, K = 0, H = 0; H < G; H++)K += B[H].data.length; M += K, F += G, U.length = K, U.dts < O ? (U.dts = O, O += D / 4 | 0 || 1) : O = U.dts, v = Math.min(U.pts, v), m = Math.max(U.pts, m) } a = l[h - 1].dts; var V, Y = M + 4 * F + 8; try { V = new Uint8Array(Y) } catch (t) { return void this.observer.emit(S.ERROR, S.ERROR, { type: L.MUX_ERROR, details: A.REMUX_ALLOC_ERROR, fatal: !1, error: t, bytes: Y, reason: "fail allocating video mdat " + Y }) } var W = new DataView(V.buffer); W.setUint32(0, Y), V.set(gn.types.mdat, 4); for (var j = !1, q = Number.POSITIVE_INFINITY, X = Number.POSITIVE_INFINITY, z = Number.NEGATIVE_INFINITY, Q = Number.NEGATIVE_INFINITY, J = 0; J < h; J++) { for (var $ = l[J], Z = $.units, tt = 0, et = 0, rt = Z.length; et < rt; et++) { var it = Z[et], nt = it.data, at = it.data.byteLength; W.setUint32(f, at), f += 4, V.set(nt, f), f += at, tt += 4 + at } var st = void 0; if (J < h - 1) g = l[J + 1].dts - $.dts, st = l[J + 1].pts - $.pts; else { var ot = this.config, lt = J > 0 ? $.dts - l[J - 1].dts : D; if (st = J > 0 ? $.pts - l[J - 1].pts : D, ot.stretchShortVideoTrack && null !== this.nextAudioPts) { var ut = Math.floor(ot.maxBufferHole * s), ht = (i ? v + i * s : this.nextAudioPts) - $.pts; ht > ut ? ((g = ht - lt) < 0 ? g = lt : j = !0, w.log("[mp4-remuxer]: It is approximately " + ht / 90 + " ms to the next segment; using duration " + g / 90 + " ms for the last video frame.")) : g = lt } else g = lt } var dt = Math.round($.pts - $.dts); q = Math.min(q, g), z = Math.max(z, g), X = Math.min(X, st), Q = Math.max(Q, st), u.push(new kn($.key, g, tt, dt)) } if (u.length) if (yn) { if (yn < 70) { var ct = u[0].flags; ct.dependsOn = 2, ct.isNonSync = 0 } } else if (En && Q - X < z - q && D / z < .025 && 0 === u[0].cts) { w.warn("Found irregular gaps in sample duration. Using PTS instead of DTS to determine MP4 sample duration."); for (var ft = n, gt = 0, vt = u.length; gt < vt; gt++) { var mt = ft + u[gt].duration, pt = ft + u[gt].cts; if (gt < vt - 1) { var yt = mt + u[gt + 1].cts; u[gt].duration = yt - pt } else u[gt].duration = gt ? u[gt - 1].duration : D; u[gt].cts = 0, ft = mt } } g = j || !g ? D : g, this.nextAvcDts = c = a + g, this.videoSampleDuration = g, this.isVideoContiguous = !0; var Et = { data1: gn.moof(t.sequenceNumber++, n, o({}, t, { samples: u })), data2: V, startPTS: v / s, endPTS: (m + g) / s, startDTS: n / s, endDTS: c / s, type: "video", hasAudio: !1, hasVideo: !0, nb: u.length, dropped: t.dropped }; return t.samples = [], t.dropped = 0, Et }, e.getSamplesPerFrame = function (t) { switch (t.segmentCodec) { case "mp3": return 1152; case "ac3": return 1536; default: return 1024 } }, e.remuxAudio = function (t, e, r, i, n) { var a = t.inputTimeScale, s = a / (t.samplerate ? t.samplerate : a), l = this.getSamplesPerFrame(t), u = l * s, h = this._initPTS, d = "mp3" === t.segmentCodec && this.typeSupported.mpeg, c = [], f = void 0 !== n, g = t.samples, v = d ? 0 : 8, m = this.nextAudioPts || -1, p = e * a, y = h.baseTime * a / h.timescale; if (this.isAudioContiguous = r = r || g.length && m > 0 && (i && Math.abs(p - m) < 9e3 || Math.abs(Sn(g[0].pts - y, p) - m) < 20 * u), g.forEach((function (t) { t.pts = Sn(t.pts - y, p) })), !r || m < 0) { if (g = g.filter((function (t) { return t.pts >= 0 })), !g.length) return; m = 0 === n ? 0 : i && !f ? Math.max(0, p) : g[0].pts } if ("aac" === t.segmentCodec) for (var E = this.config.maxAudioFramesDrift, T = 0, R = m; T < g.length; T++) { var k = g[T], b = k.pts, D = b - R, I = Math.abs(1e3 * D / a); if (D <= -E * u && f) 0 === T && (w.warn("Audio frame @ " + (b / a).toFixed(3) + "s overlaps nextAudioPts by " + Math.round(1e3 * D / a) + " ms."), this.nextAudioPts = m = R = b); else if (D >= E * u && I < 1e4 && f) { var C = Math.round(D / u); (R = b - C * u) < 0 && (C--, R += u), 0 === T && (this.nextAudioPts = m = R), w.warn("[mp4-remuxer]: Injecting " + C + " audio frame @ " + (R / a).toFixed(3) + "s due to " + Math.round(1e3 * D / a) + " ms gap."); for (var _ = 0; _ < C; _++) { var x = Math.max(R, 0), P = cn.getSilentFrame(t.manifestCodec || t.codec, t.channelCount); P || (w.log("[mp4-remuxer]: Unable to get silent frame for given audio codec; duplicating last frame instead."), P = k.unit.subarray()), g.splice(T, 0, { unit: P, pts: x }), R += u, T++ } } k.pts = R, R += u } for (var F, M = null, O = null, N = 0, U = g.length; U--;)N += g[U].unit.byteLength; for (var B = 0, G = g.length; B < G; B++) { var K = g[B], H = K.unit, V = K.pts; if (null !== O) c[B - 1].duration = Math.round((V - O) / s); else { if (r && "aac" === t.segmentCodec && (V = m), M = V, !(N > 0)) return; N += v; try { F = new Uint8Array(N) } catch (t) { return void this.observer.emit(S.ERROR, S.ERROR, { type: L.MUX_ERROR, details: A.REMUX_ALLOC_ERROR, fatal: !1, error: t, bytes: N, reason: "fail allocating audio mdat " + N }) } d || (new DataView(F.buffer).setUint32(0, N), F.set(gn.types.mdat, 4)) } F.set(H, v); var Y = H.byteLength; v += Y, c.push(new kn(!0, l, Y, 0)), O = V } var W = c.length; if (W) { var j = c[c.length - 1]; this.nextAudioPts = m = O + s * j.duration; var q = d ? new Uint8Array(0) : gn.moof(t.sequenceNumber++, M / s, o({}, t, { samples: c })); t.samples = []; var X = M / a, z = m / a, Q = { data1: q, data2: F, startPTS: X, endPTS: z, startDTS: X, endDTS: z, type: "audio", hasAudio: !0, hasVideo: !1, nb: W }; return this.isAudioContiguous = !0, Q } }, e.remuxEmptyAudio = function (t, e, r, i) { var n = t.inputTimeScale, a = n / (t.samplerate ? t.samplerate : n), s = this.nextAudioPts, o = this._initDTS, l = 9e4 * o.baseTime / o.timescale, u = (null !== s ? s : i.startDTS * n) + l, h = i.endDTS * n + l, d = 1024 * a, c = Math.ceil((h - u) / d), f = cn.getSilentFrame(t.manifestCodec || t.codec, t.channelCount); if (w.warn("[mp4-remuxer]: remux empty Audio"), f) { for (var g = [], v = 0; v < c; v++) { var m = u + v * d; g.push({ unit: f, pts: m, dts: m }) } return t.samples = g, this.remuxAudio(t, e, r, !1) } w.trace("[mp4-remuxer]: Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec") }, t }(); function Sn(t, e) { var r; if (null === e) return t; for (r = e < t ? -8589934592 : 8589934592; Math.abs(t - e) > 4294967296;)t += r; return t } function Ln(t, e, r, i) { var n = t.samples.length; if (n) { for (var a = t.inputTimeScale, s = 0; s < n; s++) { var o = t.samples[s]; o.pts = Sn(o.pts - r.baseTime * a / r.timescale, e * a) / a, o.dts = Sn(o.dts - i.baseTime * a / i.timescale, e * a) / a } var l = t.samples; return t.samples = [], { samples: l } } } function An(t, e, r) { var i = t.samples.length; if (i) { for (var n = t.inputTimeScale, a = 0; a < i; a++) { var s = t.samples[a]; s.pts = Sn(s.pts - r.baseTime * n / r.timescale, e * n) / n } t.samples.sort((function (t, e) { return t.pts - e.pts })); var o = t.samples; return t.samples = [], { samples: o } } } var Rn, kn = function (t, e, r, i) { this.size = void 0, this.duration = void 0, this.cts = void 0, this.flags = void 0, this.duration = e, this.size = r, this.cts = i, this.flags = { isLeading: 0, isDependedOn: 0, hasRedundancy: 0, degradPrio: 0, dependsOn: t ? 2 : 1, isNonSync: t ? 0 : 1 } }, bn = function () { function t() { this.emitInitSegment = !1, this.audioCodec = void 0, this.videoCodec = void 0, this.initData = void 0, this.initPTS = null, this.initTracks = void 0, this.lastEndTime = null } var e = t.prototype; return e.destroy = function () { }, e.resetTimeStamp = function (t) { this.initPTS = t, this.lastEndTime = null }, e.resetNextTimestamp = function () { this.lastEndTime = null }, e.resetInitSegment = function (t, e, r, i) { this.audioCodec = e, this.videoCodec = r, this.generateInitSegment(function (t, e) { if (!t || !e) return t; var r = e.keyId; return r && e.isCommonEncryption && _t(t, ["moov", "trak"]).forEach((function (t) { var e = _t(t, ["mdia", "minf", "stbl", "stsd"])[0].subarray(8), i = _t(e, ["enca"]), n = i.length > 0; n || (i = _t(e, ["encv"])), i.forEach((function (t) { _t(n ? t.subarray(28) : t.subarray(78), ["sinf"]).forEach((function (t) { var e = Ut(t); if (e) { var i = e.subarray(8, 24); i.some((function (t) { return 0 !== t })) || (w.log("[eme] Patching keyId in 'enc" + (n ? "a" : "v") + ">sinf>>tenc' box: " + Lt(i) + " -> " + Lt(r)), e.set(r, 8)) } })) })) })), t }(t, i)), this.emitInitSegment = !0 }, e.generateInitSegment = function (t) { var e = this.audioCodec, r = this.videoCodec; if (null == t || !t.byteLength) return this.initTracks = void 0, void (this.initData = void 0); var i = this.initData = Pt(t); i.audio && (e = Dn(i.audio, O)), i.video && (r = Dn(i.video, N)); var n = {}; i.audio && i.video ? n.audiovideo = { container: "video/mp4", codec: e + "," + r, initSegment: t, id: "main" } : i.audio ? n.audio = { container: "audio/mp4", codec: e, initSegment: t, id: "audio" } : i.video ? n.video = { container: "video/mp4", codec: r, initSegment: t, id: "main" } : w.warn("[passthrough-remuxer.ts]: initSegment does not contain moov or trak boxes."), this.initTracks = n }, e.remux = function (t, e, r, i, n, a) { var s, o, l = this.initPTS, u = this.lastEndTime, h = { audio: void 0, video: void 0, text: i, id3: r, initSegment: void 0 }; y(u) || (u = this.lastEndTime = n || 0); var d = e.samples; if (null == d || !d.length) return h; var c = { initPTS: void 0, timescale: 1 }, f = this.initData; if (null != (s = f) && s.length || (this.generateInitSegment(d), f = this.initData), null == (o = f) || !o.length) return w.warn("[passthrough-remuxer.ts]: Failed to generate initSegment."), h; this.emitInitSegment && (c.tracks = this.initTracks, this.emitInitSegment = !1); var g = function (t, e) { for (var r = 0, i = 0, n = 0, a = _t(t, ["moof", "traf"]), s = 0; s < a.length; s++) { var o = a[s], l = _t(o, ["tfhd"])[0], u = e[It(l, 4)]; if (u) { var h = u.default, d = It(l, 0) | (null == h ? void 0 : h.flags), c = null == h ? void 0 : h.duration; 8 & d && (c = It(l, 2 & d ? 12 : 8)); for (var f = u.timescale || 9e4, g = _t(o, ["trun"]), v = 0; v < g.length; v++)!(r = Bt(g[v])) && c && (r = c * It(g[v], 4)), u.type === N ? i += r / f : u.type === O && (n += r / f) } } if (0 === i && 0 === n) { for (var m = 0, p = _t(t, ["sidx"]), y = 0; y < p.length; y++) { var E = xt(p[y]); null != E && E.references && (m += E.references.reduce((function (t, e) { return t + e.info.duration || 0 }), 0)) } return m } return i || n }(d, f), v = function (t, e) { return _t(e, ["moof", "traf"]).reduce((function (e, r) { var i = _t(r, ["tfdt"])[0], n = i[0], a = _t(r, ["tfhd"]).reduce((function (e, r) { var a = It(r, 4), s = t[a]; if (s) { var o = It(i, 4); if (1 === n) { if (o === At) return w.warn("[mp4-demuxer]: Ignoring assumed invalid signed 64-bit track fragment decode time"), e; o *= At + 1, o += It(i, 8) } var l = o / (s.timescale || 9e4); if (y(l) && (null === e || l < e)) return l } return e }), null); return null !== a && y(a) && (null === e || a < e) ? a : e }), null) }(f, d), m = null === v ? n : v; (function (t, e, r, i) { if (null === t) return !0; var n = Math.max(i, 1), a = e - t.baseTime / t.timescale; return Math.abs(a - r) > n }(l, m, n, g) || c.timescale !== l.timescale && a) && (c.initPTS = m - n, l && 1 === l.timescale && w.warn("Adjusting initPTS by " + (c.initPTS - l.baseTime)), this.initPTS = l = { baseTime: c.initPTS, timescale: 1 }); var p = t ? m - l.baseTime / l.timescale : u, E = p + g; !function (t, e, r) { _t(e, ["moof", "traf"]).forEach((function (e) { _t(e, ["tfhd"]).forEach((function (i) { var n = It(i, 4), a = t[n]; if (a) { var s = a.timescale || 9e4; _t(e, ["tfdt"]).forEach((function (t) { var e = t[0], i = r * s; if (i) { var n = It(t, 4); if (0 === e) n -= i, Ct(t, 4, n = Math.max(n, 0)); else { n *= Math.pow(2, 32), n += It(t, 8), n -= i, n = Math.max(n, 0); var a = Math.floor(n / (At + 1)), o = Math.floor(n % (At + 1)); Ct(t, 4, a), Ct(t, 8, o) } } })) } })) })) }(f, d, l.baseTime / l.timescale), g > 0 ? this.lastEndTime = E : (w.warn("Duration parsed from mp4 should be greater than zero"), this.resetNextTimestamp()); var T = !!f.audio, S = !!f.video, L = ""; T && (L += "audio"), S && (L += "video"); var A = { data1: d, startPTS: p, startDTS: p, endPTS: E, endDTS: E, type: L, hasAudio: T, hasVideo: S, nb: 1, dropped: 0 }; return h.audio = "audio" === A.type ? A : void 0, h.video = "audio" !== A.type ? A : void 0, h.initSegment = c, h.id3 = Ln(r, n, l, l), i.samples.length && (h.text = An(i, n, l)), h }, t }(); function Dn(t, e) { var r = null == t ? void 0 : t.codec; if (r && r.length > 4) return r; if (e === O) { if ("ec-3" === r || "ac-3" === r || "alac" === r) return r; if ("fLaC" === r || "Opus" === r) return ue(r, !1); var i = "mp4a.40.5"; return w.info('Parsed audio codec "' + r + '" or audio object type not handled. Using "' + i + '"'), i } return w.warn('Unhandled video codec "' + r + '"'), "hvc1" === r || "hev1" === r ? "hvc1.1.6.L120.90" : "av01" === r ? "av01.0.04M.08" : "avc1.42e01e" } try { Rn = self.performance.now.bind(self.performance) } catch (t) { w.debug("Unable to use Performance API on this environment"), Rn = null == j ? void 0 : j.Date.now } var In = [{ demux: zi, remux: bn }, { demux: an, remux: Tn }, { demux: qi, remux: Tn }, { demux: dn, remux: Tn }]; In.splice(2, 0, { demux: Ji, remux: Tn }); var wn = function () { function t(t, e, r, i, n) { this.async = !1, this.observer = void 0, this.typeSupported = void 0, this.config = void 0, this.vendor = void 0, this.id = void 0, this.demuxer = void 0, this.remuxer = void 0, this.decrypter = void 0, this.probe = void 0, this.decryptionPromise = null, this.transmuxConfig = void 0, this.currentTransmuxState = void 0, this.observer = t, this.typeSupported = e, this.config = r, this.vendor = i, this.id = n } var e = t.prototype; return e.configure = function (t) { this.transmuxConfig = t, this.decrypter && this.decrypter.reset() }, e.push = function (t, e, r, i) { var n = this, a = r.transmuxing; a.executeStart = Rn(); var s = new Uint8Array(t), o = this.currentTransmuxState, l = this.transmuxConfig; i && (this.currentTransmuxState = i); var u = i || o, h = u.contiguous, d = u.discontinuity, c = u.trackSwitch, f = u.accurateTimeOffset, g = u.timeOffset, v = u.initSegmentChange, m = l.audioCodec, p = l.videoCodec, y = l.defaultInitPts, E = l.duration, T = l.initSegmentData, R = function (t, e) { var r = null; return t.byteLength > 0 && null != (null == e ? void 0 : e.key) && null !== e.iv && null != e.method && (r = e), r }(s, e); if (R && "AES-128" === R.method) { var k = this.getDecrypter(); if (!k.isSync()) return this.decryptionPromise = k.webCryptoDecrypt(s, R.key.buffer, R.iv.buffer).then((function (t) { var e = n.push(t, null, r); return n.decryptionPromise = null, e })), this.decryptionPromise; var b = k.softwareDecrypt(s, R.key.buffer, R.iv.buffer); if (r.part > -1 && (b = k.flush()), !b) return a.executeEnd = Rn(), Cn(r); s = new Uint8Array(b) } var D = this.needsProbing(d, c); if (D) { var I = this.configureTransmuxer(s); if (I) return w.warn("[transmuxer] " + I.message), this.observer.emit(S.ERROR, S.ERROR, { type: L.MEDIA_ERROR, details: A.FRAG_PARSING_ERROR, fatal: !1, error: I, reason: I.message }), a.executeEnd = Rn(), Cn(r) } (d || c || v || D) && this.resetInitSegment(T, m, p, E, e), (d || v || D) && this.resetInitialTimestamp(y), h || this.resetContiguity(); var C = this.transmux(s, R, g, f, r), _ = this.currentTransmuxState; return _.contiguous = !0, _.discontinuity = !1, _.trackSwitch = !1, a.executeEnd = Rn(), C }, e.flush = function (t) { var e = this, r = t.transmuxing; r.executeStart = Rn(); var i = this.decrypter, n = this.currentTransmuxState, a = this.decryptionPromise; if (a) return a.then((function () { return e.flush(t) })); var s = [], o = n.timeOffset; if (i) { var l = i.flush(); l && s.push(this.push(l, null, t)) } var u = this.demuxer, h = this.remuxer; if (!u || !h) return r.executeEnd = Rn(), [Cn(t)]; var d = u.flush(o); return _n(d) ? d.then((function (r) { return e.flushRemux(s, r, t), s })) : (this.flushRemux(s, d, t), s) }, e.flushRemux = function (t, e, r) { var i = e.audioTrack, n = e.videoTrack, a = e.id3Track, s = e.textTrack, o = this.currentTransmuxState, l = o.accurateTimeOffset, u = o.timeOffset; w.log("[transmuxer.ts]: Flushed fragment " + r.sn + (r.part > -1 ? " p: " + r.part : "") + " of level " + r.level); var h = this.remuxer.remux(i, n, a, s, u, l, !0, this.id); t.push({ remuxResult: h, chunkMeta: r }), r.transmuxing.executeEnd = Rn() }, e.resetInitialTimestamp = function (t) { var e = this.demuxer, r = this.remuxer; e && r && (e.resetTimeStamp(t), r.resetTimeStamp(t)) }, e.resetContiguity = function () { var t = this.demuxer, e = this.remuxer; t && e && (t.resetContiguity(), e.resetNextTimestamp()) }, e.resetInitSegment = function (t, e, r, i, n) { var a = this.demuxer, s = this.remuxer; a && s && (a.resetInitSegment(t, e, r, i), s.resetInitSegment(t, e, r, n)) }, e.destroy = function () { this.demuxer && (this.demuxer.destroy(), this.demuxer = void 0), this.remuxer && (this.remuxer.destroy(), this.remuxer = void 0) }, e.transmux = function (t, e, r, i, n) { return e && "SAMPLE-AES" === e.method ? this.transmuxSampleAes(t, e, r, i, n) : this.transmuxUnencrypted(t, r, i, n) }, e.transmuxUnencrypted = function (t, e, r, i) { var n = this.demuxer.demux(t, e, !1, !this.config.progressive), a = n.audioTrack, s = n.videoTrack, o = n.id3Track, l = n.textTrack; return { remuxResult: this.remuxer.remux(a, s, o, l, e, r, !1, this.id), chunkMeta: i } }, e.transmuxSampleAes = function (t, e, r, i, n) { var a = this; return this.demuxer.demuxSampleAes(t, e, r).then((function (t) { return { remuxResult: a.remuxer.remux(t.audioTrack, t.videoTrack, t.id3Track, t.textTrack, r, i, !1, a.id), chunkMeta: n } })) }, e.configureTransmuxer = function (t) { for (var e, r = this.config, i = this.observer, n = this.typeSupported, a = this.vendor, s = 0, o = In.length; s < o; s++) { var l; if (null != (l = In[s].demux) && l.probe(t)) { e = In[s]; break } } if (!e) return new Error("Failed to find demuxer by probing fragment data"); var u = this.demuxer, h = this.remuxer, d = e.remux, c = e.demux; h && h instanceof d || (this.remuxer = new d(i, r, n, a)), u && u instanceof c || (this.demuxer = new c(i, r, n), this.probe = c.probe) }, e.needsProbing = function (t, e) { return !this.demuxer || !this.remuxer || t || e }, e.getDecrypter = function () { var t = this.decrypter; return t || (t = this.decrypter = new hi(this.config)), t }, t }(), Cn = function (t) { return { remuxResult: {}, chunkMeta: t } }; function _n(t) { return "then" in t && t.then instanceof Function } var xn = function (t, e, r, i, n) { this.audioCodec = void 0, this.videoCodec = void 0, this.initSegmentData = void 0, this.duration = void 0, this.defaultInitPts = void 0, this.audioCodec = t, this.videoCodec = e, this.initSegmentData = r, this.duration = i, this.defaultInitPts = n || null }, Pn = function (t, e, r, i, n, a) { this.discontinuity = void 0, this.contiguous = void 0, this.accurateTimeOffset = void 0, this.trackSwitch = void 0, this.timeOffset = void 0, this.initSegmentChange = void 0, this.discontinuity = t, this.contiguous = e, this.accurateTimeOffset = r, this.trackSwitch = i, this.timeOffset = n, this.initSegmentChange = a }, Fn = { exports: {} }; !function (t) { var e = Object.prototype.hasOwnProperty, r = "~"; function i() { } function n(t, e, r) { this.fn = t, this.context = e, this.once = r || !1 } function a(t, e, i, a, s) { if ("function" != typeof i) throw new TypeError("The listener must be a function"); var o = new n(i, a || t, s), l = r ? r + e : e; return t._events[l] ? t._events[l].fn ? t._events[l] = [t._events[l], o] : t._events[l].push(o) : (t._events[l] = o, t._eventsCount++), t } function s(t, e) { 0 == --t._eventsCount ? t._events = new i : delete t._events[e] } function o() { this._events = new i, this._eventsCount = 0 } Object.create && (i.prototype = Object.create(null), (new i).__proto__ || (r = !1)), o.prototype.eventNames = function () { var t, i, n = []; if (0 === this._eventsCount) return n; for (i in t = this._events) e.call(t, i) && n.push(r ? i.slice(1) : i); return Object.getOwnPropertySymbols ? n.concat(Object.getOwnPropertySymbols(t)) : n }, o.prototype.listeners = function (t) { var e = r ? r + t : t, i = this._events[e]; if (!i) return []; if (i.fn) return [i.fn]; for (var n = 0, a = i.length, s = new Array(a); n < a; n++)s[n] = i[n].fn; return s }, o.prototype.listenerCount = function (t) { var e = r ? r + t : t, i = this._events[e]; return i ? i.fn ? 1 : i.length : 0 }, o.prototype.emit = function (t, e, i, n, a, s) { var o = r ? r + t : t; if (!this._events[o]) return !1; var l, u, h = this._events[o], d = arguments.length; if (h.fn) { switch (h.once && this.removeListener(t, h.fn, void 0, !0), d) { case 1: return h.fn.call(h.context), !0; case 2: return h.fn.call(h.context, e), !0; case 3: return h.fn.call(h.context, e, i), !0; case 4: return h.fn.call(h.context, e, i, n), !0; case 5: return h.fn.call(h.context, e, i, n, a), !0; case 6: return h.fn.call(h.context, e, i, n, a, s), !0 }for (u = 1, l = new Array(d - 1); u < d; u++)l[u - 1] = arguments[u]; h.fn.apply(h.context, l) } else { var c, f = h.length; for (u = 0; u < f; u++)switch (h[u].once && this.removeListener(t, h[u].fn, void 0, !0), d) { case 1: h[u].fn.call(h[u].context); break; case 2: h[u].fn.call(h[u].context, e); break; case 3: h[u].fn.call(h[u].context, e, i); break; case 4: h[u].fn.call(h[u].context, e, i, n); break; default: if (!l) for (c = 1, l = new Array(d - 1); c < d; c++)l[c - 1] = arguments[c]; h[u].fn.apply(h[u].context, l) } } return !0 }, o.prototype.on = function (t, e, r) { return a(this, t, e, r, !1) }, o.prototype.once = function (t, e, r) { return a(this, t, e, r, !0) }, o.prototype.removeListener = function (t, e, i, n) { var a = r ? r + t : t; if (!this._events[a]) return this; if (!e) return s(this, a), this; var o = this._events[a]; if (o.fn) o.fn !== e || n && !o.once || i && o.context !== i || s(this, a); else { for (var l = 0, u = [], h = o.length; l < h; l++)(o[l].fn !== e || n && !o[l].once || i && o[l].context !== i) && u.push(o[l]); u.length ? this._events[a] = 1 === u.length ? u[0] : u : s(this, a) } return this }, o.prototype.removeAllListeners = function (t) { var e; return t ? (e = r ? r + t : t, this._events[e] && s(this, e)) : (this._events = new i, this._eventsCount = 0), this }, o.prototype.off = o.prototype.removeListener, o.prototype.addListener = o.prototype.on, o.prefixed = r, o.EventEmitter = o, t.exports = o }(Fn); var Mn = v(Fn.exports); function On(t, e) { if (!((r = e.remuxResult).audio || r.video || r.text || r.id3 || r.initSegment)) return !1; var r, i = [], n = e.remuxResult, a = n.audio, s = n.video; return a && Nn(i, a), s && Nn(i, s), t.postMessage({ event: "transmuxComplete", data: e }, i), !0 } function Nn(t, e) { e.data1 && t.push(e.data1.buffer), e.data2 && t.push(e.data2.buffer) } function Un(t, e, r) { e.reduce((function (e, r) { return On(t, r) || e }), !1) || t.postMessage({ event: "transmuxComplete", data: e[0] }), t.postMessage({ event: "flush", data: r }) } void 0 !== e && e && function (t) { var e = new Mn, r = function (e, r) { t.postMessage({ event: e, data: r }) }; e.on(S.FRAG_DECRYPTED, r), e.on(S.ERROR, r); var i = function () { var t = function (t) { var e = function (e) { r("workerLog", { logType: t, message: e }) }; w[t] = e }; for (var e in w) t(e) }; t.addEventListener("message", (function (n) { var a = n.data; switch (a.cmd) { case "init": var s = JSON.parse(a.config); t.transmuxer = new wn(e, a.typeSupported, s, a.vendor, a.id), I(s.debug, a.id), i(), r("init", null); break; case "configure": t.transmuxer.configure(a.config); break; case "demux": var o = t.transmuxer.push(a.data, a.decryptdata, a.chunkMeta, a.state); _n(o) ? (t.transmuxer.async = !0, o.then((function (e) { On(t, e) })).catch((function (t) { r(S.ERROR, { type: L.MEDIA_ERROR, details: A.FRAG_PARSING_ERROR, chunkMeta: a.chunkMeta, fatal: !1, error: t, err: t, reason: "transmuxer-worker push error" }) }))) : (t.transmuxer.async = !1, On(t, o)); break; case "flush": var l = a.chunkMeta, u = t.transmuxer.flush(l); _n(u) || t.transmuxer.async ? (_n(u) || (u = Promise.resolve(u)), u.then((function (e) { Un(t, e, l) })).catch((function (t) { r(S.ERROR, { type: L.MEDIA_ERROR, details: A.FRAG_PARSING_ERROR, chunkMeta: a.chunkMeta, fatal: !1, error: t, err: t, reason: "transmuxer-worker flush error" }) }))) : Un(t, u, l) } })) }(self); var Bn = function () { function e(e, r, i, n) { var a = this; this.error = null, this.hls = void 0, this.id = void 0, this.observer = void 0, this.frag = null, this.part = null, this.useWorker = void 0, this.workerContext = null, this.onwmsg = void 0, this.transmuxer = null, this.onTransmuxComplete = void 0, this.onFlush = void 0; var s = e.config; this.hls = e, this.id = r, this.useWorker = !!s.enableWorker, this.onTransmuxComplete = i, this.onFlush = n; var o = function (t, e) { (e = e || {}).frag = a.frag, e.id = a.id, t === S.ERROR && (a.error = e.error), a.hls.trigger(t, e) }; this.observer = new Mn, this.observer.on(S.FRAG_DECRYPTED, o), this.observer.on(S.ERROR, o); var l, u, h, d, c = te(s.preferManagedMediaSource) || { isTypeSupported: function () { return !1 } }, f = { mpeg: c.isTypeSupported("audio/mpeg"), mp3: c.isTypeSupported('audio/mp4; codecs="mp3"'), ac3: c.isTypeSupported('audio/mp4; codecs="ac-3"') }, g = navigator.vendor; if (!this.useWorker || "undefined" == typeof Worker || (s.workerPath, 0)) this.transmuxer = new wn(this.observer, f, s, g, r); else try { s.workerPath ? (w.log("loading Web Worker " + s.workerPath + ' for "' + r + '"'), this.workerContext = (h = s.workerPath, d = new self.URL(h, self.location.href).href, { worker: new self.Worker(d), scriptURL: d })) : (w.log('injecting Web Worker for "' + r + '"'), this.workerContext = (l = new self.Blob(["var exports={};var module={exports:exports};function define(f){f()};define.amd=true;(" + t.toString() + ")(true);"], { type: "text/javascript" }), u = self.URL.createObjectURL(l), { worker: new self.Worker(u), objectURL: u })), this.onwmsg = function (t) { return a.onWorkerMessage(t) }; var v = this.workerContext.worker; v.addEventListener("message", this.onwmsg), v.onerror = function (t) { var e = new Error(t.message + "  (" + t.filename + ":" + t.lineno + ")"); s.enableWorker = !1, w.warn('Error in "' + r + '" Web Worker, fallback to inline'), a.hls.trigger(S.ERROR, { type: L.OTHER_ERROR, details: A.INTERNAL_EXCEPTION, fatal: !1, event: "demuxerWorker", error: e }) }, v.postMessage({ cmd: "init", typeSupported: f, vendor: g, id: r, config: JSON.stringify(s) }) } catch (t) { w.warn('Error setting up "' + r + '" Web Worker, fallback to inline', t), this.resetWorker(), this.error = null, this.transmuxer = new wn(this.observer, f, s, g, r) } } var r = e.prototype; return r.resetWorker = function () { if (this.workerContext) { var t = this.workerContext, e = t.worker, r = t.objectURL; r && self.URL.revokeObjectURL(r), e.removeEventListener("message", this.onwmsg), e.onerror = null, e.terminate(), this.workerContext = null } }, r.destroy = function () { if (this.workerContext) this.resetWorker(), this.onwmsg = void 0; else { var t = this.transmuxer; t && (t.destroy(), this.transmuxer = null) } var e = this.observer; e && e.removeAllListeners(), this.frag = null, this.observer = null, this.hls = null }, r.push = function (t, e, r, i, n, a, s, o, l, u) { var h, d, c = this; l.transmuxing.start = self.performance.now(); var f = this.transmuxer, g = a ? a.start : n.start, v = n.decryptdata, m = this.frag, p = !(m && n.cc === m.cc), y = !(m && l.level === m.level), E = m ? l.sn - m.sn : -1, T = this.part ? l.part - this.part.index : -1, S = 0 === E && l.id > 1 && l.id === (null == m ? void 0 : m.stats.chunkCount), L = !y && (1 === E || 0 === E && (1 === T || S && T <= 0)), A = self.performance.now(); (y || E || 0 === n.stats.parsing.start) && (n.stats.parsing.start = A), !a || !T && L || (a.stats.parsing.start = A); var R = !(m && (null == (h = n.initSegment) ? void 0 : h.url) === (null == (d = m.initSegment) ? void 0 : d.url)), k = new Pn(p, L, o, y, g, R); if (!L || p || R) { w.log("[transmuxer-interface, " + n.type + "]: Starting new transmux session for sn: " + l.sn + " p: " + l.part + " level: " + l.level + " id: " + l.id + "\n        discontinuity: " + p + "\n        trackSwitch: " + y + "\n        contiguous: " + L + "\n        accurateTimeOffset: " + o + "\n        timeOffset: " + g + "\n        initSegmentChange: " + R); var b = new xn(r, i, e, s, u); this.configureTransmuxer(b) } if (this.frag = n, this.part = a, this.workerContext) this.workerContext.worker.postMessage({ cmd: "demux", data: t, decryptdata: v, chunkMeta: l, state: k }, t instanceof ArrayBuffer ? [t] : []); else if (f) { var D = f.push(t, v, l, k); _n(D) ? (f.async = !0, D.then((function (t) { c.handleTransmuxComplete(t) })).catch((function (t) { c.transmuxerError(t, l, "transmuxer-interface push error") }))) : (f.async = !1, this.handleTransmuxComplete(D)) } }, r.flush = function (t) { var e = this; t.transmuxing.start = self.performance.now(); var r = this.transmuxer; if (this.workerContext) this.workerContext.worker.postMessage({ cmd: "flush", chunkMeta: t }); else if (r) { var i = r.flush(t); _n(i) || r.async ? (_n(i) || (i = Promise.resolve(i)), i.then((function (r) { e.handleFlushResult(r, t) })).catch((function (r) { e.transmuxerError(r, t, "transmuxer-interface flush error") }))) : this.handleFlushResult(i, t) } }, r.transmuxerError = function (t, e, r) { this.hls && (this.error = t, this.hls.trigger(S.ERROR, { type: L.MEDIA_ERROR, details: A.FRAG_PARSING_ERROR, chunkMeta: e, fatal: !1, error: t, err: t, reason: r })) }, r.handleFlushResult = function (t, e) { var r = this; t.forEach((function (t) { r.handleTransmuxComplete(t) })), this.onFlush(e) }, r.onWorkerMessage = function (t) { var e = t.data, r = this.hls; switch (e.event) { case "init": var i, n = null == (i = this.workerContext) ? void 0 : i.objectURL; n && self.URL.revokeObjectURL(n); break; case "transmuxComplete": this.handleTransmuxComplete(e.data); break; case "flush": this.onFlush(e.data); break; case "workerLog": w[e.data.logType] && w[e.data.logType](e.data.message); break; default: e.data = e.data || {}, e.data.frag = this.frag, e.data.id = this.id, r.trigger(e.event, e.data) } }, r.configureTransmuxer = function (t) { var e = this.transmuxer; this.workerContext ? this.workerContext.worker.postMessage({ cmd: "configure", config: t }) : e && e.configure(t) }, r.handleTransmuxComplete = function (t) { t.chunkMeta.transmuxing.end = self.performance.now(), this.onTransmuxComplete(t) }, e }(); function Gn(t, e) { if (t.length !== e.length) return !1; for (var r = 0; r < t.length; r++)if (!Kn(t[r].attrs, e[r].attrs)) return !1; return !0 } function Kn(t, e, r) { var i = t["STABLE-RENDITION-ID"]; return i && !r ? i === e["STABLE-RENDITION-ID"] : !(r || ["LANGUAGE", "NAME", "CHARACTERISTICS", "AUTOSELECT", "DEFAULT", "FORCED", "ASSOC-LANGUAGE"]).some((function (r) { return t[r] !== e[r] })) } function Hn(t, e) { return e.label.toLowerCase() === t.name.toLowerCase() && (!e.language || e.language.toLowerCase() === (t.lang || "").toLowerCase()) } var Vn = function (t) { function e(e, r, i) { var n; return (n = t.call(this, e, r, i, "[audio-stream-controller]", we) || this).videoBuffer = null, n.videoTrackCC = -1, n.waitingVideoCC = -1, n.bufferedTrack = null, n.switchingTrack = null, n.trackId = -1, n.waitingData = null, n.mainDetails = null, n.flushing = !1, n.bufferFlushed = !1, n.cachedTrackLoadedData = null, n._registerListeners(), n } l(e, t); var r = e.prototype; return r.onHandlerDestroying = function () { this._unregisterListeners(), t.prototype.onHandlerDestroying.call(this), this.mainDetails = null, this.bufferedTrack = null, this.switchingTrack = null }, r._registerListeners = function () { var t = this.hls; t.on(S.MEDIA_ATTACHED, this.onMediaAttached, this), t.on(S.MEDIA_DETACHING, this.onMediaDetaching, this), t.on(S.MANIFEST_LOADING, this.onManifestLoading, this), t.on(S.LEVEL_LOADED, this.onLevelLoaded, this), t.on(S.AUDIO_TRACKS_UPDATED, this.onAudioTracksUpdated, this), t.on(S.AUDIO_TRACK_SWITCHING, this.onAudioTrackSwitching, this), t.on(S.AUDIO_TRACK_LOADED, this.onAudioTrackLoaded, this), t.on(S.ERROR, this.onError, this), t.on(S.BUFFER_RESET, this.onBufferReset, this), t.on(S.BUFFER_CREATED, this.onBufferCreated, this), t.on(S.BUFFER_FLUSHING, this.onBufferFlushing, this), t.on(S.BUFFER_FLUSHED, this.onBufferFlushed, this), t.on(S.INIT_PTS_FOUND, this.onInitPtsFound, this), t.on(S.FRAG_BUFFERED, this.onFragBuffered, this) }, r._unregisterListeners = function () { var t = this.hls; t.off(S.MEDIA_ATTACHED, this.onMediaAttached, this), t.off(S.MEDIA_DETACHING, this.onMediaDetaching, this), t.off(S.MANIFEST_LOADING, this.onManifestLoading, this), t.off(S.LEVEL_LOADED, this.onLevelLoaded, this), t.off(S.AUDIO_TRACKS_UPDATED, this.onAudioTracksUpdated, this), t.off(S.AUDIO_TRACK_SWITCHING, this.onAudioTrackSwitching, this), t.off(S.AUDIO_TRACK_LOADED, this.onAudioTrackLoaded, this), t.off(S.ERROR, this.onError, this), t.off(S.BUFFER_RESET, this.onBufferReset, this), t.off(S.BUFFER_CREATED, this.onBufferCreated, this), t.off(S.BUFFER_FLUSHING, this.onBufferFlushing, this), t.off(S.BUFFER_FLUSHED, this.onBufferFlushed, this), t.off(S.INIT_PTS_FOUND, this.onInitPtsFound, this), t.off(S.FRAG_BUFFERED, this.onFragBuffered, this) }, r.onInitPtsFound = function (t, e) { var r = e.frag, i = e.id, n = e.initPTS, a = e.timescale; if ("main" === i) { var s = r.cc; this.initPTS[r.cc] = { baseTime: n, timescale: a }, this.log("InitPTS for cc: " + s + " found from main: " + n), this.videoTrackCC = s, this.state === Li && this.tick() } }, r.startLoad = function (t) { if (!this.levels) return this.startPosition = t, void (this.state = ci); var e = this.lastCurrentTime; this.stopLoad(), this.setInterval(100), e > 0 && -1 === t ? (this.log("Override startPosition with lastCurrentTime @" + e.toFixed(3)), t = e, this.state = fi) : (this.loadedmetadata = !1, this.state = pi), this.nextLoadPosition = this.startPosition = this.lastCurrentTime = t, this.tick() }, r.doTick = function () { switch (this.state) { case fi: this.doTickIdle(); break; case pi: var e, r = this.levels, i = this.trackId, n = null == r || null == (e = r[i]) ? void 0 : e.details; if (n) { if (this.waitForCdnTuneIn(n)) break; this.state = Li } break; case mi: var a, s = performance.now(), o = this.retryDate; if (!o || s >= o || null != (a = this.media) && a.seeking) { var l = this.levels, u = this.trackId; this.log("RetryDate reached, switch back to IDLE state"), this.resetStartWhenNotLoaded((null == l ? void 0 : l[u]) || null), this.state = fi } break; case Li: var h = this.waitingData; if (h) { var d = h.frag, c = h.part, f = h.cache, g = h.complete; if (void 0 !== this.initPTS[d.cc]) { this.waitingData = null, this.waitingVideoCC = -1, this.state = vi; var v = { frag: d, part: c, payload: f.flush(), networkDetails: null }; this._handleFragmentLoadProgress(v), g && t.prototype._handleFragmentLoadComplete.call(this, v) } else if (this.videoTrackCC !== this.waitingVideoCC) this.log("Waiting fragment cc (" + d.cc + ") cancelled because video is at cc " + this.videoTrackCC), this.clearWaitingFragment(); else { var m = this.getLoadPosition(), p = zr.bufferInfo(this.mediaBuffer, m, this.config.maxBufferHole); pr(p.end, this.config.maxFragLookUpTolerance, d) < 0 && (this.log("Waiting fragment cc (" + d.cc + ") @ " + d.start + " cancelled because another fragment at " + p.end + " is needed"), this.clearWaitingFragment()) } } else this.state = fi }this.onTickEnd() }, r.clearWaitingFragment = function () { var t = this.waitingData; t && (this.fragmentTracker.removeFragment(t.frag), this.waitingData = null, this.waitingVideoCC = -1, this.state = fi) }, r.resetLoadingState = function () { this.clearWaitingFragment(), t.prototype.resetLoadingState.call(this) }, r.onTickEnd = function () { var t = this.media; null != t && t.readyState && (this.lastCurrentTime = t.currentTime) }, r.doTickIdle = function () { var t = this.hls, e = this.levels, r = this.media, i = this.trackId, n = t.config; if ((r || !this.startFragRequested && n.startFragPrefetch) && null != e && e[i]) { var a = e[i], s = a.details; if (!s || s.live && this.levelLastLoaded !== a || this.waitForCdnTuneIn(s)) this.state = pi; else { var o = this.mediaBuffer ? this.mediaBuffer : this.media; this.bufferFlushed && o && (this.bufferFlushed = !1, this.afterBufferFlushed(o, O, we)); var l = this.getFwdBufferInfo(o, we); if (null !== l) { var u = this.bufferedTrack, h = this.switchingTrack; if (!h && this._streamEnded(l, s)) return t.trigger(S.BUFFER_EOS, { type: "audio" }), void (this.state = Ti); var d = this.getFwdBufferInfo(this.videoBuffer ? this.videoBuffer : this.media, Ie), c = l.len, f = this.getMaxBufferLength(null == d ? void 0 : d.len), g = s.fragments, v = g[0].start, m = this.flushing ? this.getLoadPosition() : l.end; if (h && r) { var p = this.getLoadPosition(); u && !Kn(h.attrs, u.attrs) && (m = p), s.PTSKnown && p < v && (l.end > v || l.nextStart) && (this.log("Alt audio track ahead of main track, seek to start of alt audio track"), r.currentTime = v + .05) } if (!(c >= f && !h && m < g[g.length - 1].start)) { var y = this.getNextFragment(m, s), E = !1; if (y && this.isLoopLoading(y, m) && (E = !!y.gap, y = this.getNextFragmentLoopLoading(y, s, l, Ie, f)), y) { var T = d && y.start > d.end + s.targetduration; if (T || (null == d || !d.len) && l.len) { var L = this.getAppendedFrag(y.start, Ie); if (null === L) return; if (E || (E = !!L.gap || !!T && 0 === d.len), T && !E || E && l.nextStart && l.nextStart < L.end) return } this.loadFragment(y, a, m) } else this.bufferFlushed = !0 } } } } }, r.getMaxBufferLength = function (e) { var r = t.prototype.getMaxBufferLength.call(this); return e ? Math.min(Math.max(r, e), this.config.maxMaxBufferLength) : r }, r.onMediaDetaching = function () { this.videoBuffer = null, this.bufferFlushed = this.flushing = !1, t.prototype.onMediaDetaching.call(this) }, r.onAudioTracksUpdated = function (t, e) { var r = e.audioTracks; this.resetTransmuxer(), this.levels = r.map((function (t) { return new tr(t) })) }, r.onAudioTrackSwitching = function (t, e) { var r = !!e.url; this.trackId = e.id; var i = this.fragCurrent; i && (i.abortRequests(), this.removeUnbufferedFrags(i.start)), this.resetLoadingState(), r ? this.setInterval(100) : this.resetTransmuxer(), r ? (this.switchingTrack = e, this.state = fi, this.flushAudioIfNeeded(e)) : (this.switchingTrack = null, this.bufferedTrack = e, this.state = ci), this.tick() }, r.onManifestLoading = function () { this.fragmentTracker.removeAllFragments(), this.startPosition = this.lastCurrentTime = 0, this.bufferFlushed = this.flushing = !1, this.levels = this.mainDetails = this.waitingData = this.bufferedTrack = this.cachedTrackLoadedData = this.switchingTrack = null, this.startFragRequested = !1, this.trackId = this.videoTrackCC = this.waitingVideoCC = -1 }, r.onLevelLoaded = function (t, e) { this.mainDetails = e.details, null !== this.cachedTrackLoadedData && (this.hls.trigger(S.AUDIO_TRACK_LOADED, this.cachedTrackLoadedData), this.cachedTrackLoadedData = null) }, r.onAudioTrackLoaded = function (t, e) { var r; if (null != this.mainDetails) { var i = this.levels, n = e.details, a = e.id; if (i) { this.log("Audio track " + a + " loaded [" + n.startSN + "," + n.endSN + "]" + (n.lastPartSn ? "[part-" + n.lastPartSn + "-" + n.lastPartIndex + "]" : "") + ",duration:" + n.totalduration); var s = i[a], o = 0; if (n.live || null != (r = s.details) && r.live) { this.checkLiveUpdate(n); var l, u = this.mainDetails; if (n.deltaUpdateFailed || !u) return; !s.details && n.hasProgramDateTime && u.hasProgramDateTime ? (ei(n, u), o = n.fragments[0].start) : o = this.alignPlaylists(n, s.details, null == (l = this.levelLastLoaded) ? void 0 : l.details) } s.details = n, this.levelLastLoaded = s, this.startFragRequested || !this.mainDetails && n.live || this.setStartPosition(s.details, o), this.state !== pi || this.waitForCdnTuneIn(n) || (this.state = fi), this.tick() } else this.warn("Audio tracks were reset while loading level " + a) } else this.cachedTrackLoadedData = e }, r._handleFragmentLoadProgress = function (t) { var e, r = t.frag, i = t.part, n = t.payload, a = this.config, s = this.trackId, o = this.levels; if (o) { var l = o[s]; if (l) { var u = l.details; if (!u) return this.warn("Audio track details undefined on fragment load progress"), void this.removeUnbufferedFrags(r.start); var h = a.defaultAudioCodec || l.audioCodec || "mp4a.40.2", d = this.transmuxer; d || (d = this.transmuxer = new Bn(this.hls, we, this._handleTransmuxComplete.bind(this), this._handleTransmuxerFlush.bind(this))); var c = this.initPTS[r.cc], f = null == (e = r.initSegment) ? void 0 : e.data; if (void 0 !== c) { var g = i ? i.index : -1, v = -1 !== g, m = new Qr(r.level, r.sn, r.stats.chunkCount, n.byteLength, g, v); d.push(n, f, h, "", r, i, u.totalduration, !1, m, c) } else this.log("Unknown video PTS for cc " + r.cc + ", waiting for video PTS before demuxing audio frag " + r.sn + " of [" + u.startSN + " ," + u.endSN + "],track " + s), (this.waitingData = this.waitingData || { frag: r, part: i, cache: new ki, complete: !1 }).cache.push(new Uint8Array(n)), this.waitingVideoCC = this.videoTrackCC, this.state = Li } else this.warn("Audio track is undefined on fragment load progress") } else this.warn("Audio tracks were reset while fragment load was in progress. Fragment " + r.sn + " of level " + r.level + " will not be buffered") }, r._handleFragmentLoadComplete = function (e) { this.waitingData ? this.waitingData.complete = !0 : t.prototype._handleFragmentLoadComplete.call(this, e) }, r.onBufferReset = function () { this.mediaBuffer = this.videoBuffer = null, this.loadedmetadata = !1 }, r.onBufferCreated = function (t, e) { var r = e.tracks.audio; r && (this.mediaBuffer = r.buffer || null), e.tracks.video && (this.videoBuffer = e.tracks.video.buffer || null) }, r.onFragBuffered = function (t, e) { var r = e.frag, n = e.part; if (r.type === we) if (this.fragContextChanged(r)) this.warn("Fragment " + r.sn + (n ? " p: " + n.index : "") + " of level " + r.level + " finished buffering, but was aborted. state: " + this.state + ", audioSwitch: " + (this.switchingTrack ? this.switchingTrack.name : "false")); else { if ("initSegment" !== r.sn) { this.fragPrevious = r; var a = this.switchingTrack; a && (this.bufferedTrack = a, this.switchingTrack = null, this.hls.trigger(S.AUDIO_TRACK_SWITCHED, i({}, a))) } this.fragBufferedComplete(r, n) } else if (!this.loadedmetadata && r.type === Ie) { var s = this.videoBuffer || this.media; s && zr.getBuffered(s).length && (this.loadedmetadata = !0) } }, r.onError = function (e, r) { var i; if (r.fatal) this.state = Si; else switch (r.details) { case A.FRAG_GAP: case A.FRAG_PARSING_ERROR: case A.FRAG_DECRYPT_ERROR: case A.FRAG_LOAD_ERROR: case A.FRAG_LOAD_TIMEOUT: case A.KEY_LOAD_ERROR: case A.KEY_LOAD_TIMEOUT: this.onFragmentOrKeyLoadError(we, r); break; case A.AUDIO_TRACK_LOAD_ERROR: case A.AUDIO_TRACK_LOAD_TIMEOUT: case A.LEVEL_PARSING_ERROR: r.levelRetry || this.state !== pi || (null == (i = r.context) ? void 0 : i.type) !== be || (this.state = fi); break; case A.BUFFER_APPEND_ERROR: case A.BUFFER_FULL_ERROR: if (!r.parent || "audio" !== r.parent) return; if (r.details === A.BUFFER_APPEND_ERROR) return void this.resetLoadingState(); this.reduceLengthAndFlushBuffer(r) && (this.bufferedTrack = null, t.prototype.flushMainBuffer.call(this, 0, Number.POSITIVE_INFINITY, "audio")); break; case A.INTERNAL_EXCEPTION: this.recoverWorkerError(r) } }, r.onBufferFlushing = function (t, e) { e.type !== N && (this.flushing = !0) }, r.onBufferFlushed = function (t, e) { var r = e.type; if (r !== N) { this.flushing = !1, this.bufferFlushed = !0, this.state === Ti && (this.state = fi); var i = this.mediaBuffer || this.media; i && (this.afterBufferFlushed(i, r, we), this.tick()) } }, r._handleTransmuxComplete = function (t) { var e, r = "audio", i = this.hls, n = t.remuxResult, a = t.chunkMeta, s = this.getCurrentContext(a); if (s) { var l = s.frag, u = s.part, h = s.level, d = h.details, c = n.audio, f = n.text, g = n.id3, v = n.initSegment; if (!this.fragContextChanged(l) && d) { if (this.state = yi, this.switchingTrack && c && this.completeAudioSwitch(this.switchingTrack), null != v && v.tracks) { var m = l.initSegment || l; this._bufferInitSegment(h, v.tracks, m, a), i.trigger(S.FRAG_PARSING_INIT_SEGMENT, { frag: m, id: r, tracks: v.tracks }) } if (c) { var p = c.startPTS, y = c.endPTS, E = c.startDTS, T = c.endDTS; u && (u.elementaryStreams[O] = { startPTS: p, endPTS: y, startDTS: E, endDTS: T }), l.setElementaryStreamInfo(O, p, y, E, T), this.bufferFragmentData(c, l, u, a) } if (null != g && null != (e = g.samples) && e.length) { var L = o({ id: r, frag: l, details: d }, g); i.trigger(S.FRAG_PARSING_METADATA, L) } if (f) { var A = o({ id: r, frag: l, details: d }, f); i.trigger(S.FRAG_PARSING_USERDATA, A) } } else this.fragmentTracker.removeFragment(l) } else this.resetWhenMissingContext(a) }, r._bufferInitSegment = function (t, e, r, i) { if (this.state === yi) { e.video && delete e.video; var n = e.audio; if (n) { n.id = "audio"; var a = t.audioCodec; this.log("Init audio buffer, container:" + n.container + ", codecs[level/parsed]=[" + a + "/" + n.codec + "]"), a && 1 === a.split(",").length && (n.levelCodec = a), this.hls.trigger(S.BUFFER_CODECS, e); var s = n.initSegment; if (null != s && s.byteLength) { var o = { type: "audio", frag: r, part: null, chunkMeta: i, parent: r.type, data: s }; this.hls.trigger(S.BUFFER_APPENDING, o) } this.tickImmediate() } } }, r.loadFragment = function (e, r, i) { var n, a = this.fragmentTracker.getState(e); if (this.fragCurrent = e, this.switchingTrack || a === Kr || a === Vr) if ("initSegment" === e.sn) this._loadInitSegment(e, r); else if (null != (n = r.details) && n.live && !this.initPTS[e.cc]) { this.log("Waiting for video PTS in continuity counter " + e.cc + " of live stream before loading audio fragment " + e.sn + " of level " + this.trackId), this.state = Li; var s = this.mainDetails; s && s.fragments[0].start !== r.details.fragments[0].start && ei(r.details, s) } else this.startFragRequested = !0, t.prototype.loadFragment.call(this, e, r, i); else this.clearTrackerIfNeeded(e) }, r.flushAudioIfNeeded = function (e) { var r = this.media, i = this.bufferedTrack, n = null == i ? void 0 : i.attrs, a = e.attrs; r && n && (n.CHANNELS !== a.CHANNELS || i.name !== e.name || i.lang !== e.lang) && (this.log("Switching audio track : flushing all audio"), t.prototype.flushMainBuffer.call(this, 0, Number.POSITIVE_INFINITY, "audio"), this.bufferedTrack = null) }, r.completeAudioSwitch = function (t) { var e = this.hls; this.flushAudioIfNeeded(t), this.bufferedTrack = t, this.switchingTrack = null, e.trigger(S.AUDIO_TRACK_SWITCHED, i({}, t)) }, e }(Ri), Yn = function (t) { function e(e) { var r; return (r = t.call(this, e, "[audio-track-controller]") || this).tracks = [], r.groupIds = null, r.tracksInGroup = [], r.trackId = -1, r.currentTrack = null, r.selectDefaultTrack = !0, r.registerListeners(), r } l(e, t); var r = e.prototype; return r.registerListeners = function () { var t = this.hls; t.on(S.MANIFEST_LOADING, this.onManifestLoading, this), t.on(S.MANIFEST_PARSED, this.onManifestParsed, this), t.on(S.LEVEL_LOADING, this.onLevelLoading, this), t.on(S.LEVEL_SWITCHING, this.onLevelSwitching, this), t.on(S.AUDIO_TRACK_LOADED, this.onAudioTrackLoaded, this), t.on(S.ERROR, this.onError, this) }, r.unregisterListeners = function () { var t = this.hls; t.off(S.MANIFEST_LOADING, this.onManifestLoading, this), t.off(S.MANIFEST_PARSED, this.onManifestParsed, this), t.off(S.LEVEL_LOADING, this.onLevelLoading, this), t.off(S.LEVEL_SWITCHING, this.onLevelSwitching, this), t.off(S.AUDIO_TRACK_LOADED, this.onAudioTrackLoaded, this), t.off(S.ERROR, this.onError, this) }, r.destroy = function () { this.unregisterListeners(), this.tracks.length = 0, this.tracksInGroup.length = 0, this.currentTrack = null, t.prototype.destroy.call(this) }, r.onManifestLoading = function () { this.tracks = [], this.tracksInGroup = [], this.groupIds = null, this.currentTrack = null, this.trackId = -1, this.selectDefaultTrack = !0 }, r.onManifestParsed = function (t, e) { this.tracks = e.audioTracks || [] }, r.onAudioTrackLoaded = function (t, e) { var r = e.id, i = e.groupId, n = e.details, a = this.tracksInGroup[r]; if (a && a.groupId === i) { var s = a.details; a.details = e.details, this.log("Audio track " + r + ' "' + a.name + '" lang:' + a.lang + " group:" + i + " loaded [" + n.startSN + "-" + n.endSN + "]"), r === this.trackId && this.playlistLoaded(r, e, s) } else this.warn("Audio track with id:" + r + " and group:" + i + " not found in active group " + (null == a ? void 0 : a.groupId)) }, r.onLevelLoading = function (t, e) { this.switchLevel(e.level) }, r.onLevelSwitching = function (t, e) { this.switchLevel(e.level) }, r.switchLevel = function (t) { var e = this.hls.levels[t]; if (e) { var r = e.audioGroups || null, i = this.groupIds, n = this.currentTrack; if (!r || (null == i ? void 0 : i.length) !== (null == r ? void 0 : r.length) || null != r && r.some((function (t) { return -1 === (null == i ? void 0 : i.indexOf(t)) }))) { this.groupIds = r, this.trackId = -1, this.currentTrack = null; var a = this.tracks.filter((function (t) { return !r || -1 !== r.indexOf(t.groupId) })); if (a.length) this.selectDefaultTrack && !a.some((function (t) { return t.default })) && (this.selectDefaultTrack = !1), a.forEach((function (t, e) { t.id = e })); else if (!n && !this.tracksInGroup.length) return; this.tracksInGroup = a; var s = this.hls.config.audioPreference; if (!n && s) { var o = Mr(s, a, Nr); if (o > -1) n = a[o]; else { var l = Mr(s, this.tracks); n = this.tracks[l] } } var u = this.findTrackId(n); -1 === u && n && (u = this.findTrackId(null)); var h = { audioTracks: a }; this.log("Updating audio tracks, " + a.length + " track(s) found in group(s): " + (null == r ? void 0 : r.join(","))), this.hls.trigger(S.AUDIO_TRACKS_UPDATED, h); var d = this.trackId; if (-1 !== u && -1 === d) this.setAudioTrack(u); else if (a.length && -1 === d) { var c, f = new Error("No audio track selected for current audio group-ID(s): " + (null == (c = this.groupIds) ? void 0 : c.join(",")) + " track count: " + a.length); this.warn(f.message), this.hls.trigger(S.ERROR, { type: L.MEDIA_ERROR, details: A.AUDIO_TRACK_LOAD_ERROR, fatal: !0, error: f }) } } else this.shouldReloadPlaylist(n) && this.setAudioTrack(this.trackId) } }, r.onError = function (t, e) { !e.fatal && e.context && (e.context.type !== be || e.context.id !== this.trackId || this.groupIds && -1 === this.groupIds.indexOf(e.context.groupId) || (this.requestScheduled = -1, this.checkRetry(e))) }, r.setAudioOption = function (t) { var e = this.hls; if (e.config.audioPreference = t, t) { var r = this.allAudioTracks; if (this.selectDefaultTrack = !1, r.length) { var i = this.currentTrack; if (i && Or(t, i, Nr)) return i; var n = Mr(t, this.tracksInGroup, Nr); if (n > -1) { var a = this.tracksInGroup[n]; return this.setAudioTrack(n), a } if (i) { var s = e.loadLevel; -1 === s && (s = e.firstAutoLevel); var o = function (t, e, r, i, n) { var a = e[i], s = e.reduce((function (t, e, r) { var i = e.uri; return (t[i] || (t[i] = [])).push(r), t }), {})[a.uri]; s.length > 1 && (i = Math.max.apply(Math, s)); var o = a.videoRange, l = a.frameRate, u = a.codecSet.substring(0, 4), h = Ur(e, i, (function (e) { if (e.videoRange !== o || e.frameRate !== l || e.codecSet.substring(0, 4) !== u) return !1; var i = e.audioGroups, a = r.filter((function (t) { return !i || -1 !== i.indexOf(t.groupId) })); return Mr(t, a, n) > -1 })); return h > -1 ? h : Ur(e, i, (function (e) { var i = e.audioGroups, a = r.filter((function (t) { return !i || -1 !== i.indexOf(t.groupId) })); return Mr(t, a, n) > -1 })) }(t, e.levels, r, s, Nr); if (-1 === o) return null; e.nextLoadLevel = o } if (t.channels || t.audioCodec) { var l = Mr(t, r); if (l > -1) return r[l] } } } return null }, r.setAudioTrack = function (t) { var e = this.tracksInGroup; if (t < 0 || t >= e.length) this.warn("Invalid audio track id: " + t); else { this.clearTimer(), this.selectDefaultTrack = !1; var r = this.currentTrack, n = e[t], a = n.details && !n.details.live; if (!(t === this.trackId && n === r && a || (this.log("Switching to audio-track " + t + ' "' + n.name + '" lang:' + n.lang + " group:" + n.groupId + " channels:" + n.channels), this.trackId = t, this.currentTrack = n, this.hls.trigger(S.AUDIO_TRACK_SWITCHING, i({}, n)), a))) { var s = this.switchParams(n.url, null == r ? void 0 : r.details); this.loadPlaylist(s) } } }, r.findTrackId = function (t) { for (var e = this.tracksInGroup, r = 0; r < e.length; r++) { var i = e[r]; if ((!this.selectDefaultTrack || i.default) && (!t || Or(t, i, Nr))) return r } if (t) { for (var n = t.name, a = t.lang, s = t.assocLang, o = t.characteristics, l = t.audioCodec, u = t.channels, h = 0; h < e.length; h++)if (Or({ name: n, lang: a, assocLang: s, characteristics: o, audioCodec: l, channels: u }, e[h], Nr)) return h; for (var d = 0; d < e.length; d++) { var c = e[d]; if (Kn(t.attrs, c.attrs, ["LANGUAGE", "ASSOC-LANGUAGE", "CHARACTERISTICS"])) return d } for (var f = 0; f < e.length; f++) { var g = e[f]; if (Kn(t.attrs, g.attrs, ["LANGUAGE"])) return f } } return -1 }, r.loadPlaylist = function (e) { var r = this.currentTrack; if (this.shouldLoadPlaylist(r) && r) { t.prototype.loadPlaylist.call(this); var i = r.id, n = r.groupId, a = r.url; if (e) try { a = e.addDirectives(a) } catch (t) { this.warn("Could not construct new URL with HLS Delivery Directives: " + t) } this.log("loading audio-track playlist " + i + ' "' + r.name + '" lang:' + r.lang + " group:" + n), this.clearTimer(), this.hls.trigger(S.AUDIO_TRACK_LOADING, { url: a, id: i, groupId: n, deliveryDirectives: e || null }) } }, s(e, [{ key: "allAudioTracks", get: function () { return this.tracks } }, { key: "audioTracks", get: function () { return this.tracksInGroup } }, { key: "audioTrack", get: function () { return this.trackId }, set: function (t) { this.selectDefaultTrack = !1, this.setAudioTrack(t) } }]), e }(Dr), Wn = function (t) { function e(e, r, i) { var n; return (n = t.call(this, e, r, i, "[subtitle-stream-controller]", Ce) || this).currentTrackId = -1, n.tracksBuffered = [], n.mainDetails = null, n._registerListeners(), n } l(e, t); var r = e.prototype; return r.onHandlerDestroying = function () { this._unregisterListeners(), t.prototype.onHandlerDestroying.call(this), this.mainDetails = null }, r._registerListeners = function () { var t = this.hls; t.on(S.MEDIA_ATTACHED, this.onMediaAttached, this), t.on(S.MEDIA_DETACHING, this.onMediaDetaching, this), t.on(S.MANIFEST_LOADING, this.onManifestLoading, this), t.on(S.LEVEL_LOADED, this.onLevelLoaded, this), t.on(S.ERROR, this.onError, this), t.on(S.SUBTITLE_TRACKS_UPDATED, this.onSubtitleTracksUpdated, this), t.on(S.SUBTITLE_TRACK_SWITCH, this.onSubtitleTrackSwitch, this), t.on(S.SUBTITLE_TRACK_LOADED, this.onSubtitleTrackLoaded, this), t.on(S.SUBTITLE_FRAG_PROCESSED, this.onSubtitleFragProcessed, this), t.on(S.BUFFER_FLUSHING, this.onBufferFlushing, this), t.on(S.FRAG_BUFFERED, this.onFragBuffered, this) }, r._unregisterListeners = function () { var t = this.hls; t.off(S.MEDIA_ATTACHED, this.onMediaAttached, this), t.off(S.MEDIA_DETACHING, this.onMediaDetaching, this), t.off(S.MANIFEST_LOADING, this.onManifestLoading, this), t.off(S.LEVEL_LOADED, this.onLevelLoaded, this), t.off(S.ERROR, this.onError, this), t.off(S.SUBTITLE_TRACKS_UPDATED, this.onSubtitleTracksUpdated, this), t.off(S.SUBTITLE_TRACK_SWITCH, this.onSubtitleTrackSwitch, this), t.off(S.SUBTITLE_TRACK_LOADED, this.onSubtitleTrackLoaded, this), t.off(S.SUBTITLE_FRAG_PROCESSED, this.onSubtitleFragProcessed, this), t.off(S.BUFFER_FLUSHING, this.onBufferFlushing, this), t.off(S.FRAG_BUFFERED, this.onFragBuffered, this) }, r.startLoad = function (t) { this.stopLoad(), this.state = fi, this.setInterval(500), this.nextLoadPosition = this.startPosition = this.lastCurrentTime = t, this.tick() }, r.onManifestLoading = function () { this.mainDetails = null, this.fragmentTracker.removeAllFragments() }, r.onMediaDetaching = function () { this.tracksBuffered = [], t.prototype.onMediaDetaching.call(this) }, r.onLevelLoaded = function (t, e) { this.mainDetails = e.details }, r.onSubtitleFragProcessed = function (t, e) { var r = e.frag, i = e.success; if (this.fragPrevious = r, this.state = fi, i) { var n = this.tracksBuffered[this.currentTrackId]; if (n) { for (var a, s = r.start, o = 0; o < n.length; o++)if (s >= n[o].start && s <= n[o].end) { a = n[o]; break } var l = r.start + r.duration; a ? a.end = l : (a = { start: s, end: l }, n.push(a)), this.fragmentTracker.fragBuffered(r), this.fragBufferedComplete(r, null) } } }, r.onBufferFlushing = function (t, e) { var r = e.startOffset, i = e.endOffset; if (0 === r && i !== Number.POSITIVE_INFINITY) { var n = i - 1; if (n <= 0) return; e.endOffsetSubtitles = Math.max(0, n), this.tracksBuffered.forEach((function (t) { for (var e = 0; e < t.length;)if (t[e].end <= n) t.shift(); else { if (!(t[e].start < n)) break; t[e].start = n, e++ } })), this.fragmentTracker.removeFragmentsInRange(r, n, Ce) } }, r.onFragBuffered = function (t, e) { var r; this.loadedmetadata || e.frag.type !== Ie || null != (r = this.media) && r.buffered.length && (this.loadedmetadata = !0) }, r.onError = function (t, e) { var r = e.frag; (null == r ? void 0 : r.type) === Ce && (this.fragCurrent && this.fragCurrent.abortRequests(), this.state !== ci && (this.state = fi)) }, r.onSubtitleTracksUpdated = function (t, e) { var r = this, i = e.subtitleTracks; this.levels && !Gn(this.levels, i) ? (this.tracksBuffered = [], this.levels = i.map((function (t) { var e = new tr(t); return r.tracksBuffered[e.id] = [], e })), this.fragmentTracker.removeFragmentsInRange(0, Number.POSITIVE_INFINITY, Ce), this.fragPrevious = null, this.mediaBuffer = null) : this.levels = i.map((function (t) { return new tr(t) })) }, r.onSubtitleTrackSwitch = function (t, e) { var r; if (this.currentTrackId = e.id, null != (r = this.levels) && r.length && -1 !== this.currentTrackId) { var i = this.levels[this.currentTrackId]; null != i && i.details ? this.mediaBuffer = this.mediaBufferTimeRanges : this.mediaBuffer = null, i && this.setInterval(500) } else this.clearInterval() }, r.onSubtitleTrackLoaded = function (t, e) { var r, i = this.currentTrackId, n = this.levels, a = e.details, s = e.id; if (n) { var o = n[i]; if (!(s >= n.length || s !== i) && o) { this.log("Subtitle track " + s + " loaded [" + a.startSN + "," + a.endSN + "]" + (a.lastPartSn ? "[part-" + a.lastPartSn + "-" + a.lastPartIndex + "]" : "") + ",duration:" + a.totalduration), this.mediaBuffer = this.mediaBufferTimeRanges; var l = 0; if (a.live || null != (r = o.details) && r.live) { var u = this.mainDetails; if (a.deltaUpdateFailed || !u) return; var h, d = u.fragments[0]; o.details ? 0 === (l = this.alignPlaylists(a, o.details, null == (h = this.levelLastLoaded) ? void 0 : h.details)) && d && sr(a, l = d.start) : a.hasProgramDateTime && u.hasProgramDateTime ? (ei(a, u), l = a.fragments[0].start) : d && sr(a, l = d.start) } o.details = a, this.levelLastLoaded = o, this.startFragRequested || !this.mainDetails && a.live || this.setStartPosition(o.details, l), this.tick(), a.live && !this.fragCurrent && this.media && this.state === fi && (mr(null, a.fragments, this.media.currentTime, 0) || (this.warn("Subtitle playlist not aligned with playback"), o.details = void 0)) } } else this.warn("Subtitle tracks were reset while loading level " + s) }, r._handleFragmentLoadComplete = function (t) { var e = this, r = t.frag, i = t.payload, n = r.decryptdata, a = this.hls; if (!this.fragContextChanged(r) && i && i.byteLength > 0 && null != n && n.key && n.iv && "AES-128" === n.method) { var s = performance.now(); this.decrypter.decrypt(new Uint8Array(i), n.key.buffer, n.iv.buffer).catch((function (t) { throw a.trigger(S.ERROR, { type: L.MEDIA_ERROR, details: A.FRAG_DECRYPT_ERROR, fatal: !1, error: t, reason: t.message, frag: r }), t })).then((function (t) { var e = performance.now(); a.trigger(S.FRAG_DECRYPTED, { frag: r, payload: t, stats: { tstart: s, tdecrypt: e } }) })).catch((function (t) { e.warn(t.name + ": " + t.message), e.state = fi })) } }, r.doTick = function () { if (this.media) { if (this.state === fi) { var t = this.currentTrackId, e = this.levels, r = null == e ? void 0 : e[t]; if (!r || !e.length || !r.details) return; var i = this.config, n = this.getLoadPosition(), a = zr.bufferedInfo(this.tracksBuffered[this.currentTrackId] || [], n, i.maxBufferHole), s = a.end, o = a.len, l = this.getFwdBufferInfo(this.media, Ie), u = r.details; if (o > this.getMaxBufferLength(null == l ? void 0 : l.len) + u.levelTargetDuration) return; var h = u.fragments, d = h.length, c = u.edge, f = null, g = this.fragPrevious; if (s < c) { var v = i.maxFragLookUpTolerance, m = s > c - v ? 0 : v; !(f = mr(g, h, Math.max(h[0].start, s), m)) && g && g.start < h[0].start && (f = h[0]) } else f = h[d - 1]; if (!f) return; if ("initSegment" !== (f = this.mapToInitFragWhenRequired(f)).sn) { var p = h[f.sn - u.startSN - 1]; p && p.cc === f.cc && this.fragmentTracker.getState(p) === Kr && (f = p) } this.fragmentTracker.getState(f) === Kr && this.loadFragment(f, r, s) } } else this.state = fi }, r.getMaxBufferLength = function (e) { var r = t.prototype.getMaxBufferLength.call(this); return e ? Math.max(r, e) : r }, r.loadFragment = function (e, r, i) { this.fragCurrent = e, "initSegment" === e.sn ? this._loadInitSegment(e, r) : (this.startFragRequested = !0, t.prototype.loadFragment.call(this, e, r, i)) }, s(e, [{ key: "mediaBufferTimeRanges", get: function () { return new jn(this.tracksBuffered[this.currentTrackId] || []) } }]), e }(Ri), jn = function (t) { this.buffered = void 0; var e = function (e, r, i) { if ((r >>>= 0) > i - 1) throw new DOMException("Failed to execute '" + e + "' on 'TimeRanges': The index provided (" + r + ") is greater than the maximum bound (" + i + ")"); return t[r][e] }; this.buffered = { get length() { return t.length }, end: function (r) { return e("end", r, t.length) }, start: function (r) { return e("start", r, t.length) } } }, qn = function (t) { function e(e) { var r; return (r = t.call(this, e, "[subtitle-track-controller]") || this).media = null, r.tracks = [], r.groupIds = null, r.tracksInGroup = [], r.trackId = -1, r.currentTrack = null, r.selectDefaultTrack = !0, r.queuedDefaultTrack = -1, r.asyncPollTrackChange = function () { return r.pollTrackChange(0) }, r.useTextTrackPolling = !1, r.subtitlePollingInterval = -1, r._subtitleDisplay = !0, r.onTextTracksChanged = function () { if (r.useTextTrackPolling || self.clearInterval(r.subtitlePollingInterval), r.media && r.hls.config.renderTextTracksNatively) { for (var t = null, e = Ue(r.media.textTracks), i = 0; i < e.length; i++)if ("hidden" === e[i].mode) t = e[i]; else if ("showing" === e[i].mode) { t = e[i]; break } var n = r.findTrackForTextTrack(t); r.subtitleTrack !== n && r.setSubtitleTrack(n) } }, r.registerListeners(), r } l(e, t); var r = e.prototype; return r.destroy = function () { this.unregisterListeners(), this.tracks.length = 0, this.tracksInGroup.length = 0, this.currentTrack = null, this.onTextTracksChanged = this.asyncPollTrackChange = null, t.prototype.destroy.call(this) }, r.registerListeners = function () { var t = this.hls; t.on(S.MEDIA_ATTACHED, this.onMediaAttached, this), t.on(S.MEDIA_DETACHING, this.onMediaDetaching, this), t.on(S.MANIFEST_LOADING, this.onManifestLoading, this), t.on(S.MANIFEST_PARSED, this.onManifestParsed, this), t.on(S.LEVEL_LOADING, this.onLevelLoading, this), t.on(S.LEVEL_SWITCHING, this.onLevelSwitching, this), t.on(S.SUBTITLE_TRACK_LOADED, this.onSubtitleTrackLoaded, this), t.on(S.ERROR, this.onError, this) }, r.unregisterListeners = function () { var t = this.hls; t.off(S.MEDIA_ATTACHED, this.onMediaAttached, this), t.off(S.MEDIA_DETACHING, this.onMediaDetaching, this), t.off(S.MANIFEST_LOADING, this.onManifestLoading, this), t.off(S.MANIFEST_PARSED, this.onManifestParsed, this), t.off(S.LEVEL_LOADING, this.onLevelLoading, this), t.off(S.LEVEL_SWITCHING, this.onLevelSwitching, this), t.off(S.SUBTITLE_TRACK_LOADED, this.onSubtitleTrackLoaded, this), t.off(S.ERROR, this.onError, this) }, r.onMediaAttached = function (t, e) { this.media = e.media, this.media && (this.queuedDefaultTrack > -1 && (this.subtitleTrack = this.queuedDefaultTrack, this.queuedDefaultTrack = -1), this.useTextTrackPolling = !(this.media.textTracks && "onchange" in this.media.textTracks), this.useTextTrackPolling ? this.pollTrackChange(500) : this.media.textTracks.addEventListener("change", this.asyncPollTrackChange)) }, r.pollTrackChange = function (t) { self.clearInterval(this.subtitlePollingInterval), this.subtitlePollingInterval = self.setInterval(this.onTextTracksChanged, t) }, r.onMediaDetaching = function () { this.media && (self.clearInterval(this.subtitlePollingInterval), this.useTextTrackPolling || this.media.textTracks.removeEventListener("change", this.asyncPollTrackChange), this.trackId > -1 && (this.queuedDefaultTrack = this.trackId), Ue(this.media.textTracks).forEach((function (t) { Oe(t) })), this.subtitleTrack = -1, this.media = null) }, r.onManifestLoading = function () { this.tracks = [], this.groupIds = null, this.tracksInGroup = [], this.trackId = -1, this.currentTrack = null, this.selectDefaultTrack = !0 }, r.onManifestParsed = function (t, e) { this.tracks = e.subtitleTracks }, r.onSubtitleTrackLoaded = function (t, e) { var r = e.id, i = e.groupId, n = e.details, a = this.tracksInGroup[r]; if (a && a.groupId === i) { var s = a.details; a.details = e.details, this.log("Subtitle track " + r + ' "' + a.name + '" lang:' + a.lang + " group:" + i + " loaded [" + n.startSN + "-" + n.endSN + "]"), r === this.trackId && this.playlistLoaded(r, e, s) } else this.warn("Subtitle track with id:" + r + " and group:" + i + " not found in active group " + (null == a ? void 0 : a.groupId)) }, r.onLevelLoading = function (t, e) { this.switchLevel(e.level) }, r.onLevelSwitching = function (t, e) { this.switchLevel(e.level) }, r.switchLevel = function (t) { var e = this.hls.levels[t]; if (e) { var r = e.subtitleGroups || null, i = this.groupIds, n = this.currentTrack; if (!r || (null == i ? void 0 : i.length) !== (null == r ? void 0 : r.length) || null != r && r.some((function (t) { return -1 === (null == i ? void 0 : i.indexOf(t)) }))) { this.groupIds = r, this.trackId = -1, this.currentTrack = null; var a = this.tracks.filter((function (t) { return !r || -1 !== r.indexOf(t.groupId) })); if (a.length) this.selectDefaultTrack && !a.some((function (t) { return t.default })) && (this.selectDefaultTrack = !1), a.forEach((function (t, e) { t.id = e })); else if (!n && !this.tracksInGroup.length) return; this.tracksInGroup = a; var s = this.hls.config.subtitlePreference; if (!n && s) { this.selectDefaultTrack = !1; var o = Mr(s, a); if (o > -1) n = a[o]; else { var l = Mr(s, this.tracks); n = this.tracks[l] } } var u = this.findTrackId(n); -1 === u && n && (u = this.findTrackId(null)); var h = { subtitleTracks: a }; this.log("Updating subtitle tracks, " + a.length + ' track(s) found in "' + (null == r ? void 0 : r.join(",")) + '" group-id'), this.hls.trigger(S.SUBTITLE_TRACKS_UPDATED, h), -1 !== u && -1 === this.trackId && this.setSubtitleTrack(u) } else this.shouldReloadPlaylist(n) && this.setSubtitleTrack(this.trackId) } }, r.findTrackId = function (t) { for (var e = this.tracksInGroup, r = this.selectDefaultTrack, i = 0; i < e.length; i++) { var n = e[i]; if ((!r || n.default) && (r || t) && (!t || Or(n, t))) return i } if (t) { for (var a = 0; a < e.length; a++) { var s = e[a]; if (Kn(t.attrs, s.attrs, ["LANGUAGE", "ASSOC-LANGUAGE", "CHARACTERISTICS"])) return a } for (var o = 0; o < e.length; o++) { var l = e[o]; if (Kn(t.attrs, l.attrs, ["LANGUAGE"])) return o } } return -1 }, r.findTrackForTextTrack = function (t) { if (t) for (var e = this.tracksInGroup, r = 0; r < e.length; r++)if (Hn(e[r], t)) return r; return -1 }, r.onError = function (t, e) { !e.fatal && e.context && (e.context.type !== De || e.context.id !== this.trackId || this.groupIds && -1 === this.groupIds.indexOf(e.context.groupId) || this.checkRetry(e)) }, r.setSubtitleOption = function (t) { if (this.hls.config.subtitlePreference = t, t) { var e = this.allSubtitleTracks; if (this.selectDefaultTrack = !1, e.length) { var r = this.currentTrack; if (r && Or(t, r)) return r; var i = Mr(t, this.tracksInGroup); if (i > -1) { var n = this.tracksInGroup[i]; return this.setSubtitleTrack(i), n } if (r) return null; var a = Mr(t, e); if (a > -1) return e[a] } } return null }, r.loadPlaylist = function (e) { t.prototype.loadPlaylist.call(this); var r = this.currentTrack; if (this.shouldLoadPlaylist(r) && r) { var i = r.id, n = r.groupId, a = r.url; if (e) try { a = e.addDirectives(a) } catch (t) { this.warn("Could not construct new URL with HLS Delivery Directives: " + t) } this.log("Loading subtitle playlist for id " + i), this.hls.trigger(S.SUBTITLE_TRACK_LOADING, { url: a, id: i, groupId: n, deliveryDirectives: e || null }) } }, r.toggleTrackModes = function () { var t = this.media; if (t) { var e, r = Ue(t.textTracks), i = this.currentTrack; if (i && ((e = r.filter((function (t) { return Hn(i, t) }))[0]) || this.warn('Unable to find subtitle TextTrack with name "' + i.name + '" and language "' + i.lang + '"')), [].slice.call(r).forEach((function (t) { "disabled" !== t.mode && t !== e && (t.mode = "disabled") })), e) { var n = this.subtitleDisplay ? "showing" : "hidden"; e.mode !== n && (e.mode = n) } } }, r.setSubtitleTrack = function (t) { var e = this.tracksInGroup; if (this.media) if (t < -1 || t >= e.length || !y(t)) this.warn("Invalid subtitle track id: " + t); else { this.clearTimer(), this.selectDefaultTrack = !1; var r = this.currentTrack, i = e[t] || null; if (this.trackId = t, this.currentTrack = i, this.toggleTrackModes(), i) { var n = !!i.details && !i.details.live; if (t !== this.trackId || i !== r || !n) { this.log("Switching to subtitle-track " + t + (i ? ' "' + i.name + '" lang:' + i.lang + " group:" + i.groupId : "")); var a = i.id, s = i.groupId, o = void 0 === s ? "" : s, l = i.name, u = i.type, h = i.url; this.hls.trigger(S.SUBTITLE_TRACK_SWITCH, { id: a, groupId: o, name: l, type: u, url: h }); var d = this.switchParams(i.url, null == r ? void 0 : r.details); this.loadPlaylist(d) } } else this.hls.trigger(S.SUBTITLE_TRACK_SWITCH, { id: t }) } else this.queuedDefaultTrack = t }, s(e, [{ key: "subtitleDisplay", get: function () { return this._subtitleDisplay }, set: function (t) { this._subtitleDisplay = t, this.trackId > -1 && this.toggleTrackModes() } }, { key: "allSubtitleTracks", get: function () { return this.tracks } }, { key: "subtitleTracks", get: function () { return this.tracksInGroup } }, { key: "subtitleTrack", get: function () { return this.trackId }, set: function (t) { this.selectDefaultTrack = !1, this.setSubtitleTrack(t) } }]), e }(Dr), Xn = function () { function t(t) { this.buffers = void 0, this.queues = { video: [], audio: [], audiovideo: [] }, this.buffers = t } var e = t.prototype; return e.append = function (t, e, r) { var i = this.queues[e]; i.push(t), 1 !== i.length || r || this.executeNext(e) }, e.insertAbort = function (t, e) { this.queues[e].unshift(t), this.executeNext(e) }, e.appendBlocker = function (t) { var e, r = new Promise((function (t) { e = t })), i = { execute: e, onStart: function () { }, onComplete: function () { }, onError: function () { } }; return this.append(i, t), r }, e.executeNext = function (t) { var e = this.queues[t]; if (e.length) { var r = e[0]; try { r.execute() } catch (e) { w.warn('[buffer-operation-queue]: Exception executing "' + t + '" SourceBuffer operation: ' + e), r.onError(e); var i = this.buffers[t]; null != i && i.updating || this.shiftAndExecuteNext(t) } } }, e.shiftAndExecuteNext = function (t) { this.queues[t].shift(), this.executeNext(t) }, e.current = function (t) { return this.queues[t][0] }, t }(), zn = /(avc[1234]|hvc1|hev1|dvh[1e]|vp09|av01)(?:\.[^.,]+)+/, Qn = function () { function t(t) { var e = this; this.details = null, this._objectUrl = null, this.operationQueue = void 0, this.listeners = void 0, this.hls = void 0, this.bufferCodecEventsExpected = 0, this._bufferCodecEventsTotal = 0, this.media = null, this.mediaSource = null, this.lastMpegAudioChunk = null, this.appendSource = void 0, this.appendErrors = { audio: 0, video: 0, audiovideo: 0 }, this.tracks = {}, this.pendingTracks = {}, this.sourceBuffer = void 0, this.log = void 0, this.warn = void 0, this.error = void 0, this._onEndStreaming = function (t) { e.hls && e.hls.pauseBuffering() }, this._onStartStreaming = function (t) { e.hls && e.hls.resumeBuffering() }, this._onMediaSourceOpen = function () { var t = e.media, r = e.mediaSource; e.log("Media source opened"), t && (t.removeEventListener("emptied", e._onMediaEmptied), e.updateMediaElementDuration(), e.hls.trigger(S.MEDIA_ATTACHED, { media: t, mediaSource: r })), r && r.removeEventListener("sourceopen", e._onMediaSourceOpen), e.checkPendingTracks() }, this._onMediaSourceClose = function () { e.log("Media source closed") }, this._onMediaSourceEnded = function () { e.log("Media source ended") }, this._onMediaEmptied = function () { var t = e.mediaSrc, r = e._objectUrl; t !== r && w.error("Media element src was set while attaching MediaSource (" + r + " > " + t + ")") }, this.hls = t; var r = "[buffer-controller]"; this.appendSource = t.config.preferManagedMediaSource, this.log = w.log.bind(w, r), this.warn = w.warn.bind(w, r), this.error = w.error.bind(w, r), this._initSourceBuffer(), this.registerListeners() } var e = t.prototype; return e.hasSourceTypes = function () { return this.getSourceBufferTypes().length > 0 || Object.keys(this.pendingTracks).length > 0 }, e.destroy = function () { this.unregisterListeners(), this.details = null, this.lastMpegAudioChunk = null, this.hls = null }, e.registerListeners = function () { var t = this.hls; t.on(S.MEDIA_ATTACHING, this.onMediaAttaching, this), t.on(S.MEDIA_DETACHING, this.onMediaDetaching, this), t.on(S.MANIFEST_LOADING, this.onManifestLoading, this), t.on(S.MANIFEST_PARSED, this.onManifestParsed, this), t.on(S.BUFFER_RESET, this.onBufferReset, this), t.on(S.BUFFER_APPENDING, this.onBufferAppending, this), t.on(S.BUFFER_CODECS, this.onBufferCodecs, this), t.on(S.BUFFER_EOS, this.onBufferEos, this), t.on(S.BUFFER_FLUSHING, this.onBufferFlushing, this), t.on(S.LEVEL_UPDATED, this.onLevelUpdated, this), t.on(S.FRAG_PARSED, this.onFragParsed, this), t.on(S.FRAG_CHANGED, this.onFragChanged, this) }, e.unregisterListeners = function () { var t = this.hls; t.off(S.MEDIA_ATTACHING, this.onMediaAttaching, this), t.off(S.MEDIA_DETACHING, this.onMediaDetaching, this), t.off(S.MANIFEST_LOADING, this.onManifestLoading, this), t.off(S.MANIFEST_PARSED, this.onManifestParsed, this), t.off(S.BUFFER_RESET, this.onBufferReset, this), t.off(S.BUFFER_APPENDING, this.onBufferAppending, this), t.off(S.BUFFER_CODECS, this.onBufferCodecs, this), t.off(S.BUFFER_EOS, this.onBufferEos, this), t.off(S.BUFFER_FLUSHING, this.onBufferFlushing, this), t.off(S.LEVEL_UPDATED, this.onLevelUpdated, this), t.off(S.FRAG_PARSED, this.onFragParsed, this), t.off(S.FRAG_CHANGED, this.onFragChanged, this) }, e._initSourceBuffer = function () { this.sourceBuffer = {}, this.operationQueue = new Xn(this.sourceBuffer), this.listeners = { audio: [], video: [], audiovideo: [] }, this.appendErrors = { audio: 0, video: 0, audiovideo: 0 }, this.lastMpegAudioChunk = null }, e.onManifestLoading = function () { this.bufferCodecEventsExpected = this._bufferCodecEventsTotal = 0, this.details = null }, e.onManifestParsed = function (t, e) { var r = 2; (e.audio && !e.video || !e.altAudio) && (r = 1), this.bufferCodecEventsExpected = this._bufferCodecEventsTotal = r, this.log(this.bufferCodecEventsExpected + " bufferCodec event(s) expected") }, e.onMediaAttaching = function (t, e) { var r = this.media = e.media, i = te(this.appendSource); if (r && i) { var n, a = this.mediaSource = new i; this.log("created media source: " + (null == (n = a.constructor) ? void 0 : n.name)), a.addEventListener("sourceopen", this._onMediaSourceOpen), a.addEventListener("sourceended", this._onMediaSourceEnded), a.addEventListener("sourceclose", this._onMediaSourceClose), a.addEventListener("startstreaming", this._onStartStreaming), a.addEventListener("endstreaming", this._onEndStreaming); var s = this._objectUrl = self.URL.createObjectURL(a); if (this.appendSource) try { r.removeAttribute("src"); var o = self.ManagedMediaSource; r.disableRemotePlayback = r.disableRemotePlayback || o && a instanceof o, Jn(r), function (t, e) { var r = self.document.createElement("source"); r.type = "video/mp4", r.src = e, t.appendChild(r) }(r, s), r.load() } catch (t) { r.src = s } else r.src = s; r.addEventListener("emptied", this._onMediaEmptied) } }, e.onMediaDetaching = function () { var t = this.media, e = this.mediaSource, r = this._objectUrl; if (e) { if (this.log("media source detaching"), "open" === e.readyState) try { e.endOfStream() } catch (t) { this.warn("onMediaDetaching: " + t.message + " while calling endOfStream") } this.onBufferReset(), e.removeEventListener("sourceopen", this._onMediaSourceOpen), e.removeEventListener("sourceended", this._onMediaSourceEnded), e.removeEventListener("sourceclose", this._onMediaSourceClose), e.removeEventListener("startstreaming", this._onStartStreaming), e.removeEventListener("endstreaming", this._onEndStreaming), t && (t.removeEventListener("emptied", this._onMediaEmptied), r && self.URL.revokeObjectURL(r), this.mediaSrc === r ? (t.removeAttribute("src"), this.appendSource && Jn(t), t.load()) : this.warn("media|source.src was changed by a third party - skip cleanup")), this.mediaSource = null, this.media = null, this._objectUrl = null, this.bufferCodecEventsExpected = this._bufferCodecEventsTotal, this.pendingTracks = {}, this.tracks = {} } this.hls.trigger(S.MEDIA_DETACHED, void 0) }, e.onBufferReset = function () { var t = this; this.getSourceBufferTypes().forEach((function (e) { t.resetBuffer(e) })), this._initSourceBuffer() }, e.resetBuffer = function (t) { var e = this.sourceBuffer[t]; try { var r; e && (this.removeBufferListeners(t), this.sourceBuffer[t] = void 0, null != (r = this.mediaSource) && r.sourceBuffers.length && this.mediaSource.removeSourceBuffer(e)) } catch (e) { this.warn("onBufferReset " + t, e) } }, e.onBufferCodecs = function (t, e) { var r = this, i = this.getSourceBufferTypes().length, n = Object.keys(e); if (n.forEach((function (t) { if (i) { var n = r.tracks[t]; if (n && "function" == typeof n.buffer.changeType) { var a, s = e[t], o = s.id, l = s.codec, u = s.levelCodec, h = s.container, d = s.metadata, c = he(n.codec, n.levelCodec), f = null == c ? void 0 : c.replace(zn, "$1"), g = he(l, u), v = null == (a = g) ? void 0 : a.replace(zn, "$1"); if (g && f !== v) { "audio" === t.slice(0, 5) && (g = ue(g, r.hls.config.preferManagedMediaSource)); var m = h + ";codecs=" + g; r.appendChangeType(t, m), r.log("switching codec " + c + " to " + g), r.tracks[t] = { buffer: n.buffer, codec: l, container: h, levelCodec: u, metadata: d, id: o } } } } else r.pendingTracks[t] = e[t] })), !i) { var a = Math.max(this.bufferCodecEventsExpected - 1, 0); this.bufferCodecEventsExpected !== a && (this.log(a + " bufferCodec event(s) expected " + n.join(",")), this.bufferCodecEventsExpected = a), this.mediaSource && "open" === this.mediaSource.readyState && this.checkPendingTracks() } }, e.appendChangeType = function (t, e) { var r = this, i = this.operationQueue, n = { execute: function () { var n = r.sourceBuffer[t]; n && (r.log("changing " + t + " sourceBuffer type to " + e), n.changeType(e)), i.shiftAndExecuteNext(t) }, onStart: function () { }, onComplete: function () { }, onError: function (e) { r.warn("Failed to change " + t + " SourceBuffer type", e) } }; i.append(n, t, !!this.pendingTracks[t]) }, e.onBufferAppending = function (t, e) { var r = this, i = this.hls, n = this.operationQueue, a = this.tracks, s = e.data, o = e.type, l = e.frag, u = e.part, h = e.chunkMeta, d = h.buffering[o], c = self.performance.now(); d.start = c; var f = l.stats.buffering, g = u ? u.stats.buffering : null; 0 === f.start && (f.start = c), g && 0 === g.start && (g.start = c); var v = a.audio, m = !1; "audio" === o && "audio/mpeg" === (null == v ? void 0 : v.container) && (m = !this.lastMpegAudioChunk || 1 === h.id || this.lastMpegAudioChunk.sn !== h.sn, this.lastMpegAudioChunk = h); var p = l.start, y = { execute: function () { if (d.executeStart = self.performance.now(), m) { var t = r.sourceBuffer[o]; if (t) { var e = p - t.timestampOffset; Math.abs(e) >= .1 && (r.log("Updating audio SourceBuffer timestampOffset to " + p + " (delta: " + e + ") sn: " + l.sn + ")"), t.timestampOffset = p) } } r.appendExecutor(s, o) }, onStart: function () { }, onComplete: function () { var t = self.performance.now(); d.executeEnd = d.end = t, 0 === f.first && (f.first = t), g && 0 === g.first && (g.first = t); var e = r.sourceBuffer, i = {}; for (var n in e) i[n] = zr.getBuffered(e[n]); r.appendErrors[o] = 0, "audio" === o || "video" === o ? r.appendErrors.audiovideo = 0 : (r.appendErrors.audio = 0, r.appendErrors.video = 0), r.hls.trigger(S.BUFFER_APPENDED, { type: o, frag: l, part: u, chunkMeta: h, parent: l.type, timeRanges: i }) }, onError: function (t) { var e = { type: L.MEDIA_ERROR, parent: l.type, details: A.BUFFER_APPEND_ERROR, sourceBufferName: o, frag: l, part: u, chunkMeta: h, error: t, err: t, fatal: !1 }; if (t.code === DOMException.QUOTA_EXCEEDED_ERR) e.details = A.BUFFER_FULL_ERROR; else { var n = ++r.appendErrors[o]; e.details = A.BUFFER_APPEND_ERROR, r.warn("Failed " + n + "/" + i.config.appendErrorMaxRetry + ' times to append segment in "' + o + '" sourceBuffer'), n >= i.config.appendErrorMaxRetry && (e.fatal = !0) } i.trigger(S.ERROR, e) } }; n.append(y, o, !!this.pendingTracks[o]) }, e.onBufferFlushing = function (t, e) { var r = this, i = this.operationQueue, n = function (t) { return { execute: r.removeExecutor.bind(r, t, e.startOffset, e.endOffset), onStart: function () { }, onComplete: function () { r.hls.trigger(S.BUFFER_FLUSHED, { type: t }) }, onError: function (e) { r.warn("Failed to remove from " + t + " SourceBuffer", e) } } }; e.type ? i.append(n(e.type), e.type) : this.getSourceBufferTypes().forEach((function (t) { i.append(n(t), t) })) }, e.onFragParsed = function (t, e) { var r = this, i = e.frag, n = e.part, a = [], s = n ? n.elementaryStreams : i.elementaryStreams; s[U] ? a.push("audiovideo") : (s[O] && a.push("audio"), s[N] && a.push("video")), 0 === a.length && this.warn("Fragments must have at least one ElementaryStreamType set. type: " + i.type + " level: " + i.level + " sn: " + i.sn), this.blockBuffers((function () { var t = self.performance.now(); i.stats.buffering.end = t, n && (n.stats.buffering.end = t); var e = n ? n.stats : i.stats; r.hls.trigger(S.FRAG_BUFFERED, { frag: i, part: n, stats: e, id: i.type }) }), a) }, e.onFragChanged = function (t, e) { this.trimBuffers() }, e.onBufferEos = function (t, e) { var r = this; this.getSourceBufferTypes().reduce((function (t, i) { var n = r.sourceBuffer[i]; return !n || e.type && e.type !== i || (n.ending = !0, n.ended || (n.ended = !0, r.log(i + " sourceBuffer now EOS"))), t && !(n && !n.ended) }), !0) && (this.log("Queueing mediaSource.endOfStream()"), this.blockBuffers((function () { r.getSourceBufferTypes().forEach((function (t) { var e = r.sourceBuffer[t]; e && (e.ending = !1) })); var t = r.mediaSource; t && "open" === t.readyState ? (r.log("Calling mediaSource.endOfStream()"), t.endOfStream()) : t && r.log("Could not call mediaSource.endOfStream(). mediaSource.readyState: " + t.readyState) }))) }, e.onLevelUpdated = function (t, e) { var r = e.details; r.fragments.length && (this.details = r, this.getSourceBufferTypes().length ? this.blockBuffers(this.updateMediaElementDuration.bind(this)) : this.updateMediaElementDuration()) }, e.trimBuffers = function () { var t = this.hls, e = this.details, r = this.media; if (r && null !== e && this.getSourceBufferTypes().length) { var i = t.config, n = r.currentTime, a = e.levelTargetDuration, s = e.live && null !== i.liveBackBufferLength ? i.liveBackBufferLength : i.backBufferLength; if (y(s) && s > 0) { var o = Math.max(s, a), l = Math.floor(n / a) * a - o; this.flushBackBuffer(n, a, l) } if (y(i.frontBufferFlushThreshold) && i.frontBufferFlushThreshold > 0) { var u = Math.max(i.maxBufferLength, i.frontBufferFlushThreshold), h = Math.max(u, a), d = Math.floor(n / a) * a + h; this.flushFrontBuffer(n, a, d) } } }, e.flushBackBuffer = function (t, e, r) { var i = this, n = this.details, a = this.sourceBuffer; this.getSourceBufferTypes().forEach((function (s) { var o = a[s]; if (o) { var l = zr.getBuffered(o); if (l.length > 0 && r > l.start(0)) { if (i.hls.trigger(S.BACK_BUFFER_REACHED, { bufferEnd: r }), null != n && n.live) i.hls.trigger(S.LIVE_BACK_BUFFER_REACHED, { bufferEnd: r }); else if (o.ended && l.end(l.length - 1) - t < 2 * e) return void i.log("Cannot flush " + s + " back buffer while SourceBuffer is in ended state"); i.hls.trigger(S.BUFFER_FLUSHING, { startOffset: 0, endOffset: r, type: s }) } } })) }, e.flushFrontBuffer = function (t, e, r) { var i = this, n = this.sourceBuffer; this.getSourceBufferTypes().forEach((function (a) { var s = n[a]; if (s) { var o = zr.getBuffered(s), l = o.length; if (l < 2) return; var u = o.start(l - 1), h = o.end(l - 1); if (r > u || t >= u && t <= h) return; if (s.ended && t - h < 2 * e) return void i.log("Cannot flush " + a + " front buffer while SourceBuffer is in ended state"); i.hls.trigger(S.BUFFER_FLUSHING, { startOffset: u, endOffset: 1 / 0, type: a }) } })) }, e.updateMediaElementDuration = function () { if (this.details && this.media && this.mediaSource && "open" === this.mediaSource.readyState) { var t = this.details, e = this.hls, r = this.media, i = this.mediaSource, n = t.fragments[0].start + t.totalduration, a = r.duration, s = y(i.duration) ? i.duration : 0; t.live && e.config.liveDurationInfinity ? (i.duration = 1 / 0, this.updateSeekableRange(t)) : (n > s && n > a || !y(a)) && (this.log("Updating Media Source duration to " + n.toFixed(3)), i.duration = n) } }, e.updateSeekableRange = function (t) { var e = this.mediaSource, r = t.fragments; if (r.length && t.live && null != e && e.setLiveSeekableRange) { var i = Math.max(0, r[0].start), n = Math.max(i, i + t.totalduration); this.log("Media Source duration is set to " + e.duration + ". Setting seekable range to " + i + "-" + n + "."), e.setLiveSeekableRange(i, n) } }, e.checkPendingTracks = function () { var t = this.bufferCodecEventsExpected, e = this.operationQueue, r = this.pendingTracks, i = Object.keys(r).length; if (i && (!t || 2 === i || "audiovideo" in r)) { this.createSourceBuffers(r), this.pendingTracks = {}; var n = this.getSourceBufferTypes(); if (n.length) this.hls.trigger(S.BUFFER_CREATED, { tracks: this.tracks }), n.forEach((function (t) { e.executeNext(t) })); else { var a = new Error("could not create source buffer for media codec(s)"); this.hls.trigger(S.ERROR, { type: L.MEDIA_ERROR, details: A.BUFFER_INCOMPATIBLE_CODECS_ERROR, fatal: !0, error: a, reason: a.message }) } } }, e.createSourceBuffers = function (t) { var e = this, r = this.sourceBuffer, i = this.mediaSource; if (!i) throw Error("createSourceBuffers called when mediaSource was null"); var n = function (n) { if (!r[n]) { var a = t[n]; if (!a) throw Error("source buffer exists for track " + n + ", however track does not"); var s = a.levelCodec || a.codec; s && "audio" === n.slice(0, 5) && (s = ue(s, e.hls.config.preferManagedMediaSource)); var o = a.container + ";codecs=" + s; e.log("creating sourceBuffer(" + o + ")"); try { var l = r[n] = i.addSourceBuffer(o), u = n; e.addBufferListener(u, "updatestart", e._onSBUpdateStart), e.addBufferListener(u, "updateend", e._onSBUpdateEnd), e.addBufferListener(u, "error", e._onSBUpdateError), e.addBufferListener(u, "bufferedchange", (function (t, r) { var i = r.removedRanges; null != i && i.length && e.hls.trigger(S.BUFFER_FLUSHED, { type: n }) })), e.tracks[n] = { buffer: l, codec: s, container: a.container, levelCodec: a.levelCodec, metadata: a.metadata, id: a.id } } catch (t) { e.error("error while trying to add sourceBuffer: " + t.message), e.hls.trigger(S.ERROR, { type: L.MEDIA_ERROR, details: A.BUFFER_ADD_CODEC_ERROR, fatal: !1, error: t, sourceBufferName: n, mimeType: o }) } } }; for (var a in t) n(a) }, e._onSBUpdateStart = function (t) { this.operationQueue.current(t).onStart() }, e._onSBUpdateEnd = function (t) { var e; if ("closed" !== (null == (e = this.mediaSource) ? void 0 : e.readyState)) { var r = this.operationQueue; r.current(t).onComplete(), r.shiftAndExecuteNext(t) } else this.resetBuffer(t) }, e._onSBUpdateError = function (t, e) { var r, i = new Error(t + " SourceBuffer error. MediaSource readyState: " + (null == (r = this.mediaSource) ? void 0 : r.readyState)); this.error("" + i, e), this.hls.trigger(S.ERROR, { type: L.MEDIA_ERROR, details: A.BUFFER_APPENDING_ERROR, sourceBufferName: t, error: i, fatal: !1 }); var n = this.operationQueue.current(t); n && n.onError(i) }, e.removeExecutor = function (t, e, r) { var i = this.media, n = this.mediaSource, a = this.operationQueue, s = this.sourceBuffer[t]; if (!i || !n || !s) return this.warn("Attempting to remove from the " + t + " SourceBuffer, but it does not exist"), void a.shiftAndExecuteNext(t); var o = y(i.duration) ? i.duration : 1 / 0, l = y(n.duration) ? n.duration : 1 / 0, u = Math.max(0, e), h = Math.min(r, o, l); h > u && (!s.ending || s.ended) ? (s.ended = !1, this.log("Removing [" + u + "," + h + "] from the " + t + " SourceBuffer"), s.remove(u, h)) : a.shiftAndExecuteNext(t) }, e.appendExecutor = function (t, e) { var r = this.sourceBuffer[e]; if (r) r.ended = !1, r.appendBuffer(t); else if (!this.pendingTracks[e]) throw new Error("Attempting to append to the " + e + " SourceBuffer, but it does not exist") }, e.blockBuffers = function (t, e) { var r = this; if (void 0 === e && (e = this.getSourceBufferTypes()), !e.length) return this.log("Blocking operation requested, but no SourceBuffers exist"), void Promise.resolve().then(t); var i = this.operationQueue, n = e.map((function (t) { return i.appendBlocker(t) })); Promise.all(n).then((function () { t(), e.forEach((function (t) { var e = r.sourceBuffer[t]; null != e && e.updating || i.shiftAndExecuteNext(t) })) })) }, e.getSourceBufferTypes = function () { return Object.keys(this.sourceBuffer) }, e.addBufferListener = function (t, e, r) { var i = this.sourceBuffer[t]; if (i) { var n = r.bind(this, t); this.listeners[t].push({ event: e, listener: n }), i.addEventListener(e, n) } }, e.removeBufferListeners = function (t) { var e = this.sourceBuffer[t]; e && this.listeners[t].forEach((function (t) { e.removeEventListener(t.event, t.listener) })) }, s(t, [{ key: "mediaSrc", get: function () { var t, e = (null == (t = this.media) ? void 0 : t.firstChild) || this.media; return null == e ? void 0 : e.src } }]), t }(); function Jn(t) { var e = t.querySelectorAll("source");[].slice.call(e).forEach((function (e) { t.removeChild(e) })) } var $n = { 42: 225, 92: 233, 94: 237, 95: 243, 96: 250, 123: 231, 124: 247, 125: 209, 126: 241, 127: 9608, 128: 174, 129: 176, 130: 189, 131: 191, 132: 8482, 133: 162, 134: 163, 135: 9834, 136: 224, 137: 32, 138: 232, 139: 226, 140: 234, 141: 238, 142: 244, 143: 251, 144: 193, 145: 201, 146: 211, 147: 218, 148: 220, 149: 252, 150: 8216, 151: 161, 152: 42, 153: 8217, 154: 9473, 155: 169, 156: 8480, 157: 8226, 158: 8220, 159: 8221, 160: 192, 161: 194, 162: 199, 163: 200, 164: 202, 165: 203, 166: 235, 167: 206, 168: 207, 169: 239, 170: 212, 171: 217, 172: 249, 173: 219, 174: 171, 175: 187, 176: 195, 177: 227, 178: 205, 179: 204, 180: 236, 181: 210, 182: 242, 183: 213, 184: 245, 185: 123, 186: 125, 187: 92, 188: 94, 189: 95, 190: 124, 191: 8764, 192: 196, 193: 228, 194: 214, 195: 246, 196: 223, 197: 165, 198: 164, 199: 9475, 200: 197, 201: 229, 202: 216, 203: 248, 204: 9487, 205: 9491, 206: 9495, 207: 9499 }, Zn = function (t) { var e = t; return $n.hasOwnProperty(t) && (e = $n[t]), String.fromCharCode(e) }, ta = 15, ea = 100, ra = { 17: 1, 18: 3, 21: 5, 22: 7, 23: 9, 16: 11, 19: 12, 20: 14 }, ia = { 17: 2, 18: 4, 21: 6, 22: 8, 23: 10, 19: 13, 20: 15 }, na = { 25: 1, 26: 3, 29: 5, 30: 7, 31: 9, 24: 11, 27: 12, 28: 14 }, aa = { 25: 2, 26: 4, 29: 6, 30: 8, 31: 10, 27: 13, 28: 15 }, sa = ["white", "green", "blue", "cyan", "red", "yellow", "magenta", "black", "transparent"], oa = function () { function t() { this.time = null, this.verboseLevel = 0 } return t.prototype.log = function (t, e) { if (this.verboseLevel >= t) { var r = "function" == typeof e ? e() : e; w.log(this.time + " [" + t + "] " + r) } }, t }(), la = function (t) { for (var e = [], r = 0; r < t.length; r++)e.push(t[r].toString(16)); return e }, ua = function () { function t() { this.foreground = "white", this.underline = !1, this.italics = !1, this.background = "black", this.flash = !1 } var e = t.prototype; return e.reset = function () { this.foreground = "white", this.underline = !1, this.italics = !1, this.background = "black", this.flash = !1 }, e.setStyles = function (t) { for (var e = ["foreground", "underline", "italics", "background", "flash"], r = 0; r < e.length; r++) { var i = e[r]; t.hasOwnProperty(i) && (this[i] = t[i]) } }, e.isDefault = function () { return "white" === this.foreground && !this.underline && !this.italics && "black" === this.background && !this.flash }, e.equals = function (t) { return this.foreground === t.foreground && this.underline === t.underline && this.italics === t.italics && this.background === t.background && this.flash === t.flash }, e.copy = function (t) { this.foreground = t.foreground, this.underline = t.underline, this.italics = t.italics, this.background = t.background, this.flash = t.flash }, e.toString = function () { return "color=" + this.foreground + ", underline=" + this.underline + ", italics=" + this.italics + ", background=" + this.background + ", flash=" + this.flash }, t }(), ha = function () { function t() { this.uchar = " ", this.penState = new ua } var e = t.prototype; return e.reset = function () { this.uchar = " ", this.penState.reset() }, e.setChar = function (t, e) { this.uchar = t, this.penState.copy(e) }, e.setPenState = function (t) { this.penState.copy(t) }, e.equals = function (t) { return this.uchar === t.uchar && this.penState.equals(t.penState) }, e.copy = function (t) { this.uchar = t.uchar, this.penState.copy(t.penState) }, e.isEmpty = function () { return " " === this.uchar && this.penState.isDefault() }, t }(), da = function () { function t(t) { this.chars = [], this.pos = 0, this.currPenState = new ua, this.cueStartTime = null, this.logger = void 0; for (var e = 0; e < ea; e++)this.chars.push(new ha); this.logger = t } var e = t.prototype; return e.equals = function (t) { for (var e = 0; e < ea; e++)if (!this.chars[e].equals(t.chars[e])) return !1; return !0 }, e.copy = function (t) { for (var e = 0; e < ea; e++)this.chars[e].copy(t.chars[e]) }, e.isEmpty = function () { for (var t = !0, e = 0; e < ea; e++)if (!this.chars[e].isEmpty()) { t = !1; break } return t }, e.setCursor = function (t) { this.pos !== t && (this.pos = t), this.pos < 0 ? (this.logger.log(3, "Negative cursor position " + this.pos), this.pos = 0) : this.pos > ea && (this.logger.log(3, "Too large cursor position " + this.pos), this.pos = ea) }, e.moveCursor = function (t) { var e = this.pos + t; if (t > 1) for (var r = this.pos + 1; r < e + 1; r++)this.chars[r].setPenState(this.currPenState); this.setCursor(e) }, e.backSpace = function () { this.moveCursor(-1), this.chars[this.pos].setChar(" ", this.currPenState) }, e.insertChar = function (t) { var e = this; t >= 144 && this.backSpace(); var r = Zn(t); this.pos >= ea ? this.logger.log(0, (function () { return "Cannot insert " + t.toString(16) + " (" + r + ") at position " + e.pos + ". Skipping it!" })) : (this.chars[this.pos].setChar(r, this.currPenState), this.moveCursor(1)) }, e.clearFromPos = function (t) { var e; for (e = t; e < ea; e++)this.chars[e].reset() }, e.clear = function () { this.clearFromPos(0), this.pos = 0, this.currPenState.reset() }, e.clearToEndOfRow = function () { this.clearFromPos(this.pos) }, e.getTextString = function () { for (var t = [], e = !0, r = 0; r < ea; r++) { var i = this.chars[r].uchar; " " !== i && (e = !1), t.push(i) } return e ? "" : t.join("") }, e.setPenStyles = function (t) { this.currPenState.setStyles(t), this.chars[this.pos].setPenState(this.currPenState) }, t }(), ca = function () { function t(t) { this.rows = [], this.currRow = 14, this.nrRollUpRows = null, this.lastOutputScreen = null, this.logger = void 0; for (var e = 0; e < ta; e++)this.rows.push(new da(t)); this.logger = t } var e = t.prototype; return e.reset = function () { for (var t = 0; t < ta; t++)this.rows[t].clear(); this.currRow = 14 }, e.equals = function (t) { for (var e = !0, r = 0; r < ta; r++)if (!this.rows[r].equals(t.rows[r])) { e = !1; break } return e }, e.copy = function (t) { for (var e = 0; e < ta; e++)this.rows[e].copy(t.rows[e]) }, e.isEmpty = function () { for (var t = !0, e = 0; e < ta; e++)if (!this.rows[e].isEmpty()) { t = !1; break } return t }, e.backSpace = function () { this.rows[this.currRow].backSpace() }, e.clearToEndOfRow = function () { this.rows[this.currRow].clearToEndOfRow() }, e.insertChar = function (t) { this.rows[this.currRow].insertChar(t) }, e.setPen = function (t) { this.rows[this.currRow].setPenStyles(t) }, e.moveCursor = function (t) { this.rows[this.currRow].moveCursor(t) }, e.setCursor = function (t) { this.logger.log(2, "setCursor: " + t), this.rows[this.currRow].setCursor(t) }, e.setPAC = function (t) { this.logger.log(2, (function () { return "pacData = " + JSON.stringify(t) })); var e = t.row - 1; if (this.nrRollUpRows && e < this.nrRollUpRows - 1 && (e = this.nrRollUpRows - 1), this.nrRollUpRows && this.currRow !== e) { for (var r = 0; r < ta; r++)this.rows[r].clear(); var i = this.currRow + 1 - this.nrRollUpRows, n = this.lastOutputScreen; if (n) { var a = n.rows[i].cueStartTime, s = this.logger.time; if (null !== a && null !== s && a < s) for (var o = 0; o < this.nrRollUpRows; o++)this.rows[e - this.nrRollUpRows + o + 1].copy(n.rows[i + o]) } } this.currRow = e; var l = this.rows[this.currRow]; if (null !== t.indent) { var u = t.indent, h = Math.max(u - 1, 0); l.setCursor(t.indent), t.color = l.chars[h].penState.foreground } var d = { foreground: t.color, underline: t.underline, italics: t.italics, background: "black", flash: !1 }; this.setPen(d) }, e.setBkgData = function (t) { this.logger.log(2, (function () { return "bkgData = " + JSON.stringify(t) })), this.backSpace(), this.setPen(t), this.insertChar(32) }, e.setRollUpRows = function (t) { this.nrRollUpRows = t }, e.rollUp = function () { var t = this; if (null !== this.nrRollUpRows) { this.logger.log(1, (function () { return t.getDisplayText() })); var e = this.currRow + 1 - this.nrRollUpRows, r = this.rows.splice(e, 1)[0]; r.clear(), this.rows.splice(this.currRow, 0, r), this.logger.log(2, "Rolling up") } else this.logger.log(3, "roll_up but nrRollUpRows not set yet") }, e.getDisplayText = function (t) { t = t || !1; for (var e = [], r = "", i = -1, n = 0; n < ta; n++) { var a = this.rows[n].getTextString(); a && (i = n + 1, t ? e.push("Row " + i + ": '" + a + "'") : e.push(a.trim())) } return e.length > 0 && (r = t ? "[" + e.join(" | ") + "]" : e.join("\n")), r }, e.getTextAndFormat = function () { return this.rows }, t }(), fa = function () { function t(t, e, r) { this.chNr = void 0, this.outputFilter = void 0, this.mode = void 0, this.verbose = void 0, this.displayedMemory = void 0, this.nonDisplayedMemory = void 0, this.lastOutputScreen = void 0, this.currRollUpRow = void 0, this.writeScreen = void 0, this.cueStartTime = void 0, this.logger = void 0, this.chNr = t, this.outputFilter = e, this.mode = null, this.verbose = 0, this.displayedMemory = new ca(r), this.nonDisplayedMemory = new ca(r), this.lastOutputScreen = new ca(r), this.currRollUpRow = this.displayedMemory.rows[14], this.writeScreen = this.displayedMemory, this.mode = null, this.cueStartTime = null, this.logger = r } var e = t.prototype; return e.reset = function () { this.mode = null, this.displayedMemory.reset(), this.nonDisplayedMemory.reset(), this.lastOutputScreen.reset(), this.outputFilter.reset(), this.currRollUpRow = this.displayedMemory.rows[14], this.writeScreen = this.displayedMemory, this.mode = null, this.cueStartTime = null }, e.getHandler = function () { return this.outputFilter }, e.setHandler = function (t) { this.outputFilter = t }, e.setPAC = function (t) { this.writeScreen.setPAC(t) }, e.setBkgData = function (t) { this.writeScreen.setBkgData(t) }, e.setMode = function (t) { t !== this.mode && (this.mode = t, this.logger.log(2, (function () { return "MODE=" + t })), "MODE_POP-ON" === this.mode ? this.writeScreen = this.nonDisplayedMemory : (this.writeScreen = this.displayedMemory, this.writeScreen.reset()), "MODE_ROLL-UP" !== this.mode && (this.displayedMemory.nrRollUpRows = null, this.nonDisplayedMemory.nrRollUpRows = null), this.mode = t) }, e.insertChars = function (t) { for (var e = this, r = 0; r < t.length; r++)this.writeScreen.insertChar(t[r]); var i = this.writeScreen === this.displayedMemory ? "DISP" : "NON_DISP"; this.logger.log(2, (function () { return i + ": " + e.writeScreen.getDisplayText(!0) })), "MODE_PAINT-ON" !== this.mode && "MODE_ROLL-UP" !== this.mode || (this.logger.log(1, (function () { return "DISPLAYED: " + e.displayedMemory.getDisplayText(!0) })), this.outputDataUpdate()) }, e.ccRCL = function () { this.logger.log(2, "RCL - Resume Caption Loading"), this.setMode("MODE_POP-ON") }, e.ccBS = function () { this.logger.log(2, "BS - BackSpace"), "MODE_TEXT" !== this.mode && (this.writeScreen.backSpace(), this.writeScreen === this.displayedMemory && this.outputDataUpdate()) }, e.ccAOF = function () { }, e.ccAON = function () { }, e.ccDER = function () { this.logger.log(2, "DER- Delete to End of Row"), this.writeScreen.clearToEndOfRow(), this.outputDataUpdate() }, e.ccRU = function (t) { this.logger.log(2, "RU(" + t + ") - Roll Up"), this.writeScreen = this.displayedMemory, this.setMode("MODE_ROLL-UP"), this.writeScreen.setRollUpRows(t) }, e.ccFON = function () { this.logger.log(2, "FON - Flash On"), this.writeScreen.setPen({ flash: !0 }) }, e.ccRDC = function () { this.logger.log(2, "RDC - Resume Direct Captioning"), this.setMode("MODE_PAINT-ON") }, e.ccTR = function () { this.logger.log(2, "TR"), this.setMode("MODE_TEXT") }, e.ccRTD = function () { this.logger.log(2, "RTD"), this.setMode("MODE_TEXT") }, e.ccEDM = function () { this.logger.log(2, "EDM - Erase Displayed Memory"), this.displayedMemory.reset(), this.outputDataUpdate(!0) }, e.ccCR = function () { this.logger.log(2, "CR - Carriage Return"), this.writeScreen.rollUp(), this.outputDataUpdate(!0) }, e.ccENM = function () { this.logger.log(2, "ENM - Erase Non-displayed Memory"), this.nonDisplayedMemory.reset() }, e.ccEOC = function () { var t = this; if (this.logger.log(2, "EOC - End Of Caption"), "MODE_POP-ON" === this.mode) { var e = this.displayedMemory; this.displayedMemory = this.nonDisplayedMemory, this.nonDisplayedMemory = e, this.writeScreen = this.nonDisplayedMemory, this.logger.log(1, (function () { return "DISP: " + t.displayedMemory.getDisplayText() })) } this.outputDataUpdate(!0) }, e.ccTO = function (t) { this.logger.log(2, "TO(" + t + ") - Tab Offset"), this.writeScreen.moveCursor(t) }, e.ccMIDROW = function (t) { var e = { flash: !1 }; if (e.underline = t % 2 == 1, e.italics = t >= 46, e.italics) e.foreground = "white"; else { var r = Math.floor(t / 2) - 16; e.foreground = ["white", "green", "blue", "cyan", "red", "yellow", "magenta"][r] } this.logger.log(2, "MIDROW: " + JSON.stringify(e)), this.writeScreen.setPen(e) }, e.outputDataUpdate = function (t) { void 0 === t && (t = !1); var e = this.logger.time; null !== e && this.outputFilter && (null !== this.cueStartTime || this.displayedMemory.isEmpty() ? this.displayedMemory.equals(this.lastOutputScreen) || (this.outputFilter.newCue(this.cueStartTime, e, this.lastOutputScreen), t && this.outputFilter.dispatchCue && this.outputFilter.dispatchCue(), this.cueStartTime = this.displayedMemory.isEmpty() ? null : e) : this.cueStartTime = e, this.lastOutputScreen.copy(this.displayedMemory)) }, e.cueSplitAtTime = function (t) { this.outputFilter && (this.displayedMemory.isEmpty() || (this.outputFilter.newCue && this.outputFilter.newCue(this.cueStartTime, t, this.displayedMemory), this.cueStartTime = t)) }, t }(), ga = function () { function t(t, e, r) { this.channels = void 0, this.currentChannel = 0, this.cmdHistory = { a: null, b: null }, this.logger = void 0; var i = this.logger = new oa; this.channels = [null, new fa(t, e, i), new fa(t + 1, r, i)] } var e = t.prototype; return e.getHandler = function (t) { return this.channels[t].getHandler() }, e.setHandler = function (t, e) { this.channels[t].setHandler(e) }, e.addData = function (t, e) { var r, i, n, a = !1; this.logger.time = t; for (var s = 0; s < e.length; s += 2)if (i = 127 & e[s], n = 127 & e[s + 1], 0 !== i || 0 !== n) { if (this.logger.log(3, "[" + la([e[s], e[s + 1]]) + "] -> (" + la([i, n]) + ")"), (r = this.parseCmd(i, n)) || (r = this.parseMidrow(i, n)), r || (r = this.parsePAC(i, n)), r || (r = this.parseBackgroundAttributes(i, n)), !r && (a = this.parseChars(i, n))) { var o = this.currentChannel; o && o > 0 ? this.channels[o].insertChars(a) : this.logger.log(2, "No channel found yet. TEXT-MODE?") } r || a || this.logger.log(2, "Couldn't parse cleaned data " + la([i, n]) + " orig: " + la([e[s], e[s + 1]])) } }, e.parseCmd = function (t, e) { var r = this.cmdHistory; if (!((20 === t || 28 === t || 21 === t || 29 === t) && e >= 32 && e <= 47 || (23 === t || 31 === t) && e >= 33 && e <= 35)) return !1; if (ma(t, e, r)) return va(null, null, r), this.logger.log(3, "Repeated command (" + la([t, e]) + ") is dropped"), !0; var i = 20 === t || 21 === t || 23 === t ? 1 : 2, n = this.channels[i]; return 20 === t || 21 === t || 28 === t || 29 === t ? 32 === e ? n.ccRCL() : 33 === e ? n.ccBS() : 34 === e ? n.ccAOF() : 35 === e ? n.ccAON() : 36 === e ? n.ccDER() : 37 === e ? n.ccRU(2) : 38 === e ? n.ccRU(3) : 39 === e ? n.ccRU(4) : 40 === e ? n.ccFON() : 41 === e ? n.ccRDC() : 42 === e ? n.ccTR() : 43 === e ? n.ccRTD() : 44 === e ? n.ccEDM() : 45 === e ? n.ccCR() : 46 === e ? n.ccENM() : 47 === e && n.ccEOC() : n.ccTO(e - 32), va(t, e, r), this.currentChannel = i, !0 }, e.parseMidrow = function (t, e) { var r = 0; if ((17 === t || 25 === t) && e >= 32 && e <= 47) { if ((r = 17 === t ? 1 : 2) !== this.currentChannel) return this.logger.log(0, "Mismatch channel in midrow parsing"), !1; var i = this.channels[r]; return !!i && (i.ccMIDROW(e), this.logger.log(3, "MIDROW (" + la([t, e]) + ")"), !0) } return !1 }, e.parsePAC = function (t, e) { var r, i = this.cmdHistory; if (!((t >= 17 && t <= 23 || t >= 25 && t <= 31) && e >= 64 && e <= 127 || (16 === t || 24 === t) && e >= 64 && e <= 95)) return !1; if (ma(t, e, i)) return va(null, null, i), !0; var n = t <= 23 ? 1 : 2; r = e >= 64 && e <= 95 ? 1 === n ? ra[t] : na[t] : 1 === n ? ia[t] : aa[t]; var a = this.channels[n]; return !!a && (a.setPAC(this.interpretPAC(r, e)), va(t, e, i), this.currentChannel = n, !0) }, e.interpretPAC = function (t, e) { var r, i = { color: null, italics: !1, indent: null, underline: !1, row: t }; return r = e > 95 ? e - 96 : e - 64, i.underline = 1 == (1 & r), r <= 13 ? i.color = ["white", "green", "blue", "cyan", "red", "yellow", "magenta", "white"][Math.floor(r / 2)] : r <= 15 ? (i.italics = !0, i.color = "white") : i.indent = 4 * Math.floor((r - 16) / 2), i }, e.parseChars = function (t, e) { var r, i, n = null, a = null; if (t >= 25 ? (r = 2, a = t - 8) : (r = 1, a = t), a >= 17 && a <= 19 ? (i = 17 === a ? e + 80 : 18 === a ? e + 112 : e + 144, this.logger.log(2, "Special char '" + Zn(i) + "' in channel " + r), n = [i]) : t >= 32 && t <= 127 && (n = 0 === e ? [t] : [t, e]), n) { var s = la(n); this.logger.log(3, "Char codes =  " + s.join(",")), va(t, e, this.cmdHistory) } return n }, e.parseBackgroundAttributes = function (t, e) { var r; if (!((16 === t || 24 === t) && e >= 32 && e <= 47 || (23 === t || 31 === t) && e >= 45 && e <= 47)) return !1; var i = {}; 16 === t || 24 === t ? (r = Math.floor((e - 32) / 2), i.background = sa[r], e % 2 == 1 && (i.background = i.background + "_semi")) : 45 === e ? i.background = "transparent" : (i.foreground = "black", 47 === e && (i.underline = !0)); var n = t <= 23 ? 1 : 2; return this.channels[n].setBkgData(i), va(t, e, this.cmdHistory), !0 }, e.reset = function () { for (var t = 0; t < Object.keys(this.channels).length; t++) { var e = this.channels[t]; e && e.reset() } this.cmdHistory = { a: null, b: null } }, e.cueSplitAtTime = function (t) { for (var e = 0; e < this.channels.length; e++) { var r = this.channels[e]; r && r.cueSplitAtTime(t) } }, t }(); function va(t, e, r) { r.a = t, r.b = e } function ma(t, e, r) { return r.a === t && r.b === e } var pa = function () { function t(t, e) { this.timelineController = void 0, this.cueRanges = [], this.trackName = void 0, this.startTime = null, this.endTime = null, this.screen = null, this.timelineController = t, this.trackName = e } var e = t.prototype; return e.dispatchCue = function () { null !== this.startTime && (this.timelineController.addCues(this.trackName, this.startTime, this.endTime, this.screen, this.cueRanges), this.startTime = null) }, e.newCue = function (t, e, r) { (null === this.startTime || this.startTime > t) && (this.startTime = t), this.endTime = e, this.screen = r, this.timelineController.createCaptionsTrack(this.trackName) }, e.reset = function () { this.cueRanges = [], this.startTime = null }, t }(), ya = function () { if (null != j && j.VTTCue) return self.VTTCue; var t = ["", "lr", "rl"], e = ["start", "middle", "end", "left", "right"]; function r(t, e) { if ("string" != typeof e) return !1; if (!Array.isArray(t)) return !1; var r = e.toLowerCase(); return !!~t.indexOf(r) && r } function i(t) { return r(e, t) } function n(t) { for (var e = arguments.length, r = new Array(e > 1 ? e - 1 : 0), i = 1; i < e; i++)r[i - 1] = arguments[i]; for (var n = 1; n < arguments.length; n++) { var a = arguments[n]; for (var s in a) t[s] = a[s] } return t } function a(e, a, s) { var o = this, l = { enumerable: !0 }; o.hasBeenReset = !1; var u = "", h = !1, d = e, c = a, f = s, g = null, v = "", m = !0, p = "auto", y = "start", E = 50, T = "middle", S = 50, L = "middle"; Object.defineProperty(o, "id", n({}, l, { get: function () { return u }, set: function (t) { u = "" + t } })), Object.defineProperty(o, "pauseOnExit", n({}, l, { get: function () { return h }, set: function (t) { h = !!t } })), Object.defineProperty(o, "startTime", n({}, l, { get: function () { return d }, set: function (t) { if ("number" != typeof t) throw new TypeError("Start time must be set to a number."); d = t, this.hasBeenReset = !0 } })), Object.defineProperty(o, "endTime", n({}, l, { get: function () { return c }, set: function (t) { if ("number" != typeof t) throw new TypeError("End time must be set to a number."); c = t, this.hasBeenReset = !0 } })), Object.defineProperty(o, "text", n({}, l, { get: function () { return f }, set: function (t) { f = "" + t, this.hasBeenReset = !0 } })), Object.defineProperty(o, "region", n({}, l, { get: function () { return g }, set: function (t) { g = t, this.hasBeenReset = !0 } })), Object.defineProperty(o, "vertical", n({}, l, { get: function () { return v }, set: function (e) { var i = function (e) { return r(t, e) }(e); if (!1 === i) throw new SyntaxError("An invalid or illegal string was specified."); v = i, this.hasBeenReset = !0 } })), Object.defineProperty(o, "snapToLines", n({}, l, { get: function () { return m }, set: function (t) { m = !!t, this.hasBeenReset = !0 } })), Object.defineProperty(o, "line", n({}, l, { get: function () { return p }, set: function (t) { if ("number" != typeof t && "auto" !== t) throw new SyntaxError("An invalid number or illegal string was specified."); p = t, this.hasBeenReset = !0 } })), Object.defineProperty(o, "lineAlign", n({}, l, { get: function () { return y }, set: function (t) { var e = i(t); if (!e) throw new SyntaxError("An invalid or illegal string was specified."); y = e, this.hasBeenReset = !0 } })), Object.defineProperty(o, "position", n({}, l, { get: function () { return E }, set: function (t) { if (t < 0 || t > 100) throw new Error("Position must be between 0 and 100."); E = t, this.hasBeenReset = !0 } })), Object.defineProperty(o, "positionAlign", n({}, l, { get: function () { return T }, set: function (t) { var e = i(t); if (!e) throw new SyntaxError("An invalid or illegal string was specified."); T = e, this.hasBeenReset = !0 } })), Object.defineProperty(o, "size", n({}, l, { get: function () { return S }, set: function (t) { if (t < 0 || t > 100) throw new Error("Size must be between 0 and 100."); S = t, this.hasBeenReset = !0 } })), Object.defineProperty(o, "align", n({}, l, { get: function () { return L }, set: function (t) { var e = i(t); if (!e) throw new SyntaxError("An invalid or illegal string was specified."); L = e, this.hasBeenReset = !0 } })), o.displayState = void 0 } return a.prototype.getCueAsHTML = function () { return self.WebVTT.convertCueToDOMTree(self, this.text) }, a }(), Ea = function () { function t() { } return t.prototype.decode = function (t, e) { if (!t) return ""; if ("string" != typeof t) throw new Error("Error - expected string data."); return decodeURIComponent(encodeURIComponent(t)) }, t }(); function Ta(t) { function e(t, e, r, i) { return 3600 * (0 | t) + 60 * (0 | e) + (0 | r) + parseFloat(i || 0) } var r = t.match(/^(?:(\d+):)?(\d{2}):(\d{2})(\.\d+)?/); return r ? parseFloat(r[2]) > 59 ? e(r[2], r[3], 0, r[4]) : e(r[1], r[2], r[3], r[4]) : null } var Sa = function () { function t() { this.values = Object.create(null) } var e = t.prototype; return e.set = function (t, e) { this.get(t) || "" === e || (this.values[t] = e) }, e.get = function (t, e, r) { return r ? this.has(t) ? this.values[t] : e[r] : this.has(t) ? this.values[t] : e }, e.has = function (t) { return t in this.values }, e.alt = function (t, e, r) { for (var i = 0; i < r.length; ++i)if (e === r[i]) { this.set(t, e); break } }, e.integer = function (t, e) { /^-?\d+$/.test(e) && this.set(t, parseInt(e, 10)) }, e.percent = function (t, e) { if (/^([\d]{1,3})(\.[\d]*)?%$/.test(e)) { var r = parseFloat(e); if (r >= 0 && r <= 100) return this.set(t, r), !0 } return !1 }, t }(); function La(t, e, r, i) { var n = i ? t.split(i) : [t]; for (var a in n) if ("string" == typeof n[a]) { var s = n[a].split(r); 2 === s.length && e(s[0], s[1]) } } var Aa = new ya(0, 0, ""), Ra = "middle" === Aa.align ? "middle" : "center"; function ka(t, e, r) { var i = t; function n() { var e = Ta(t); if (null === e) throw new Error("Malformed timestamp: " + i); return t = t.replace(/^[^\sa-zA-Z-]+/, ""), e } function a() { t = t.replace(/^\s+/, "") } if (a(), e.startTime = n(), a(), "--\x3e" !== t.slice(0, 3)) throw new Error("Malformed time stamp (time stamps must be separated by '--\x3e'): " + i); t = t.slice(3), a(), e.endTime = n(), a(), function (t, e) { var i = new Sa; La(t, (function (t, e) { var n; switch (t) { case "region": for (var a = r.length - 1; a >= 0; a--)if (r[a].id === e) { i.set(t, r[a].region); break } break; case "vertical": i.alt(t, e, ["rl", "lr"]); break; case "line": n = e.split(","), i.integer(t, n[0]), i.percent(t, n[0]) && i.set("snapToLines", !1), i.alt(t, n[0], ["auto"]), 2 === n.length && i.alt("lineAlign", n[1], ["start", Ra, "end"]); break; case "position": n = e.split(","), i.percent(t, n[0]), 2 === n.length && i.alt("positionAlign", n[1], ["start", Ra, "end", "line-left", "line-right", "auto"]); break; case "size": i.percent(t, e); break; case "align": i.alt(t, e, ["start", Ra, "end", "left", "right"]) } }), /:/, /\s/), e.region = i.get("region", null), e.vertical = i.get("vertical", ""); var n = i.get("line", "auto"); "auto" === n && -1 === Aa.line && (n = -1), e.line = n, e.lineAlign = i.get("lineAlign", "start"), e.snapToLines = i.get("snapToLines", !0), e.size = i.get("size", 100), e.align = i.get("align", Ra); var a = i.get("position", "auto"); "auto" === a && 50 === Aa.position && (a = "start" === e.align || "left" === e.align ? 0 : "end" === e.align || "right" === e.align ? 100 : 50), e.position = a }(t, e) } function ba(t) { return t.replace(/<br(?: \/)?>/gi, "\n") } var Da = function () { function t() { this.state = "INITIAL", this.buffer = "", this.decoder = new Ea, this.regionList = [], this.cue = null, this.oncue = void 0, this.onparsingerror = void 0, this.onflush = void 0 } var e = t.prototype; return e.parse = function (t) { var e = this; function r() { var t = e.buffer, r = 0; for (t = ba(t); r < t.length && "\r" !== t[r] && "\n" !== t[r];)++r; var i = t.slice(0, r); return "\r" === t[r] && ++r, "\n" === t[r] && ++r, e.buffer = t.slice(r), i } t && (e.buffer += e.decoder.decode(t, { stream: !0 })); try { var i = ""; if ("INITIAL" === e.state) { if (!/\r\n|\n/.test(e.buffer)) return this; var n = (i = r()).match(/^()?WEBVTT([ \t].*)?$/); if (null == n || !n[0]) throw new Error("Malformed WebVTT signature."); e.state = "HEADER" } for (var a = !1; e.buffer;) { if (!/\r\n|\n/.test(e.buffer)) return this; switch (a ? a = !1 : i = r(), e.state) { case "HEADER": /:/.test(i) ? La(i, (function (t, e) { }), /:/) : i || (e.state = "ID"); continue; case "NOTE": i || (e.state = "ID"); continue; case "ID": if (/^NOTE($|[ \t])/.test(i)) { e.state = "NOTE"; break } if (!i) continue; if (e.cue = new ya(0, 0, ""), e.state = "CUE", -1 === i.indexOf("--\x3e")) { e.cue.id = i; continue } case "CUE": if (!e.cue) { e.state = "BADCUE"; continue } try { ka(i, e.cue, e.regionList) } catch (t) { e.cue = null, e.state = "BADCUE"; continue } e.state = "CUETEXT"; continue; case "CUETEXT": var s = -1 !== i.indexOf("--\x3e"); if (!i || s && (a = !0)) { e.oncue && e.cue && e.oncue(e.cue), e.cue = null, e.state = "ID"; continue } if (null === e.cue) continue; e.cue.text && (e.cue.text += "\n"), e.cue.text += i; continue; case "BADCUE": i || (e.state = "ID") } } } catch (t) { "CUETEXT" === e.state && e.cue && e.oncue && e.oncue(e.cue), e.cue = null, e.state = "INITIAL" === e.state ? "BADWEBVTT" : "BADCUE" } return this }, e.flush = function () { var t = this; try { if ((t.cue || "HEADER" === t.state) && (t.buffer += "\n\n", t.parse()), "INITIAL" === t.state || "BADWEBVTT" === t.state) throw new Error("Malformed WebVTT signature.") } catch (e) { t.onparsingerror && t.onparsingerror(e) } return t.onflush && t.onflush(), this }, t }(), Ia = /\r\n|\n\r|\n|\r/g, wa = function (t, e, r) { return void 0 === r && (r = 0), t.slice(r, r + e.length) === e }, Ca = function (t) { for (var e = 5381, r = t.length; r;)e = 33 * e ^ t.charCodeAt(--r); return (e >>> 0).toString() }; function _a(t, e, r) { return Ca(t.toString()) + Ca(e.toString()) + Ca(r) } function xa(t, e, r, i, n, a, s) { var o, l, u, h = new Da, d = Tt(new Uint8Array(t)).trim().replace(Ia, "\n").split("\n"), c = [], f = e ? (o = e.baseTime, void 0 === (l = e.timescale) && (l = 1), mn(o, vn, 1 / l)) : 0, g = "00:00.000", v = 0, m = 0, p = !0; h.oncue = function (t) { var a = r[i], s = r.ccOffset, o = (v - f) / 9e4; if (null != a && a.new && (void 0 !== m ? s = r.ccOffset = a.start : function (t, e, r) { var i = t[e], n = t[i.prevCC]; if (!n || !n.new && i.new) return t.ccOffset = t.presentationOffset = i.start, void (i.new = !1); for (; null != (a = n) && a.new;) { var a; t.ccOffset += i.start - n.start, i.new = !1, n = t[(i = n).prevCC] } t.presentationOffset = r }(r, i, o)), o) { if (!e) return void (u = new Error("Missing initPTS for VTT MPEGTS")); s = o - r.presentationOffset } var l = t.endTime - t.startTime, h = Sn(9e4 * (t.startTime + s - m), 9e4 * n) / 9e4; t.startTime = Math.max(h, 0), t.endTime = Math.max(h + l, 0); var d = t.text.trim(); t.text = decodeURIComponent(encodeURIComponent(d)), t.id || (t.id = _a(t.startTime, t.endTime, d)), t.endTime > 0 && c.push(t) }, h.onparsingerror = function (t) { u = t }, h.onflush = function () { u ? s(u) : a(c) }, d.forEach((function (t) { if (p) { if (wa(t, "X-TIMESTAMP-MAP=")) { p = !1, t.slice(16).split(",").forEach((function (t) { wa(t, "LOCAL:") ? g = t.slice(6) : wa(t, "MPEGTS:") && (v = parseInt(t.slice(7))) })); try { m = function (t) { var e = parseInt(t.slice(-3)), r = parseInt(t.slice(-6, -4)), i = parseInt(t.slice(-9, -7)), n = t.length > 9 ? parseInt(t.substring(0, t.indexOf(":"))) : 0; if (!(y(e) && y(r) && y(i) && y(n))) throw Error("Malformed X-TIMESTAMP-MAP: Local:" + t); return e += 1e3 * r, (e += 6e4 * i) + 36e5 * n }(g) / 1e3 } catch (t) { u = t } return } "" === t && (p = !1) } h.parse(t + "\n") })), h.flush() } var Pa = "stpp.ttml.im1t", Fa = /^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/, Ma = /^(\d*(?:\.\d*)?)(h|m|s|ms|f|t)$/, Oa = { left: "start", center: "center", right: "end", start: "start", end: "end" }; function Na(t, e, r, i) { var n = _t(new Uint8Array(t), ["mdat"]); if (0 !== n.length) { var a, s, l, u, h = n.map((function (t) { return Tt(t) })), d = (a = e.baseTime, s = 1, void 0 === (l = e.timescale) && (l = 1), void 0 === u && (u = !1), mn(a, s, 1 / l, u)); try { h.forEach((function (t) { return r(function (t, e) { var r = (new DOMParser).parseFromString(t, "text/xml"), i = r.getElementsByTagName("tt")[0]; if (!i) throw new Error("Invalid ttml"); var n = { frameRate: 30, subFrameRate: 1, frameRateMultiplier: 0, tickRate: 0 }, a = Object.keys(n).reduce((function (t, e) { return t[e] = i.getAttribute("ttp:" + e) || n[e], t }), {}), s = "preserve" !== i.getAttribute("xml:space"), l = Ba(Ua(i, "styling", "style")), u = Ba(Ua(i, "layout", "region")), h = Ua(i, "body", "[begin]"); return [].map.call(h, (function (t) { var r = Ga(t, s); if (!r || !t.hasAttribute("begin")) return null; var i = Va(t.getAttribute("begin"), a), n = Va(t.getAttribute("dur"), a), h = Va(t.getAttribute("end"), a); if (null === i) throw Ha(t); if (null === h) { if (null === n) throw Ha(t); h = i + n } var d = new ya(i - e, h - e, r); d.id = _a(d.startTime, d.endTime, d.text); var c = function (t, e, r) { var i = "http://www.w3.org/ns/ttml#styling", n = null, a = ["displayAlign", "textAlign", "color", "backgroundColor", "fontSize", "fontFamily"], s = null != t && t.hasAttribute("style") ? t.getAttribute("style") : null; return s && r.hasOwnProperty(s) && (n = r[s]), a.reduce((function (r, a) { var s = Ka(e, i, a) || Ka(t, i, a) || Ka(n, i, a); return s && (r[a] = s), r }), {}) }(u[t.getAttribute("region")], l[t.getAttribute("style")], l), f = c.textAlign; if (f) { var g = Oa[f]; g && (d.lineAlign = g), d.align = f } return o(d, c), d })).filter((function (t) { return null !== t })) }(t, d)) })) } catch (t) { i(t) } } else i(new Error("Could not parse IMSC1 mdat")) } function Ua(t, e, r) { var i = t.getElementsByTagName(e)[0]; return i ? [].slice.call(i.querySelectorAll(r)) : [] } function Ba(t) { return t.reduce((function (t, e) { var r = e.getAttribute("xml:id"); return r && (t[r] = e), t }), {}) } function Ga(t, e) { return [].slice.call(t.childNodes).reduce((function (t, r, i) { var n; return "br" === r.nodeName && i ? t + "\n" : null != (n = r.childNodes) && n.length ? Ga(r, e) : e ? t + r.textContent.trim().replace(/\s+/g, " ") : t + r.textContent }), "") } function Ka(t, e, r) { return t && t.hasAttributeNS(e, r) ? t.getAttributeNS(e, r) : null } function Ha(t) { return new Error("Could not parse ttml timestamp " + t) } function Va(t, e) { if (!t) return null; var r = Ta(t); return null === r && (Fa.test(t) ? r = function (t, e) { var r = Fa.exec(t), i = (0 | r[4]) + (0 | r[5]) / e.subFrameRate; return 3600 * (0 | r[1]) + 60 * (0 | r[2]) + (0 | r[3]) + i / e.frameRate }(t, e) : Ma.test(t) && (r = function (t, e) { var r = Ma.exec(t), i = Number(r[1]); switch (r[2]) { case "h": return 3600 * i; case "m": return 60 * i; case "ms": return 1e3 * i; case "f": return i / e.frameRate; case "t": return i / e.tickRate }return i }(t, e))), r } var Ya = function () { function t(t) { this.hls = void 0, this.media = null, this.config = void 0, this.enabled = !0, this.Cues = void 0, this.textTracks = [], this.tracks = [], this.initPTS = [], this.unparsedVttFrags = [], this.captionsTracks = {}, this.nonNativeCaptionsTracks = {}, this.cea608Parser1 = void 0, this.cea608Parser2 = void 0, this.lastCc = -1, this.lastSn = -1, this.lastPartIndex = -1, this.prevCC = -1, this.vttCCs = { ccOffset: 0, presentationOffset: 0, 0: { start: 0, prevCC: -1, new: !0 } }, this.captionsProperties = void 0, this.hls = t, this.config = t.config, this.Cues = t.config.cueHandler, this.captionsProperties = { textTrack1: { label: this.config.captionsTextTrack1Label, languageCode: this.config.captionsTextTrack1LanguageCode }, textTrack2: { label: this.config.captionsTextTrack2Label, languageCode: this.config.captionsTextTrack2LanguageCode }, textTrack3: { label: this.config.captionsTextTrack3Label, languageCode: this.config.captionsTextTrack3LanguageCode }, textTrack4: { label: this.config.captionsTextTrack4Label, languageCode: this.config.captionsTextTrack4LanguageCode } }, t.on(S.MEDIA_ATTACHING, this.onMediaAttaching, this), t.on(S.MEDIA_DETACHING, this.onMediaDetaching, this), t.on(S.MANIFEST_LOADING, this.onManifestLoading, this), t.on(S.MANIFEST_LOADED, this.onManifestLoaded, this), t.on(S.SUBTITLE_TRACKS_UPDATED, this.onSubtitleTracksUpdated, this), t.on(S.FRAG_LOADING, this.onFragLoading, this), t.on(S.FRAG_LOADED, this.onFragLoaded, this), t.on(S.FRAG_PARSING_USERDATA, this.onFragParsingUserdata, this), t.on(S.FRAG_DECRYPTED, this.onFragDecrypted, this), t.on(S.INIT_PTS_FOUND, this.onInitPtsFound, this), t.on(S.SUBTITLE_TRACKS_CLEARED, this.onSubtitleTracksCleared, this), t.on(S.BUFFER_FLUSHING, this.onBufferFlushing, this) } var e = t.prototype; return e.destroy = function () { var t = this.hls; t.off(S.MEDIA_ATTACHING, this.onMediaAttaching, this), t.off(S.MEDIA_DETACHING, this.onMediaDetaching, this), t.off(S.MANIFEST_LOADING, this.onManifestLoading, this), t.off(S.MANIFEST_LOADED, this.onManifestLoaded, this), t.off(S.SUBTITLE_TRACKS_UPDATED, this.onSubtitleTracksUpdated, this), t.off(S.FRAG_LOADING, this.onFragLoading, this), t.off(S.FRAG_LOADED, this.onFragLoaded, this), t.off(S.FRAG_PARSING_USERDATA, this.onFragParsingUserdata, this), t.off(S.FRAG_DECRYPTED, this.onFragDecrypted, this), t.off(S.INIT_PTS_FOUND, this.onInitPtsFound, this), t.off(S.SUBTITLE_TRACKS_CLEARED, this.onSubtitleTracksCleared, this), t.off(S.BUFFER_FLUSHING, this.onBufferFlushing, this), this.hls = this.config = null, this.cea608Parser1 = this.cea608Parser2 = void 0 }, e.initCea608Parsers = function () { if (this.config.enableCEA708Captions && (!this.cea608Parser1 || !this.cea608Parser2)) { var t = new pa(this, "textTrack1"), e = new pa(this, "textTrack2"), r = new pa(this, "textTrack3"), i = new pa(this, "textTrack4"); this.cea608Parser1 = new ga(1, t, e), this.cea608Parser2 = new ga(3, r, i) } }, e.addCues = function (t, e, r, i, n) { for (var a, s, o, l, u = !1, h = n.length; h--;) { var d = n[h], c = (a = d[0], s = d[1], o = e, l = r, Math.min(s, l) - Math.max(a, o)); if (c >= 0 && (d[0] = Math.min(d[0], e), d[1] = Math.max(d[1], r), u = !0, c / (r - e) > .5)) return } if (u || n.push([e, r]), this.config.renderTextTracksNatively) { var f = this.captionsTracks[t]; this.Cues.newCue(f, e, r, i) } else { var g = this.Cues.newCue(null, e, r, i); this.hls.trigger(S.CUES_PARSED, { type: "captions", cues: g, track: t }) } }, e.onInitPtsFound = function (t, e) { var r = this, i = e.frag, n = e.id, a = e.initPTS, s = e.timescale, o = this.unparsedVttFrags; "main" === n && (this.initPTS[i.cc] = { baseTime: a, timescale: s }), o.length && (this.unparsedVttFrags = [], o.forEach((function (t) { r.onFragLoaded(S.FRAG_LOADED, t) }))) }, e.getExistingTrack = function (t, e) { var r = this.media; if (r) for (var i = 0; i < r.textTracks.length; i++) { var n = r.textTracks[i]; if (ja(n, { name: t, lang: e, attrs: {} })) return n } return null }, e.createCaptionsTrack = function (t) { this.config.renderTextTracksNatively ? this.createNativeTrack(t) : this.createNonNativeTrack(t) }, e.createNativeTrack = function (t) { if (!this.captionsTracks[t]) { var e = this.captionsProperties, r = this.captionsTracks, i = this.media, n = e[t], a = n.label, s = n.languageCode, o = this.getExistingTrack(a, s); if (o) r[t] = o, Oe(r[t]), Fe(r[t], i); else { var l = this.createTextTrack("captions", a, s); l && (l[t] = !0, r[t] = l) } } }, e.createNonNativeTrack = function (t) { if (!this.nonNativeCaptionsTracks[t]) { var e = this.captionsProperties[t]; if (e) { var r = { _id: t, label: e.label, kind: "captions", default: !!e.media && !!e.media.default, closedCaptions: e.media }; this.nonNativeCaptionsTracks[t] = r, this.hls.trigger(S.NON_NATIVE_TEXT_TRACKS_FOUND, { tracks: [r] }) } } }, e.createTextTrack = function (t, e, r) { var i = this.media; if (i) return i.addTextTrack(t, e, r) }, e.onMediaAttaching = function (t, e) { this.media = e.media, this._cleanTracks() }, e.onMediaDetaching = function () { var t = this.captionsTracks; Object.keys(t).forEach((function (e) { Oe(t[e]), delete t[e] })), this.nonNativeCaptionsTracks = {} }, e.onManifestLoading = function () { this.lastCc = -1, this.lastSn = -1, this.lastPartIndex = -1, this.prevCC = -1, this.vttCCs = { ccOffset: 0, presentationOffset: 0, 0: { start: 0, prevCC: -1, new: !0 } }, this._cleanTracks(), this.tracks = [], this.captionsTracks = {}, this.nonNativeCaptionsTracks = {}, this.textTracks = [], this.unparsedVttFrags = [], this.initPTS = [], this.cea608Parser1 && this.cea608Parser2 && (this.cea608Parser1.reset(), this.cea608Parser2.reset()) }, e._cleanTracks = function () { var t = this.media; if (t) { var e = t.textTracks; if (e) for (var r = 0; r < e.length; r++)Oe(e[r]) } }, e.onSubtitleTracksUpdated = function (t, e) { var r = this, i = e.subtitleTracks || [], n = i.some((function (t) { return t.textCodec === Pa })); if (this.config.enableWebVTT || n && this.config.enableIMSC1) { if (Gn(this.tracks, i)) return void (this.tracks = i); if (this.textTracks = [], this.tracks = i, this.config.renderTextTracksNatively) { var a = this.media, s = a ? Ue(a.textTracks) : null; if (this.tracks.forEach((function (t, e) { var i; if (s) { for (var n = null, a = 0; a < s.length; a++)if (s[a] && ja(s[a], t)) { n = s[a], s[a] = null; break } n && (i = n) } if (i) Oe(i); else { var o = Wa(t); (i = r.createTextTrack(o, t.name, t.lang)) && (i.mode = "disabled") } i && r.textTracks.push(i) })), null != s && s.length) { var o = s.filter((function (t) { return null !== t })).map((function (t) { return t.label })); o.length && w.warn("Media element contains unused subtitle tracks: " + o.join(", ") + ". Replace media element for each source to clear TextTracks and captions menu.") } } else if (this.tracks.length) { var l = this.tracks.map((function (t) { return { label: t.name, kind: t.type.toLowerCase(), default: t.default, subtitleTrack: t } })); this.hls.trigger(S.NON_NATIVE_TEXT_TRACKS_FOUND, { tracks: l }) } } }, e.onManifestLoaded = function (t, e) { var r = this; this.config.enableCEA708Captions && e.captions && e.captions.forEach((function (t) { var e = /(?:CC|SERVICE)([1-4])/.exec(t.instreamId); if (e) { var i = "textTrack" + e[1], n = r.captionsProperties[i]; n && (n.label = t.name, t.lang && (n.languageCode = t.lang), n.media = t) } })) }, e.closedCaptionsForLevel = function (t) { var e = this.hls.levels[t.level]; return null == e ? void 0 : e.attrs["CLOSED-CAPTIONS"] }, e.onFragLoading = function (t, e) { this.initCea608Parsers(); var r = this.cea608Parser1, i = this.cea608Parser2, n = this.lastCc, a = this.lastSn, s = this.lastPartIndex; if (this.enabled && r && i && e.frag.type === Ie) { var o, l, u = e.frag, h = u.cc, d = u.sn, c = null != (o = null == e || null == (l = e.part) ? void 0 : l.index) ? o : -1; d === a + 1 || d === a && c === s + 1 || h === n || (r.reset(), i.reset()), this.lastCc = h, this.lastSn = d, this.lastPartIndex = c } }, e.onFragLoaded = function (t, e) { var r = e.frag, i = e.payload; if (r.type === Ce) if (i.byteLength) { var n = r.decryptdata, a = "stats" in e; if (null == n || !n.encrypted || a) { var s = this.tracks[r.level], o = this.vttCCs; o[r.cc] || (o[r.cc] = { start: r.start, prevCC: this.prevCC, new: !0 }, this.prevCC = r.cc), s && s.textCodec === Pa ? this._parseIMSC1(r, i) : this._parseVTTs(e) } } else this.hls.trigger(S.SUBTITLE_FRAG_PROCESSED, { success: !1, frag: r, error: new Error("Empty subtitle payload") }) }, e._parseIMSC1 = function (t, e) { var r = this, i = this.hls; Na(e, this.initPTS[t.cc], (function (e) { r._appendCues(e, t.level), i.trigger(S.SUBTITLE_FRAG_PROCESSED, { success: !0, frag: t }) }), (function (e) { w.log("Failed to parse IMSC1: " + e), i.trigger(S.SUBTITLE_FRAG_PROCESSED, { success: !1, frag: t, error: e }) })) }, e._parseVTTs = function (t) { var e, r = this, i = t.frag, n = t.payload, a = this.initPTS, s = this.unparsedVttFrags, o = a.length - 1; if (a[i.cc] || -1 !== o) { var l = this.hls; xa(null != (e = i.initSegment) && e.data ? Gt(i.initSegment.data, new Uint8Array(n)) : n, this.initPTS[i.cc], this.vttCCs, i.cc, i.start, (function (t) { r._appendCues(t, i.level), l.trigger(S.SUBTITLE_FRAG_PROCESSED, { success: !0, frag: i }) }), (function (e) { var a = "Missing initPTS for VTT MPEGTS" === e.message; a ? s.push(t) : r._fallbackToIMSC1(i, n), w.log("Failed to parse VTT cue: " + e), a && o > i.cc || l.trigger(S.SUBTITLE_FRAG_PROCESSED, { success: !1, frag: i, error: e }) })) } else s.push(t) }, e._fallbackToIMSC1 = function (t, e) { var r = this, i = this.tracks[t.level]; i.textCodec || Na(e, this.initPTS[t.cc], (function () { i.textCodec = Pa, r._parseIMSC1(t, e) }), (function () { i.textCodec = "wvtt" })) }, e._appendCues = function (t, e) { var r = this.hls; if (this.config.renderTextTracksNatively) { var i = this.textTracks[e]; if (!i || "disabled" === i.mode) return; t.forEach((function (t) { return Me(i, t) })) } else { var n = this.tracks[e]; if (!n) return; var a = n.default ? "default" : "subtitles" + e; r.trigger(S.CUES_PARSED, { type: "subtitles", cues: t, track: a }) } }, e.onFragDecrypted = function (t, e) { e.frag.type === Ce && this.onFragLoaded(S.FRAG_LOADED, e) }, e.onSubtitleTracksCleared = function () { this.tracks = [], this.captionsTracks = {} }, e.onFragParsingUserdata = function (t, e) { this.initCea608Parsers(); var r = this.cea608Parser1, i = this.cea608Parser2; if (this.enabled && r && i) { var n = e.frag, a = e.samples; if (n.type !== Ie || "NONE" !== this.closedCaptionsForLevel(n)) for (var s = 0; s < a.length; s++) { var o = a[s].bytes; if (o) { var l = this.extractCea608Data(o); r.addData(a[s].pts, l[0]), i.addData(a[s].pts, l[1]) } } } }, e.onBufferFlushing = function (t, e) { var r = e.startOffset, i = e.endOffset, n = e.endOffsetSubtitles, a = e.type, s = this.media; if (s && !(s.currentTime < i)) { if (!a || "video" === a) { var o = this.captionsTracks; Object.keys(o).forEach((function (t) { return Ne(o[t], r, i) })) } if (this.config.renderTextTracksNatively && 0 === r && void 0 !== n) { var l = this.textTracks; Object.keys(l).forEach((function (t) { return Ne(l[t], r, n) })) } } }, e.extractCea608Data = function (t) { for (var e = [[], []], r = 31 & t[0], i = 2, n = 0; n < r; n++) { var a = t[i++], s = 127 & t[i++], o = 127 & t[i++]; if ((0 !== s || 0 !== o) && 0 != (4 & a)) { var l = 3 & a; 0 !== l && 1 !== l || (e[l].push(s), e[l].push(o)) } } return e }, t }(); function Wa(t) { return t.characteristics && /transcribes-spoken-dialog/gi.test(t.characteristics) && /describes-music-and-sound/gi.test(t.characteristics) ? "captions" : "subtitles" } function ja(t, e) { return !!t && t.kind === Wa(e) && Hn(e, t) } var qa = function () { function t(t) { this.hls = void 0, this.autoLevelCapping = void 0, this.firstLevel = void 0, this.media = void 0, this.restrictedLevels = void 0, this.timer = void 0, this.clientRect = void 0, this.streamController = void 0, this.hls = t, this.autoLevelCapping = Number.POSITIVE_INFINITY, this.firstLevel = -1, this.media = null, this.restrictedLevels = [], this.timer = void 0, this.clientRect = null, this.registerListeners() } var e = t.prototype; return e.setStreamController = function (t) { this.streamController = t }, e.destroy = function () { this.hls && this.unregisterListener(), this.timer && this.stopCapping(), this.media = null, this.clientRect = null, this.hls = this.streamController = null }, e.registerListeners = function () { var t = this.hls; t.on(S.FPS_DROP_LEVEL_CAPPING, this.onFpsDropLevelCapping, this), t.on(S.MEDIA_ATTACHING, this.onMediaAttaching, this), t.on(S.MANIFEST_PARSED, this.onManifestParsed, this), t.on(S.LEVELS_UPDATED, this.onLevelsUpdated, this), t.on(S.BUFFER_CODECS, this.onBufferCodecs, this), t.on(S.MEDIA_DETACHING, this.onMediaDetaching, this) }, e.unregisterListener = function () { var t = this.hls; t.off(S.FPS_DROP_LEVEL_CAPPING, this.onFpsDropLevelCapping, this), t.off(S.MEDIA_ATTACHING, this.onMediaAttaching, this), t.off(S.MANIFEST_PARSED, this.onManifestParsed, this), t.off(S.LEVELS_UPDATED, this.onLevelsUpdated, this), t.off(S.BUFFER_CODECS, this.onBufferCodecs, this), t.off(S.MEDIA_DETACHING, this.onMediaDetaching, this) }, e.onFpsDropLevelCapping = function (t, e) { var r = this.hls.levels[e.droppedLevel]; this.isLevelAllowed(r) && this.restrictedLevels.push({ bitrate: r.bitrate, height: r.height, width: r.width }) }, e.onMediaAttaching = function (t, e) { this.media = e.media instanceof HTMLVideoElement ? e.media : null, this.clientRect = null, this.timer && this.hls.levels.length && this.detectPlayerSize() }, e.onManifestParsed = function (t, e) { var r = this.hls; this.restrictedLevels = [], this.firstLevel = e.firstLevel, r.config.capLevelToPlayerSize && e.video && this.startCapping() }, e.onLevelsUpdated = function (t, e) { this.timer && y(this.autoLevelCapping) && this.detectPlayerSize() }, e.onBufferCodecs = function (t, e) { this.hls.config.capLevelToPlayerSize && e.video && this.startCapping() }, e.onMediaDetaching = function () { this.stopCapping() }, e.detectPlayerSize = function () { if (this.media) { if (this.mediaHeight <= 0 || this.mediaWidth <= 0) return void (this.clientRect = null); var t = this.hls.levels; if (t.length) { var e = this.hls, r = this.getMaxLevel(t.length - 1); r !== this.autoLevelCapping && w.log("Setting autoLevelCapping to " + r + ": " + t[r].height + "p@" + t[r].bitrate + " for media " + this.mediaWidth + "x" + this.mediaHeight), e.autoLevelCapping = r, e.autoLevelCapping > this.autoLevelCapping && this.streamController && this.streamController.nextLevelSwitch(), this.autoLevelCapping = e.autoLevelCapping } } }, e.getMaxLevel = function (e) { var r = this, i = this.hls.levels; if (!i.length) return -1; var n = i.filter((function (t, i) { return r.isLevelAllowed(t) && i <= e })); return this.clientRect = null, t.getMaxLevelByMediaSize(n, this.mediaWidth, this.mediaHeight) }, e.startCapping = function () { this.timer || (this.autoLevelCapping = Number.POSITIVE_INFINITY, self.clearInterval(this.timer), this.timer = self.setInterval(this.detectPlayerSize.bind(this), 1e3), this.detectPlayerSize()) }, e.stopCapping = function () { this.restrictedLevels = [], this.firstLevel = -1, this.autoLevelCapping = Number.POSITIVE_INFINITY, this.timer && (self.clearInterval(this.timer), this.timer = void 0) }, e.getDimensions = function () { if (this.clientRect) return this.clientRect; var t = this.media, e = { width: 0, height: 0 }; if (t) { var r = t.getBoundingClientRect(); e.width = r.width, e.height = r.height, e.width || e.height || (e.width = r.right - r.left || t.width || 0, e.height = r.bottom - r.top || t.height || 0) } return this.clientRect = e, e }, e.isLevelAllowed = function (t) { return !this.restrictedLevels.some((function (e) { return t.bitrate === e.bitrate && t.width === e.width && t.height === e.height })) }, t.getMaxLevelByMediaSize = function (t, e, r) { if (null == t || !t.length) return -1; for (var i, n, a = t.length - 1, s = Math.max(e, r), o = 0; o < t.length; o += 1) { var l = t[o]; if ((l.width >= s || l.height >= s) && (i = l, !(n = t[o + 1]) || i.width !== n.width || i.height !== n.height)) { a = o; break } } return a }, s(t, [{ key: "mediaWidth", get: function () { return this.getDimensions().width * this.contentScaleFactor } }, { key: "mediaHeight", get: function () { return this.getDimensions().height * this.contentScaleFactor } }, { key: "contentScaleFactor", get: function () { var t = 1; if (!this.hls.config.ignoreDevicePixelRatio) try { t = self.devicePixelRatio } catch (t) { } return t } }]), t }(), Xa = function () { function t(t) { this.hls = void 0, this.isVideoPlaybackQualityAvailable = !1, this.timer = void 0, this.media = null, this.lastTime = void 0, this.lastDroppedFrames = 0, this.lastDecodedFrames = 0, this.streamController = void 0, this.hls = t, this.registerListeners() } var e = t.prototype; return e.setStreamController = function (t) { this.streamController = t }, e.registerListeners = function () { this.hls.on(S.MEDIA_ATTACHING, this.onMediaAttaching, this) }, e.unregisterListeners = function () { this.hls.off(S.MEDIA_ATTACHING, this.onMediaAttaching, this) }, e.destroy = function () { this.timer && clearInterval(this.timer), this.unregisterListeners(), this.isVideoPlaybackQualityAvailable = !1, this.media = null }, e.onMediaAttaching = function (t, e) { var r = this.hls.config; if (r.capLevelOnFPSDrop) { var i = e.media instanceof self.HTMLVideoElement ? e.media : null; this.media = i, i && "function" == typeof i.getVideoPlaybackQuality && (this.isVideoPlaybackQualityAvailable = !0), self.clearInterval(this.timer), this.timer = self.setInterval(this.checkFPSInterval.bind(this), r.fpsDroppedMonitoringPeriod) } }, e.checkFPS = function (t, e, r) { var i = performance.now(); if (e) { if (this.lastTime) { var n = i - this.lastTime, a = r - this.lastDroppedFrames, s = e - this.lastDecodedFrames, o = 1e3 * a / n, l = this.hls; if (l.trigger(S.FPS_DROP, { currentDropped: a, currentDecoded: s, totalDroppedFrames: r }), o > 0 && a > l.config.fpsDroppedMonitoringThreshold * s) { var u = l.currentLevel; w.warn("drop FPS ratio greater than max allowed value for currentLevel: " + u), u > 0 && (-1 === l.autoLevelCapping || l.autoLevelCapping >= u) && (u -= 1, l.trigger(S.FPS_DROP_LEVEL_CAPPING, { level: u, droppedLevel: l.currentLevel }), l.autoLevelCapping = u, this.streamController.nextLevelSwitch()) } } this.lastTime = i, this.lastDroppedFrames = r, this.lastDecodedFrames = e } }, e.checkFPSInterval = function () { var t = this.media; if (t) if (this.isVideoPlaybackQualityAvailable) { var e = t.getVideoPlaybackQuality(); this.checkFPS(t, e.totalVideoFrames, e.droppedVideoFrames) } else this.checkFPS(t, t.webkitDecodedFrameCount, t.webkitDroppedFrameCount) }, t }(), za = "[eme]", Qa = function () { function t(e) { this.hls = void 0, this.config = void 0, this.media = null, this.keyFormatPromise = null, this.keySystemAccessPromises = {}, this._requestLicenseFailureCount = 0, this.mediaKeySessions = [], this.keyIdToKeySessionPromise = {}, this.setMediaKeysQueue = t.CDMCleanupPromise ? [t.CDMCleanupPromise] : [], this.onMediaEncrypted = this._onMediaEncrypted.bind(this), this.onWaitingForKey = this._onWaitingForKey.bind(this), this.debug = w.debug.bind(w, za), this.log = w.log.bind(w, za), this.warn = w.warn.bind(w, za), this.error = w.error.bind(w, za), this.hls = e, this.config = e.config, this.registerListeners() } var e = t.prototype; return e.destroy = function () { this.unregisterListeners(), this.onMediaDetached(); var t = this.config; t.requestMediaKeySystemAccessFunc = null, t.licenseXhrSetup = t.licenseResponseCallback = void 0, t.drmSystems = t.drmSystemOptions = {}, this.hls = this.onMediaEncrypted = this.onWaitingForKey = this.keyIdToKeySessionPromise = null, this.config = null }, e.registerListeners = function () { this.hls.on(S.MEDIA_ATTACHED, this.onMediaAttached, this), this.hls.on(S.MEDIA_DETACHED, this.onMediaDetached, this), this.hls.on(S.MANIFEST_LOADING, this.onManifestLoading, this), this.hls.on(S.MANIFEST_LOADED, this.onManifestLoaded, this) }, e.unregisterListeners = function () { this.hls.off(S.MEDIA_ATTACHED, this.onMediaAttached, this), this.hls.off(S.MEDIA_DETACHED, this.onMediaDetached, this), this.hls.off(S.MANIFEST_LOADING, this.onManifestLoading, this), this.hls.off(S.MANIFEST_LOADED, this.onManifestLoaded, this) }, e.getLicenseServerUrl = function (t) { var e = this.config, r = e.drmSystems, i = e.widevineLicenseUrl, n = r[t]; if (n) return n.licenseUrl; if (t === q.WIDEVINE && i) return i; throw new Error('no license server URL configured for key-system "' + t + '"') }, e.getServerCertificateUrl = function (t) { var e = this.config.drmSystems[t]; if (e) return e.serverCertificateUrl; this.log('No Server Certificate in config.drmSystems["' + t + '"]') }, e.attemptKeySystemAccess = function (t) { var e = this, r = this.hls.levels, i = function (t, e, r) { return !!t && r.indexOf(t) === e }, n = r.map((function (t) { return t.audioCodec })).filter(i), a = r.map((function (t) { return t.videoCodec })).filter(i); return n.length + a.length === 0 && a.push("avc1.42e01e"), new Promise((function (r, i) { !function t(s) { var o = s.shift(); e.getMediaKeysPromise(o, n, a).then((function (t) { return r({ keySystem: o, mediaKeys: t }) })).catch((function (e) { s.length ? t(s) : i(e instanceof es ? e : new es({ type: L.KEY_SYSTEM_ERROR, details: A.KEY_SYSTEM_NO_ACCESS, error: e, fatal: !0 }, e.message)) })) }(t) })) }, e.requestMediaKeySystemAccess = function (t, e) { var r = this.config.requestMediaKeySystemAccessFunc; if ("function" != typeof r) { var i = "Configured requestMediaKeySystemAccess is not a function " + r; return null === it && "http:" === self.location.protocol && (i = "navigator.requestMediaKeySystemAccess is not available over insecure protocol " + location.protocol), Promise.reject(new Error(i)) } return r(t, e) }, e.getMediaKeysPromise = function (t, e, r) { var i = this, n = function (t, e, r, i) { var n; switch (t) { case q.FAIRPLAY: n = ["cenc", "sinf"]; break; case q.WIDEVINE: case q.PLAYREADY: n = ["cenc"]; break; case q.CLEARKEY: n = ["cenc", "keyids"]; break; default: throw new Error("Unknown key-system: " + t) }return function (t, e, r, i) { return [{ initDataTypes: t, persistentState: i.persistentState || "optional", distinctiveIdentifier: i.distinctiveIdentifier || "optional", sessionTypes: i.sessionTypes || [i.sessionType || "temporary"], audioCapabilities: e.map((function (t) { return { contentType: 'audio/mp4; codecs="' + t + '"', robustness: i.audioRobustness || "", encryptionScheme: i.audioEncryptionScheme || null } })), videoCapabilities: r.map((function (t) { return { contentType: 'video/mp4; codecs="' + t + '"', robustness: i.videoRobustness || "", encryptionScheme: i.videoEncryptionScheme || null } })) }] }(n, e, r, i) }(t, e, r, this.config.drmSystemOptions), a = this.keySystemAccessPromises[t], s = null == a ? void 0 : a.keySystemAccess; if (!s) { this.log('Requesting encrypted media "' + t + '" key-system access with config: ' + JSON.stringify(n)), s = this.requestMediaKeySystemAccess(t, n); var o = this.keySystemAccessPromises[t] = { keySystemAccess: s }; return s.catch((function (e) { i.log('Failed to obtain access to key-system "' + t + '": ' + e) })), s.then((function (e) { i.log('Access for key-system "' + e.keySystem + '" obtained'); var r = i.fetchServerCertificate(t); return i.log('Create media-keys for "' + t + '"'), o.mediaKeys = e.createMediaKeys().then((function (e) { return i.log('Media-keys created for "' + t + '"'), r.then((function (r) { return r ? i.setMediaKeysServerCertificate(e, t, r) : e })) })), o.mediaKeys.catch((function (e) { i.error('Failed to create media-keys for "' + t + '"}: ' + e) })), o.mediaKeys })) } return s.then((function () { return a.mediaKeys })) }, e.createMediaKeySessionContext = function (t) { var e = t.decryptdata, r = t.keySystem, i = t.mediaKeys; this.log('Creating key-system session "' + r + '" keyId: ' + Lt(e.keyId || [])); var n = i.createSession(), a = { decryptdata: e, keySystem: r, mediaKeys: i, mediaKeysSession: n, keyStatus: "status-pending" }; return this.mediaKeySessions.push(a), a }, e.renewKeySession = function (t) { var e = t.decryptdata; if (e.pssh) { var r = this.createMediaKeySessionContext(t), i = this.getKeyIdString(e); this.keyIdToKeySessionPromise[i] = this.generateRequestWithPreferredKeySession(r, "cenc", e.pssh, "expired") } else this.warn("Could not renew expired session. Missing pssh initData."); this.removeSession(t) }, e.getKeyIdString = function (t) { if (!t) throw new Error("Could not read keyId of undefined decryptdata"); if (null === t.keyId) throw new Error("keyId is null"); return Lt(t.keyId) }, e.updateKeySession = function (t, e) { var r, i = t.mediaKeysSession; return this.log('Updating key-session "' + i.sessionId + '" for keyID ' + Lt((null == (r = t.decryptdata) ? void 0 : r.keyId) || []) + "\n      } (data length: " + (e ? e.byteLength : e) + ")"), i.update(e) }, e.selectKeySystemFormat = function (t) { var e = Object.keys(t.levelkeys || {}); return this.keyFormatPromise || (this.log("Selecting key-system from fragment (sn: " + t.sn + " " + t.type + ": " + t.level + ") key formats " + e.join(", ")), this.keyFormatPromise = this.getKeyFormatPromise(e)), this.keyFormatPromise }, e.getKeyFormatPromise = function (t) { var e = this; return new Promise((function (r, i) { var n = et(e.config), a = t.map($).filter((function (t) { return !!t && -1 !== n.indexOf(t) })); return e.getKeySystemSelectionPromise(a).then((function (t) { var e = t.keySystem, n = tt(e); n ? r(n) : i(new Error('Unable to find format for key-system "' + e + '"')) })).catch(i) })) }, e.loadKey = function (t) { var e = this, r = t.keyInfo.decryptdata, i = this.getKeyIdString(r), n = "(keyId: " + i + ' format: "' + r.keyFormat + '" method: ' + r.method + " uri: " + r.uri + ")"; this.log("Starting session for key " + n); var a = this.keyIdToKeySessionPromise[i]; return a || (a = this.keyIdToKeySessionPromise[i] = this.getKeySystemForKeyPromise(r).then((function (i) { var a = i.keySystem, s = i.mediaKeys; return e.throwIfDestroyed(), e.log("Handle encrypted media sn: " + t.frag.sn + " " + t.frag.type + ": " + t.frag.level + " using key " + n), e.attemptSetMediaKeys(a, s).then((function () { e.throwIfDestroyed(); var t = e.createMediaKeySessionContext({ keySystem: a, mediaKeys: s, decryptdata: r }); return e.generateRequestWithPreferredKeySession(t, "cenc", r.pssh, "playlist-key") })) }))).catch((function (t) { return e.handleError(t) })), a }, e.throwIfDestroyed = function (t) { if (!this.hls) throw new Error("invalid state") }, e.handleError = function (t) { this.hls && (this.error(t.message), t instanceof es ? this.hls.trigger(S.ERROR, t.data) : this.hls.trigger(S.ERROR, { type: L.KEY_SYSTEM_ERROR, details: A.KEY_SYSTEM_NO_KEYS, error: t, fatal: !0 })) }, e.getKeySystemForKeyPromise = function (t) { var e = this.getKeyIdString(t), r = this.keyIdToKeySessionPromise[e]; if (!r) { var i = $(t.keyFormat), n = i ? [i] : et(this.config); return this.attemptKeySystemAccess(n) } return r }, e.getKeySystemSelectionPromise = function (t) { if (t.length || (t = et(this.config)), 0 === t.length) throw new es({ type: L.KEY_SYSTEM_ERROR, details: A.KEY_SYSTEM_NO_CONFIGURED_LICENSE, fatal: !0 }, "Missing key-system license configuration options " + JSON.stringify({ drmSystems: this.config.drmSystems })); return this.attemptKeySystemAccess(t) }, e._onMediaEncrypted = function (t) { var e = this, r = t.initDataType, i = t.initData; if (this.debug('"' + t.type + '" event: init data type: "' + r + '"'), null !== i) { var n, a; if ("sinf" === r && this.config.drmSystems[q.FAIRPLAY]) { var s = bt(new Uint8Array(i)); try { var o = V(JSON.parse(s).sinf), l = Ut(new Uint8Array(o)); if (!l) return; n = l.subarray(8, 24), a = q.FAIRPLAY } catch (t) { return void this.warn('Failed to parse sinf "encrypted" event message initData') } } else { var u = function (t) { if (!(t instanceof ArrayBuffer) || t.byteLength < 32) return null; var e = { version: 0, systemId: "", kids: null, data: null }, r = new DataView(t), i = r.getUint32(0); if (t.byteLength !== i && i > 44) return null; if (1886614376 !== r.getUint32(4)) return null; if (e.version = r.getUint32(8) >>> 24, e.version > 1) return null; e.systemId = Lt(new Uint8Array(t, 12, 16)); var n = r.getUint32(28); if (0 === e.version) { if (i - 32 < n) return null; e.data = new Uint8Array(t, 32, n) } else if (1 === e.version) { e.kids = []; for (var a = 0; a < n; a++)e.kids.push(new Uint8Array(t, 32 + 16 * a, 16)) } return e }(i); if (null === u) return; 0 === u.version && u.systemId === Z && u.data && (n = u.data.subarray(8, 24)), a = function (t) { if (t === Z) return q.WIDEVINE }(u.systemId) } if (a && n) { for (var h, d = Lt(n), c = this.keyIdToKeySessionPromise, f = this.mediaKeySessions, g = c[d], v = function () { var t = f[m], a = t.decryptdata; if (a.pssh || !a.keyId) return 0; var s = Lt(a.keyId); return d === s || -1 !== a.uri.replace(/-/g, "").indexOf(d) ? (g = c[s], delete c[s], a.pssh = new Uint8Array(i), a.keyId = n, g = c[d] = g.then((function () { return e.generateRequestWithPreferredKeySession(t, r, i, "encrypted-event-key-match") })), 1) : void 0 }, m = 0; m < f.length && (0 === (h = v()) || 1 !== h); m++); g || (g = c[d] = this.getKeySystemSelectionPromise([a]).then((function (t) { var a, s = t.keySystem, o = t.mediaKeys; e.throwIfDestroyed(); var l = new qt("ISO-23001-7", d, null != (a = tt(s)) ? a : ""); return l.pssh = new Uint8Array(i), l.keyId = n, e.attemptSetMediaKeys(s, o).then((function () { e.throwIfDestroyed(); var t = e.createMediaKeySessionContext({ decryptdata: l, keySystem: s, mediaKeys: o }); return e.generateRequestWithPreferredKeySession(t, r, i, "encrypted-event-no-match") })) }))), g.catch((function (t) { return e.handleError(t) })) } } }, e._onWaitingForKey = function (t) { this.log('"' + t.type + '" event') }, e.attemptSetMediaKeys = function (t, e) { var r = this, i = this.setMediaKeysQueue.slice(); this.log('Setting media-keys for "' + t + '"'); var n = Promise.all(i).then((function () { if (!r.media) throw new Error("Attempted to set mediaKeys without media element attached"); return r.media.setMediaKeys(e) })); return this.setMediaKeysQueue.push(n), n.then((function () { r.log('Media-keys set for "' + t + '"'), i.push(n), r.setMediaKeysQueue = r.setMediaKeysQueue.filter((function (t) { return -1 === i.indexOf(t) })) })) }, e.generateRequestWithPreferredKeySession = function (t, e, r, i) { var n, a, s = this, o = null == (n = this.config.drmSystems) || null == (a = n[t.keySystem]) ? void 0 : a.generateRequest; if (o) try { var l = o.call(this.hls, e, r, t); if (!l) throw new Error("Invalid response from configured generateRequest filter"); e = l.initDataType, r = t.decryptdata.pssh = l.initData ? new Uint8Array(l.initData) : null } catch (t) { var u; if (this.warn(t.message), null != (u = this.hls) && u.config.debug) throw t } if (null === r) return this.log('Skipping key-session request for "' + i + '" (no initData)'), Promise.resolve(t); var h = this.getKeyIdString(t.decryptdata); this.log('Generating key-session request for "' + i + '": ' + h + " (init data type: " + e + " length: " + (r ? r.byteLength : null) + ")"); var d = new Mn, c = t._onmessage = function (e) { var r = t.mediaKeysSession; if (r) { var i = e.messageType, n = e.message; s.log('"' + i + '" message event for session "' + r.sessionId + '" message size: ' + n.byteLength), "license-request" === i || "license-renewal" === i ? s.renewLicense(t, n).catch((function (t) { s.handleError(t), d.emit("error", t) })) : "license-release" === i ? t.keySystem === q.FAIRPLAY && (s.updateKeySession(t, W("acknowledged")), s.removeSession(t)) : s.warn('unhandled media key message type "' + i + '"') } else d.emit("error", new Error("invalid state")) }, f = t._onkeystatuseschange = function (e) { if (t.mediaKeysSession) { s.onKeyStatusChange(t); var r = t.keyStatus; d.emit("keyStatus", r), "expired" === r && (s.warn(t.keySystem + " expired for key " + h), s.renewKeySession(t)) } else d.emit("error", new Error("invalid state")) }; t.mediaKeysSession.addEventListener("message", c), t.mediaKeysSession.addEventListener("keystatuseschange", f); var g = new Promise((function (t, e) { d.on("error", e), d.on("keyStatus", (function (r) { r.startsWith("usable") ? t() : "output-restricted" === r ? e(new es({ type: L.KEY_SYSTEM_ERROR, details: A.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED, fatal: !1 }, "HDCP level output restricted")) : "internal-error" === r ? e(new es({ type: L.KEY_SYSTEM_ERROR, details: A.KEY_SYSTEM_STATUS_INTERNAL_ERROR, fatal: !0 }, 'key status changed to "' + r + '"')) : "expired" === r ? e(new Error("key expired while generating request")) : s.warn('unhandled key status change "' + r + '"') })) })); return t.mediaKeysSession.generateRequest(e, r).then((function () { var e; s.log('Request generated for key-session "' + (null == (e = t.mediaKeysSession) ? void 0 : e.sessionId) + '" keyId: ' + h) })).catch((function (t) { throw new es({ type: L.KEY_SYSTEM_ERROR, details: A.KEY_SYSTEM_NO_SESSION, error: t, fatal: !1 }, "Error generating key-session request: " + t) })).then((function () { return g })).catch((function (e) { throw d.removeAllListeners(), s.removeSession(t), e })).then((function () { return d.removeAllListeners(), t })) }, e.onKeyStatusChange = function (t) { var e = this; t.mediaKeysSession.keyStatuses.forEach((function (r, i) { e.log('key status change "' + r + '" for keyStatuses keyId: ' + Lt("buffer" in i ? new Uint8Array(i.buffer, i.byteOffset, i.byteLength) : new Uint8Array(i)) + " session keyId: " + Lt(new Uint8Array(t.decryptdata.keyId || [])) + " uri: " + t.decryptdata.uri), t.keyStatus = r })) }, e.fetchServerCertificate = function (t) { var e = this.config, r = new (0, e.loader)(e), n = this.getServerCertificateUrl(t); return n ? (this.log('Fetching server certificate for "' + t + '"'), new Promise((function (a, s) { var o = { responseType: "arraybuffer", url: n }, l = e.certLoadPolicy.default, u = { loadPolicy: l, timeout: l.maxLoadTimeMs, maxRetry: 0, retryDelay: 0, maxRetryDelay: 0 }, h = { onSuccess: function (t, e, r, i) { a(t.data) }, onError: function (e, r, a, l) { s(new es({ type: L.KEY_SYSTEM_ERROR, details: A.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED, fatal: !0, networkDetails: a, response: i({ url: o.url, data: void 0 }, e) }, '"' + t + '" certificate request failed (' + n + "). Status: " + e.code + " (" + e.text + ")")) }, onTimeout: function (e, r, i) { s(new es({ type: L.KEY_SYSTEM_ERROR, details: A.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED, fatal: !0, networkDetails: i, response: { url: o.url, data: void 0 } }, '"' + t + '" certificate request timed out (' + n + ")")) }, onAbort: function (t, e, r) { s(new Error("aborted")) } }; r.load(o, u, h) }))) : Promise.resolve() }, e.setMediaKeysServerCertificate = function (t, e, r) { var i = this; return new Promise((function (n, a) { t.setServerCertificate(r).then((function (a) { i.log("setServerCertificate " + (a ? "success" : "not supported by CDM") + " (" + (null == r ? void 0 : r.byteLength) + ') on "' + e + '"'), n(t) })).catch((function (t) { a(new es({ type: L.KEY_SYSTEM_ERROR, details: A.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED, error: t, fatal: !0 }, t.message)) })) })) }, e.renewLicense = function (t, e) { var r = this; return this.requestLicense(t, new Uint8Array(e)).then((function (e) { return r.updateKeySession(t, new Uint8Array(e)).catch((function (t) { throw new es({ type: L.KEY_SYSTEM_ERROR, details: A.KEY_SYSTEM_SESSION_UPDATE_FAILED, error: t, fatal: !0 }, t.message) })) })) }, e.unpackPlayReadyKeyMessage = function (t, e) { var r = String.fromCharCode.apply(null, new Uint16Array(e.buffer)); if (!r.includes("PlayReadyKeyMessage")) return t.setRequestHeader("Content-Type", "text/xml; charset=utf-8"), e; var i = (new DOMParser).parseFromString(r, "application/xml"), n = i.querySelectorAll("HttpHeader"); if (n.length > 0) for (var a, s = 0, o = n.length; s < o; s++) { var l, u, h = null == (l = (a = n[s]).querySelector("name")) ? void 0 : l.textContent, d = null == (u = a.querySelector("value")) ? void 0 : u.textContent; h && d && t.setRequestHeader(h, d) } var c = i.querySelector("Challenge"), f = null == c ? void 0 : c.textContent; if (!f) throw new Error("Cannot find <Challenge> in key message"); return W(atob(f)) }, e.setupLicenseXHR = function (t, e, r, i) { var n = this, a = this.config.licenseXhrSetup; return a ? Promise.resolve().then((function () { if (!r.decryptdata) throw new Error("Key removed"); return a.call(n.hls, t, e, r, i) })).catch((function (s) { if (!r.decryptdata) throw s; return t.open("POST", e, !0), a.call(n.hls, t, e, r, i) })).then((function (r) { return t.readyState || t.open("POST", e, !0), { xhr: t, licenseChallenge: r || i } })) : (t.open("POST", e, !0), Promise.resolve({ xhr: t, licenseChallenge: i })) }, e.requestLicense = function (t, e) { var r = this, i = this.config.keyLoadPolicy.default; return new Promise((function (n, a) { var s = r.getLicenseServerUrl(t.keySystem); r.log("Sending license request to URL: " + s); var o = new XMLHttpRequest; o.responseType = "arraybuffer", o.onreadystatechange = function () { if (!r.hls || !t.mediaKeysSession) return a(new Error("invalid state")); if (4 === o.readyState) if (200 === o.status) { r._requestLicenseFailureCount = 0; var l = o.response; r.log("License received " + (l instanceof ArrayBuffer ? l.byteLength : l)); var u = r.config.licenseResponseCallback; if (u) try { l = u.call(r.hls, o, s, t) } catch (t) { r.error(t) } n(l) } else { var h = i.errorRetry, d = h ? h.maxNumRetry : 0; if (r._requestLicenseFailureCount++, r._requestLicenseFailureCount > d || o.status >= 400 && o.status < 500) a(new es({ type: L.KEY_SYSTEM_ERROR, details: A.KEY_SYSTEM_LICENSE_REQUEST_FAILED, fatal: !0, networkDetails: o, response: { url: s, data: void 0, code: o.status, text: o.statusText } }, "License Request XHR failed (" + s + "). Status: " + o.status + " (" + o.statusText + ")")); else { var c = d - r._requestLicenseFailureCount + 1; r.warn("Retrying license request, " + c + " attempts left"), r.requestLicense(t, e).then(n, a) } } }, t.licenseXhr && t.licenseXhr.readyState !== XMLHttpRequest.DONE && t.licenseXhr.abort(), t.licenseXhr = o, r.setupLicenseXHR(o, s, t, e).then((function (e) { var i = e.xhr, n = e.licenseChallenge; t.keySystem == q.PLAYREADY && (n = r.unpackPlayReadyKeyMessage(i, n)), i.send(n) })) })) }, e.onMediaAttached = function (t, e) { if (this.config.emeEnabled) { var r = e.media; this.media = r, r.addEventListener("encrypted", this.onMediaEncrypted), r.addEventListener("waitingforkey", this.onWaitingForKey) } }, e.onMediaDetached = function () { var e = this, r = this.media, i = this.mediaKeySessions; r && (r.removeEventListener("encrypted", this.onMediaEncrypted), r.removeEventListener("waitingforkey", this.onWaitingForKey), this.media = null), this._requestLicenseFailureCount = 0, this.setMediaKeysQueue = [], this.mediaKeySessions = [], this.keyIdToKeySessionPromise = {}, qt.clearKeyUriToKeyIdMap(); var n = i.length; t.CDMCleanupPromise = Promise.all(i.map((function (t) { return e.removeSession(t) })).concat(null == r ? void 0 : r.setMediaKeys(null).catch((function (t) { e.log("Could not clear media keys: " + t) })))).then((function () { n && (e.log("finished closing key sessions and clearing media keys"), i.length = 0) })).catch((function (t) { e.log("Could not close sessions and clear media keys: " + t) })) }, e.onManifestLoading = function () { this.keyFormatPromise = null }, e.onManifestLoaded = function (t, e) { var r = e.sessionKeys; if (r && this.config.emeEnabled && !this.keyFormatPromise) { var i = r.reduce((function (t, e) { return -1 === t.indexOf(e.keyFormat) && t.push(e.keyFormat), t }), []); this.log("Selecting key-system from session-keys " + i.join(", ")), this.keyFormatPromise = this.getKeyFormatPromise(i) } }, e.removeSession = function (t) { var e = this, r = t.mediaKeysSession, i = t.licenseXhr; if (r) { this.log("Remove licenses and keys and close session " + r.sessionId), t._onmessage && (r.removeEventListener("message", t._onmessage), t._onmessage = void 0), t._onkeystatuseschange && (r.removeEventListener("keystatuseschange", t._onkeystatuseschange), t._onkeystatuseschange = void 0), i && i.readyState !== XMLHttpRequest.DONE && i.abort(), t.mediaKeysSession = t.decryptdata = t.licenseXhr = void 0; var n = this.mediaKeySessions.indexOf(t); return n > -1 && this.mediaKeySessions.splice(n, 1), r.remove().catch((function (t) { e.log("Could not remove session: " + t) })).then((function () { return r.close() })).catch((function (t) { e.log("Could not close session: " + t) })) } }, t }(); Qa.CDMCleanupPromise = void 0; var Ja, $a, Za, ts, es = function (t) { function e(e, r) { var i; return (i = t.call(this, r) || this).data = void 0, e.error || (e.error = new Error(r)), i.data = e, e.err = e.error, i } return l(e, t), e }(c(Error)); !function (t) { t.MANIFEST = "m", t.AUDIO = "a", t.VIDEO = "v", t.MUXED = "av", t.INIT = "i", t.CAPTION = "c", t.TIMED_TEXT = "tt", t.KEY = "k", t.OTHER = "o" }(Ja || (Ja = {})), function (t) { t.DASH = "d", t.HLS = "h", t.SMOOTH = "s", t.OTHER = "o" }($a || ($a = {})), function (t) { t.OBJECT = "CMCD-Object", t.REQUEST = "CMCD-Request", t.SESSION = "CMCD-Session", t.STATUS = "CMCD-Status" }(Za || (Za = {})); var rs = ((ts = {})[Za.OBJECT] = ["br", "d", "ot", "tb"], ts[Za.REQUEST] = ["bl", "dl", "mtp", "nor", "nrr", "su"], ts[Za.SESSION] = ["cid", "pr", "sf", "sid", "st", "v"], ts[Za.STATUS] = ["bs", "rtp"], ts), is = function t(e, r) { this.value = void 0, this.params = void 0, Array.isArray(e) && (e = e.map((function (e) { return e instanceof t ? e : new t(e) }))), this.value = e, this.params = r }, ns = function (t) { this.description = void 0, this.description = t }, as = "Dict"; function ss(t, e, r, i) { return new Error("failed to " + t + ' "' + (n = e, (Array.isArray(n) ? JSON.stringify(n) : n instanceof Map ? "Map{}" : n instanceof Set ? "Set{}" : "object" == typeof n ? JSON.stringify(n) : String(n)) + '" as ') + r, { cause: i }); var n } var os = "Bare Item", ls = "Boolean", us = "Byte Sequence", hs = "Decimal", ds = "Integer", cs = /[\x00-\x1f\x7f]+/, fs = "Token", gs = "Key"; function vs(t, e, r) { return ss("serialize", t, e, r) } function ms(t) { if (!1 === ArrayBuffer.isView(t)) throw vs(t, us); return ":" + (e = t, btoa(String.fromCharCode.apply(String, e)) + ":"); var e } function ps(t) { if (function (t) { return t < -999999999999999 || 999999999999999 < t }(t)) throw vs(t, ds); return t.toString() } function ys(t, e) { if (t < 0) return -ys(-t, e); var r = Math.pow(10, e); if (Math.abs(t * r % 1 - .5) < Number.EPSILON) { var i = Math.floor(t * r); return (i % 2 == 0 ? i : i + 1) / r } return Math.round(t * r) / r } function Es(t) { var e = ys(t, 3); if (Math.floor(Math.abs(e)).toString().length > 12) throw vs(t, hs); var r = e.toString(); return r.includes(".") ? r : r + ".0" } var Ts = "String"; function Ss(t) { var e, r = (e = t).description || e.toString().slice(7, -1); if (!1 === /^([a-zA-Z*])([!#$%&'*+\-.^_`|~\w:/]*)$/.test(r)) throw vs(r, fs); return r } function Ls(t) { switch (typeof t) { case "number": if (!y(t)) throw vs(t, os); return Number.isInteger(t) ? ps(t) : Es(t); case "string": return function (t) { if (cs.test(t)) throw vs(t, Ts); return '"' + t.replace(/\\/g, "\\\\").replace(/"/g, '\\"') + '"' }(t); case "symbol": return Ss(t); case "boolean": return function (t) { if ("boolean" != typeof t) throw vs(t, ls); return t ? "?1" : "?0" }(t); case "object": if (t instanceof Date) return function (t) { return "@" + ps(t.getTime() / 1e3) }(t); if (t instanceof Uint8Array) return ms(t); if (t instanceof ns) return Ss(t); default: throw vs(t, os) } } function As(t) { if (!1 === /^[a-z*][a-z0-9\-_.*]*$/.test(t)) throw vs(t, gs); return t } function Rs(t) { return null == t ? "" : Object.entries(t).map((function (t) { var e = t[0], r = t[1]; return !0 === r ? ";" + As(e) : ";" + As(e) + "=" + Ls(r) })).join("") } function ks(t) { return t instanceof is ? "" + Ls(t.value) + Rs(t.params) : Ls(t) } function bs(t, e) { var r; if (void 0 === e && (e = { whitespace: !0 }), "object" != typeof t) throw vs(t, as); var i = t instanceof Map ? t.entries() : Object.entries(t), n = null != (r = e) && r.whitespace ? " " : ""; return Array.from(i).map((function (t) { var e = t[0], r = t[1]; r instanceof is == 0 && (r = new is(r)); var i, n = As(e); return !0 === r.value ? n += Rs(r.params) : (n += "=", Array.isArray(r.value) ? n += "(" + (i = r).value.map(ks).join(" ") + ")" + Rs(i.params) : n += ks(r)), n })).join("," + n) } var Ds = function (t) { return "ot" === t || "sf" === t || "st" === t }, Is = function (t) { return "number" == typeof t ? y(t) : null != t && "" !== t && !1 !== t }, ws = function (t) { return Math.round(t) }, Cs = function (t) { return 100 * ws(t / 100) }, _s = { br: ws, d: ws, bl: Cs, dl: Cs, mtp: Cs, nor: function (t, e) { return null != e && e.baseUrl && (t = function (t, e) { var r = new URL(t), i = new URL(e); if (r.origin !== i.origin) return t; for (var n = r.pathname.split("/").slice(1), a = i.pathname.split("/").slice(1, -1); n[0] === a[0];)n.shift(), a.shift(); for (; a.length;)a.shift(), n.unshift(".."); return n.join("/") }(t, e.baseUrl)), encodeURIComponent(t) }, rtp: Cs, tb: ws }; function xs(t, e) { return void 0 === e && (e = {}), t ? function (t, e) { return bs(t, e) }(function (t, e) { var r = {}; if (null == t || "object" != typeof t) return r; var i = Object.keys(t).sort(), n = o({}, _s, null == e ? void 0 : e.formatters), a = null == e ? void 0 : e.filter; return i.forEach((function (i) { if (null == a || !a(i)) { var s = t[i], o = n[i]; o && (s = o(s, e)), "v" === i && 1 === s || "pr" == i && 1 === s || Is(s) && (Ds(i) && "string" == typeof s && (s = new ns(s)), r[i] = s) } })), r }(t, e), o({ whitespace: !1 }, e)) : "" } function Ps(t, e, r) { return o(t, function (t, e) { var r; if (void 0 === e && (e = {}), !t) return {}; var i = Object.entries(t), n = Object.entries(rs).concat(Object.entries((null == (r = e) ? void 0 : r.customHeaderMap) || {})), a = i.reduce((function (t, e) { var r, i = e[0], a = e[1], s = (null == (r = n.find((function (t) { return t[1].includes(i) }))) ? void 0 : r[0]) || Za.REQUEST; return null != t[s] || (t[s] = {}), t[s][i] = a, t }), {}); return Object.entries(a).reduce((function (t, r) { var i = r[0], n = r[1]; return t[i] = xs(n, e), t }), {}) }(e, r)) } var Fs = "CMCD", Ms = /CMCD=[^&#]+/; function Os(t, e, r) { var i = function (t, e) { if (void 0 === e && (e = {}), !t) return ""; var r = xs(t, e); return Fs + "=" + encodeURIComponent(r) }(e, r); if (!i) return t; if (Ms.test(t)) return t.replace(Ms, i); var n = t.includes("?") ? "&" : "?"; return "" + t + n + i } var Ns = function () { function t(t) { var e = this; this.hls = void 0, this.config = void 0, this.media = void 0, this.sid = void 0, this.cid = void 0, this.useHeaders = !1, this.includeKeys = void 0, this.initialized = !1, this.starved = !1, this.buffering = !0, this.audioBuffer = void 0, this.videoBuffer = void 0, this.onWaiting = function () { e.initialized && (e.starved = !0), e.buffering = !0 }, this.onPlaying = function () { e.initialized || (e.initialized = !0), e.buffering = !1 }, this.applyPlaylistData = function (t) { try { e.apply(t, { ot: Ja.MANIFEST, su: !e.initialized }) } catch (t) { w.warn("Could not generate manifest CMCD data.", t) } }, this.applyFragmentData = function (t) { try { var r = t.frag, i = e.hls.levels[r.level], n = e.getObjectType(r), a = { d: 1e3 * r.duration, ot: n }; n !== Ja.VIDEO && n !== Ja.AUDIO && n != Ja.MUXED || (a.br = i.bitrate / 1e3, a.tb = e.getTopBandwidth(n) / 1e3, a.bl = e.getBufferLength(n)), e.apply(t, a) } catch (t) { w.warn("Could not generate segment CMCD data.", t) } }, this.hls = t; var r = this.config = t.config, i = r.cmcd; null != i && (r.pLoader = this.createPlaylistLoader(), r.fLoader = this.createFragmentLoader(), this.sid = i.sessionId || function () { try { return crypto.randomUUID() } catch (i) { try { var t = URL.createObjectURL(new Blob), e = t.toString(); return URL.revokeObjectURL(t), e.slice(e.lastIndexOf("/") + 1) } catch (t) { var r = (new Date).getTime(); return "xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g, (function (t) { var e = (r + 16 * Math.random()) % 16 | 0; return r = Math.floor(r / 16), ("x" == t ? e : 3 & e | 8).toString(16) })) } } }(), this.cid = i.contentId, this.useHeaders = !0 === i.useHeaders, this.includeKeys = i.includeKeys, this.registerListeners()) } var e = t.prototype; return e.registerListeners = function () { var t = this.hls; t.on(S.MEDIA_ATTACHED, this.onMediaAttached, this), t.on(S.MEDIA_DETACHED, this.onMediaDetached, this), t.on(S.BUFFER_CREATED, this.onBufferCreated, this) }, e.unregisterListeners = function () { var t = this.hls; t.off(S.MEDIA_ATTACHED, this.onMediaAttached, this), t.off(S.MEDIA_DETACHED, this.onMediaDetached, this), t.off(S.BUFFER_CREATED, this.onBufferCreated, this) }, e.destroy = function () { this.unregisterListeners(), this.onMediaDetached(), this.hls = this.config = this.audioBuffer = this.videoBuffer = null, this.onWaiting = this.onPlaying = null }, e.onMediaAttached = function (t, e) { this.media = e.media, this.media.addEventListener("waiting", this.onWaiting), this.media.addEventListener("playing", this.onPlaying) }, e.onMediaDetached = function () { this.media && (this.media.removeEventListener("waiting", this.onWaiting), this.media.removeEventListener("playing", this.onPlaying), this.media = null) }, e.onBufferCreated = function (t, e) { var r, i; this.audioBuffer = null == (r = e.tracks.audio) ? void 0 : r.buffer, this.videoBuffer = null == (i = e.tracks.video) ? void 0 : i.buffer }, e.createData = function () { var t; return { v: 1, sf: $a.HLS, sid: this.sid, cid: this.cid, pr: null == (t = this.media) ? void 0 : t.playbackRate, mtp: this.hls.bandwidthEstimate / 1e3 } }, e.apply = function (t, e) { void 0 === e && (e = {}), o(e, this.createData()); var r = e.ot === Ja.INIT || e.ot === Ja.VIDEO || e.ot === Ja.MUXED; this.starved && r && (e.bs = !0, e.su = !0, this.starved = !1), null == e.su && (e.su = this.buffering); var i = this.includeKeys; i && (e = Object.keys(e).reduce((function (t, r) { return i.includes(r) && (t[r] = e[r]), t }), {})), this.useHeaders ? (t.headers || (t.headers = {}), Ps(t.headers, e)) : t.url = Os(t.url, e) }, e.getObjectType = function (t) { var e = t.type; return "subtitle" === e ? Ja.TIMED_TEXT : "initSegment" === t.sn ? Ja.INIT : "audio" === e ? Ja.AUDIO : "main" === e ? this.hls.audioTracks.length ? Ja.VIDEO : Ja.MUXED : void 0 }, e.getTopBandwidth = function (t) { var e, r = 0, i = this.hls; if (t === Ja.AUDIO) e = i.audioTracks; else { var n = i.maxAutoLevel, a = n > -1 ? n + 1 : i.levels.length; e = i.levels.slice(0, a) } for (var s, o = g(e); !(s = o()).done;) { var l = s.value; l.bitrate > r && (r = l.bitrate) } return r > 0 ? r : NaN }, e.getBufferLength = function (t) { var e = this.hls.media, r = t === Ja.AUDIO ? this.audioBuffer : this.videoBuffer; return r && e ? 1e3 * zr.bufferInfo(r, e.currentTime, this.config.maxBufferHole).len : NaN }, e.createPlaylistLoader = function () { var t = this.config.pLoader, e = this.applyPlaylistData, r = t || this.config.loader; return function () { function t(t) { this.loader = void 0, this.loader = new r(t) } var i = t.prototype; return i.destroy = function () { this.loader.destroy() }, i.abort = function () { this.loader.abort() }, i.load = function (t, r, i) { e(t), this.loader.load(t, r, i) }, s(t, [{ key: "stats", get: function () { return this.loader.stats } }, { key: "context", get: function () { return this.loader.context } }]), t }() }, e.createFragmentLoader = function () { var t = this.config.fLoader, e = this.applyFragmentData, r = t || this.config.loader; return function () { function t(t) { this.loader = void 0, this.loader = new r(t) } var i = t.prototype; return i.destroy = function () { this.loader.destroy() }, i.abort = function () { this.loader.abort() }, i.load = function (t, r, i) { e(t), this.loader.load(t, r, i) }, s(t, [{ key: "stats", get: function () { return this.loader.stats } }, { key: "context", get: function () { return this.loader.context } }]), t }() }, t }(), Us = function () { function t(t) { this.hls = void 0, this.log = void 0, this.loader = null, this.uri = null, this.pathwayId = ".", this.pathwayPriority = null, this.timeToLoad = 300, this.reloadTimer = -1, this.updated = 0, this.started = !1, this.enabled = !0, this.levels = null, this.audioTracks = null, this.subtitleTracks = null, this.penalizedPathways = {}, this.hls = t, this.log = w.log.bind(w, "[content-steering]:"), this.registerListeners() } var e = t.prototype; return e.registerListeners = function () { var t = this.hls; t.on(S.MANIFEST_LOADING, this.onManifestLoading, this), t.on(S.MANIFEST_LOADED, this.onManifestLoaded, this), t.on(S.MANIFEST_PARSED, this.onManifestParsed, this), t.on(S.ERROR, this.onError, this) }, e.unregisterListeners = function () { var t = this.hls; t && (t.off(S.MANIFEST_LOADING, this.onManifestLoading, this), t.off(S.MANIFEST_LOADED, this.onManifestLoaded, this), t.off(S.MANIFEST_PARSED, this.onManifestParsed, this), t.off(S.ERROR, this.onError, this)) }, e.startLoad = function () { if (this.started = !0, this.clearTimeout(), this.enabled && this.uri) { if (this.updated) { var t = 1e3 * this.timeToLoad - (performance.now() - this.updated); if (t > 0) return void this.scheduleRefresh(this.uri, t) } this.loadSteeringManifest(this.uri) } }, e.stopLoad = function () { this.started = !1, this.loader && (this.loader.destroy(), this.loader = null), this.clearTimeout() }, e.clearTimeout = function () { -1 !== this.reloadTimer && (self.clearTimeout(this.reloadTimer), this.reloadTimer = -1) }, e.destroy = function () { this.unregisterListeners(), this.stopLoad(), this.hls = null, this.levels = this.audioTracks = this.subtitleTracks = null }, e.removeLevel = function (t) { var e = this.levels; e && (this.levels = e.filter((function (e) { return e !== t }))) }, e.onManifestLoading = function () { this.stopLoad(), this.enabled = !0, this.timeToLoad = 300, this.updated = 0, this.uri = null, this.pathwayId = ".", this.levels = this.audioTracks = this.subtitleTracks = null }, e.onManifestLoaded = function (t, e) { var r = e.contentSteering; null !== r && (this.pathwayId = r.pathwayId, this.uri = r.uri, this.started && this.startLoad()) }, e.onManifestParsed = function (t, e) { this.audioTracks = e.audioTracks, this.subtitleTracks = e.subtitleTracks }, e.onError = function (t, e) { var r = e.errorAction; if ((null == r ? void 0 : r.action) === Tr && r.flags === Rr) { var i = this.levels, n = this.pathwayPriority, a = this.pathwayId; if (e.context) { var s = e.context, o = s.groupId, l = s.pathwayId, u = s.type; o && i ? a = this.getPathwayForGroupId(o, u, a) : l && (a = l) } a in this.penalizedPathways || (this.penalizedPathways[a] = performance.now()), !n && i && (n = i.reduce((function (t, e) { return -1 === t.indexOf(e.pathwayId) && t.push(e.pathwayId), t }), [])), n && n.length > 1 && (this.updatePathwayPriority(n), r.resolved = this.pathwayId !== a), r.resolved || w.warn("Could not resolve " + e.details + ' ("' + e.error.message + '") with content-steering for Pathway: ' + a + " levels: " + (i ? i.length : i) + " priorities: " + JSON.stringify(n) + " penalized: " + JSON.stringify(this.penalizedPathways)) } }, e.filterParsedLevels = function (t) { this.levels = t; var e = this.getLevelsForPathway(this.pathwayId); if (0 === e.length) { var r = t[0].pathwayId; this.log("No levels found in Pathway " + this.pathwayId + '. Setting initial Pathway to "' + r + '"'), e = this.getLevelsForPathway(r), this.pathwayId = r } return e.length !== t.length ? (this.log("Found " + e.length + "/" + t.length + ' levels in Pathway "' + this.pathwayId + '"'), e) : t }, e.getLevelsForPathway = function (t) { return null === this.levels ? [] : this.levels.filter((function (e) { return t === e.pathwayId })) }, e.updatePathwayPriority = function (t) { var e; this.pathwayPriority = t; var r = this.penalizedPathways, i = performance.now(); Object.keys(r).forEach((function (t) { i - r[t] > 3e5 && delete r[t] })); for (var n = 0; n < t.length; n++) { var a = t[n]; if (!(a in r)) { if (a === this.pathwayId) return; var s = this.hls.nextLoadLevel, o = this.hls.levels[s]; if ((e = this.getLevelsForPathway(a)).length > 0) { this.log('Setting Pathway to "' + a + '"'), this.pathwayId = a, ur(e), this.hls.trigger(S.LEVELS_UPDATED, { levels: e }); var l = this.hls.levels[s]; o && l && this.levels && (l.attrs["STABLE-VARIANT-ID"] !== o.attrs["STABLE-VARIANT-ID"] && l.bitrate !== o.bitrate && this.log("Unstable Pathways change from bitrate " + o.bitrate + " to " + l.bitrate), this.hls.nextLoadLevel = s); break } } } }, e.getPathwayForGroupId = function (t, e, r) { for (var i = this.getLevelsForPathway(r).concat(this.levels || []), n = 0; n < i.length; n++)if (e === be && i[n].hasAudioGroup(t) || e === De && i[n].hasSubtitleGroup(t)) return i[n].pathwayId; return r }, e.clonePathways = function (t) { var e = this, r = this.levels; if (r) { var i = {}, n = {}; t.forEach((function (t) { var a = t.ID, s = t["BASE-ID"], o = t["URI-REPLACEMENT"]; if (!r.some((function (t) { return t.pathwayId === a }))) { var l = e.getLevelsForPathway(s).map((function (t) { var e = new x(t.attrs); e["PATHWAY-ID"] = a; var r = e.AUDIO && e.AUDIO + "_clone_" + a, s = e.SUBTITLES && e.SUBTITLES + "_clone_" + a; r && (i[e.AUDIO] = r, e.AUDIO = r), s && (n[e.SUBTITLES] = s, e.SUBTITLES = s); var l = Gs(t.uri, e["STABLE-VARIANT-ID"], "PER-VARIANT-URIS", o), u = new tr({ attrs: e, audioCodec: t.audioCodec, bitrate: t.bitrate, height: t.height, name: t.name, url: l, videoCodec: t.videoCodec, width: t.width }); if (t.audioGroups) for (var h = 1; h < t.audioGroups.length; h++)u.addGroupId("audio", t.audioGroups[h] + "_clone_" + a); if (t.subtitleGroups) for (var d = 1; d < t.subtitleGroups.length; d++)u.addGroupId("text", t.subtitleGroups[d] + "_clone_" + a); return u })); r.push.apply(r, l), Bs(e.audioTracks, i, o, a), Bs(e.subtitleTracks, n, o, a) } })) } }, e.loadSteeringManifest = function (t) { var e, r = this, i = this.hls.config, n = i.loader; this.loader && this.loader.destroy(), this.loader = new n(i); try { e = new self.URL(t) } catch (e) { return this.enabled = !1, void this.log("Failed to parse Steering Manifest URI: " + t) } if ("data:" !== e.protocol) { var a = 0 | (this.hls.bandwidthEstimate || i.abrEwmaDefaultEstimate); e.searchParams.set("_HLS_pathway", this.pathwayId), e.searchParams.set("_HLS_throughput", "" + a) } var s = { responseType: "json", url: e.href }, o = i.steeringManifestLoadPolicy.default, l = o.errorRetry || o.timeoutRetry || {}, u = { loadPolicy: o, timeout: o.maxLoadTimeMs, maxRetry: l.maxNumRetry || 0, retryDelay: l.retryDelayMs || 0, maxRetryDelay: l.maxRetryDelayMs || 0 }, h = { onSuccess: function (t, i, n, a) { r.log('Loaded steering manifest: "' + e + '"'); var s = t.data; if (1 === s.VERSION) { r.updated = performance.now(), r.timeToLoad = s.TTL; var o = s["RELOAD-URI"], l = s["PATHWAY-CLONES"], u = s["PATHWAY-PRIORITY"]; if (o) try { r.uri = new self.URL(o, e).href } catch (t) { return r.enabled = !1, void r.log("Failed to parse Steering Manifest RELOAD-URI: " + o) } r.scheduleRefresh(r.uri || n.url), l && r.clonePathways(l); var h = { steeringManifest: s, url: e.toString() }; r.hls.trigger(S.STEERING_MANIFEST_LOADED, h), u && r.updatePathwayPriority(u) } else r.log("Steering VERSION " + s.VERSION + " not supported!") }, onError: function (t, e, i, n) { if (r.log("Error loading steering manifest: " + t.code + " " + t.text + " (" + e.url + ")"), r.stopLoad(), 410 === t.code) return r.enabled = !1, void r.log("Steering manifest " + e.url + " no longer available"); var a = 1e3 * r.timeToLoad; if (429 !== t.code) r.scheduleRefresh(r.uri || e.url, a); else { var s = r.loader; if ("function" == typeof (null == s ? void 0 : s.getResponseHeader)) { var o = s.getResponseHeader("Retry-After"); o && (a = 1e3 * parseFloat(o)) } r.log("Steering manifest " + e.url + " rate limited") } }, onTimeout: function (t, e, i) { r.log("Timeout loading steering manifest (" + e.url + ")"), r.scheduleRefresh(r.uri || e.url) } }; this.log("Requesting steering manifest: " + e), this.loader.load(s, u, h) }, e.scheduleRefresh = function (t, e) { var r = this; void 0 === e && (e = 1e3 * this.timeToLoad), this.clearTimeout(), this.reloadTimer = self.setTimeout((function () { var e, i = null == (e = r.hls) ? void 0 : e.media; !i || i.ended ? r.scheduleRefresh(t, 1e3 * r.timeToLoad) : r.loadSteeringManifest(t) }), e) }, t }(); function Bs(t, e, r, i) { t && Object.keys(e).forEach((function (n) { var a = t.filter((function (t) { return t.groupId === n })).map((function (t) { var a = o({}, t); return a.details = void 0, a.attrs = new x(a.attrs), a.url = a.attrs.URI = Gs(t.url, t.attrs["STABLE-RENDITION-ID"], "PER-RENDITION-URIS", r), a.groupId = a.attrs["GROUP-ID"] = e[n], a.attrs["PATHWAY-ID"] = i, a })); t.push.apply(t, a) })) } function Gs(t, e, r, i) { var n, a = i.HOST, s = i.PARAMS, o = i[r]; e && (n = null == o ? void 0 : o[e]) && (t = n); var l = new self.URL(t); return a && !n && (l.host = a), s && Object.keys(s).sort().forEach((function (t) { t && l.searchParams.set(t, s[t]) })), l.href } var Ks = /^age:\s*[\d.]+\s*$/im, Hs = function () { function t(t) { this.xhrSetup = void 0, this.requestTimeout = void 0, this.retryTimeout = void 0, this.retryDelay = void 0, this.config = null, this.callbacks = null, this.context = null, this.loader = null, this.stats = void 0, this.xhrSetup = t && t.xhrSetup || null, this.stats = new M, this.retryDelay = 0 } var e = t.prototype; return e.destroy = function () { this.callbacks = null, this.abortInternal(), this.loader = null, this.config = null, this.context = null, this.xhrSetup = null, this.stats = null }, e.abortInternal = function () { var t = this.loader; self.clearTimeout(this.requestTimeout), self.clearTimeout(this.retryTimeout), t && (t.onreadystatechange = null, t.onprogress = null, 4 !== t.readyState && (this.stats.aborted = !0, t.abort())) }, e.abort = function () { var t; this.abortInternal(), null != (t = this.callbacks) && t.onAbort && this.callbacks.onAbort(this.stats, this.context, this.loader) }, e.load = function (t, e, r) { if (this.stats.loading.start) throw new Error("Loader can only be used once."); this.stats.loading.start = self.performance.now(), this.context = t, this.config = e, this.callbacks = r, this.loadInternal() }, e.loadInternal = function () { var t = this, e = this.config, r = this.context; if (e && r) { var i = this.loader = new self.XMLHttpRequest, n = this.stats; n.loading.first = 0, n.loaded = 0, n.aborted = !1; var a = this.xhrSetup; a ? Promise.resolve().then((function () { if (!t.stats.aborted) return a(i, r.url) })).catch((function (t) { return i.open("GET", r.url, !0), a(i, r.url) })).then((function () { t.stats.aborted || t.openAndSendXhr(i, r, e) })).catch((function (e) { t.callbacks.onError({ code: i.status, text: e.message }, r, i, n) })) : this.openAndSendXhr(i, r, e) } }, e.openAndSendXhr = function (t, e, r) { t.readyState || t.open("GET", e.url, !0); var i = e.headers, n = r.loadPolicy, a = n.maxTimeToFirstByteMs, s = n.maxLoadTimeMs; if (i) for (var o in i) t.setRequestHeader(o, i[o]); e.rangeEnd && t.setRequestHeader("Range", "bytes=" + e.rangeStart + "-" + (e.rangeEnd - 1)), t.onreadystatechange = this.readystatechange.bind(this), t.onprogress = this.loadprogress.bind(this), t.responseType = e.responseType, self.clearTimeout(this.requestTimeout), r.timeout = a && y(a) ? a : s, this.requestTimeout = self.setTimeout(this.loadtimeout.bind(this), r.timeout), t.send() }, e.readystatechange = function () { var t = this.context, e = this.loader, r = this.stats; if (t && e) { var i = e.readyState, n = this.config; if (!r.aborted && i >= 2 && (0 === r.loading.first && (r.loading.first = Math.max(self.performance.now(), r.loading.start), n.timeout !== n.loadPolicy.maxLoadTimeMs && (self.clearTimeout(this.requestTimeout), n.timeout = n.loadPolicy.maxLoadTimeMs, this.requestTimeout = self.setTimeout(this.loadtimeout.bind(this), n.loadPolicy.maxLoadTimeMs - (r.loading.first - r.loading.start)))), 4 === i)) { self.clearTimeout(this.requestTimeout), e.onreadystatechange = null, e.onprogress = null; var a = e.status, s = "text" !== e.responseType; if (a >= 200 && a < 300 && (s && e.response || null !== e.responseText)) { r.loading.end = Math.max(self.performance.now(), r.loading.first); var o = s ? e.response : e.responseText, l = "arraybuffer" === e.responseType ? o.byteLength : o.length; if (r.loaded = r.total = l, r.bwEstimate = 8e3 * r.total / (r.loading.end - r.loading.first), !this.callbacks) return; var u = this.callbacks.onProgress; if (u && u(r, t, o, e), !this.callbacks) return; var h = { url: e.responseURL, data: o, code: a }; this.callbacks.onSuccess(h, r, t, e) } else { var d = n.loadPolicy.errorRetry; gr(d, r.retry, !1, { url: t.url, data: void 0, code: a }) ? this.retry(d) : (w.error(a + " while loading " + t.url), this.callbacks.onError({ code: a, text: e.statusText }, t, e, r)) } } } }, e.loadtimeout = function () { var t, e = null == (t = this.config) ? void 0 : t.loadPolicy.timeoutRetry; if (gr(e, this.stats.retry, !0)) this.retry(e); else { var r; w.warn("timeout while loading " + (null == (r = this.context) ? void 0 : r.url)); var i = this.callbacks; i && (this.abortInternal(), i.onTimeout(this.stats, this.context, this.loader)) } }, e.retry = function (t) { var e = this.context, r = this.stats; this.retryDelay = cr(t, r.retry), r.retry++, w.warn((status ? "HTTP Status " + status : "Timeout") + " while loading " + (null == e ? void 0 : e.url) + ", retrying " + r.retry + "/" + t.maxNumRetry + " in " + this.retryDelay + "ms"), this.abortInternal(), this.loader = null, self.clearTimeout(this.retryTimeout), this.retryTimeout = self.setTimeout(this.loadInternal.bind(this), this.retryDelay) }, e.loadprogress = function (t) { var e = this.stats; e.loaded = t.loaded, t.lengthComputable && (e.total = t.total) }, e.getCacheAge = function () { var t = null; if (this.loader && Ks.test(this.loader.getAllResponseHeaders())) { var e = this.loader.getResponseHeader("age"); t = e ? parseFloat(e) : null } return t }, e.getResponseHeader = function (t) { return this.loader && new RegExp("^" + t + ":\\s*[\\d.]+\\s*$", "im").test(this.loader.getAllResponseHeaders()) ? this.loader.getResponseHeader(t) : null }, t }(), Vs = /(\d+)-(\d+)\/(\d+)/, Ys = function () { function t(t) { this.fetchSetup = void 0, this.requestTimeout = void 0, this.request = null, this.response = null, this.controller = void 0, this.context = null, this.config = null, this.callbacks = null, this.stats = void 0, this.loader = null, this.fetchSetup = t.fetchSetup || Ws, this.controller = new self.AbortController, this.stats = new M } var e = t.prototype; return e.destroy = function () { this.loader = this.callbacks = this.context = this.config = this.request = null, this.abortInternal(), this.response = null, this.fetchSetup = this.controller = this.stats = null }, e.abortInternal = function () { this.controller && !this.stats.loading.end && (this.stats.aborted = !0, this.controller.abort()) }, e.abort = function () { var t; this.abortInternal(), null != (t = this.callbacks) && t.onAbort && this.callbacks.onAbort(this.stats, this.context, this.response) }, e.load = function (t, e, r) { var i = this, n = this.stats; if (n.loading.start) throw new Error("Loader can only be used once."); n.loading.start = self.performance.now(); var a = function (t, e) { var r = { method: "GET", mode: "cors", credentials: "same-origin", signal: e, headers: new self.Headers(o({}, t.headers)) }; return t.rangeEnd && r.headers.set("Range", "bytes=" + t.rangeStart + "-" + String(t.rangeEnd - 1)), r }(t, this.controller.signal), s = r.onProgress, l = "arraybuffer" === t.responseType, u = l ? "byteLength" : "length", h = e.loadPolicy, d = h.maxTimeToFirstByteMs, c = h.maxLoadTimeMs; this.context = t, this.config = e, this.callbacks = r, this.request = this.fetchSetup(t, a), self.clearTimeout(this.requestTimeout), e.timeout = d && y(d) ? d : c, this.requestTimeout = self.setTimeout((function () { i.abortInternal(), r.onTimeout(n, t, i.response) }), e.timeout), self.fetch(this.request).then((function (a) { i.response = i.loader = a; var o = Math.max(self.performance.now(), n.loading.start); if (self.clearTimeout(i.requestTimeout), e.timeout = c, i.requestTimeout = self.setTimeout((function () { i.abortInternal(), r.onTimeout(n, t, i.response) }), c - (o - n.loading.start)), !a.ok) { var u = a.status, h = a.statusText; throw new qs(h || "fetch, bad network response", u, a) } return n.loading.first = o, n.total = function (t) { var e = t.get("Content-Range"); if (e) { var r = function (t) { var e = Vs.exec(t); if (e) return parseInt(e[2]) - parseInt(e[1]) + 1 }(e); if (y(r)) return r } var i = t.get("Content-Length"); if (i) return parseInt(i) }(a.headers) || n.total, s && y(e.highWaterMark) ? i.loadProgressively(a, n, t, e.highWaterMark, s) : l ? a.arrayBuffer() : "json" === t.responseType ? a.json() : a.text() })).then((function (a) { var o = i.response; if (!o) throw new Error("loader destroyed"); self.clearTimeout(i.requestTimeout), n.loading.end = Math.max(self.performance.now(), n.loading.first); var l = a[u]; l && (n.loaded = n.total = l); var h = { url: o.url, data: a, code: o.status }; s && !y(e.highWaterMark) && s(n, t, a, o), r.onSuccess(h, n, t, o) })).catch((function (e) { if (self.clearTimeout(i.requestTimeout), !n.aborted) { var a = e && e.code || 0, s = e ? e.message : null; r.onError({ code: a, text: s }, t, e ? e.details : null, n) } })) }, e.getCacheAge = function () { var t = null; if (this.response) { var e = this.response.headers.get("age"); t = e ? parseFloat(e) : null } return t }, e.getResponseHeader = function (t) { return this.response ? this.response.headers.get(t) : null }, e.loadProgressively = function (t, e, r, i, n) { void 0 === i && (i = 0); var a = new ki, s = t.body.getReader(); return function o() { return s.read().then((function (s) { if (s.done) return a.dataLength && n(e, r, a.flush(), t), Promise.resolve(new ArrayBuffer(0)); var l = s.value, u = l.length; return e.loaded += u, u < i || a.dataLength ? (a.push(l), a.dataLength >= i && n(e, r, a.flush(), t)) : n(e, r, l, t), o() })).catch((function () { return Promise.reject() })) }() }, t }(); function Ws(t, e) { return new self.Request(t.url, e) } var js, qs = function (t) { function e(e, r, i) { var n; return (n = t.call(this, e) || this).code = void 0, n.details = void 0, n.code = r, n.details = i, n } return l(e, t), e }(c(Error)), Xs = /\s/, zs = i(i({ autoStartLoad: !0, startPosition: -1, defaultAudioCodec: void 0, debug: !1, capLevelOnFPSDrop: !1, capLevelToPlayerSize: !1, ignoreDevicePixelRatio: !1, preferManagedMediaSource: !0, initialLiveManifestSize: 1, maxBufferLength: 30, backBufferLength: 1 / 0, frontBufferFlushThreshold: 1 / 0, maxBufferSize: 6e7, maxBufferHole: .1, highBufferWatchdogPeriod: 2, nudgeOffset: .1, nudgeMaxRetry: 3, maxFragLookUpTolerance: .25, liveSyncDurationCount: 3, liveMaxLatencyDurationCount: 1 / 0, liveSyncDuration: void 0, liveMaxLatencyDuration: void 0, maxLiveSyncPlaybackRate: 1, liveDurationInfinity: !1, liveBackBufferLength: null, maxMaxBufferLength: 600, enableWorker: !0, workerPath: null, enableSoftwareAES: !0, startLevel: void 0, startFragPrefetch: !1, fpsDroppedMonitoringPeriod: 5e3, fpsDroppedMonitoringThreshold: .2, appendErrorMaxRetry: 3, loader: Hs, fLoader: void 0, pLoader: void 0, xhrSetup: void 0, licenseXhrSetup: void 0, licenseResponseCallback: void 0, abrController: Br, bufferController: Qn, capLevelController: qa, errorController: br, fpsController: Xa, stretchShortVideoTrack: !1, maxAudioFramesDrift: 1, forceKeyFrameOnDiscontinuity: !0, abrEwmaFastLive: 3, abrEwmaSlowLive: 9, abrEwmaFastVoD: 3, abrEwmaSlowVoD: 9, abrEwmaDefaultEstimate: 5e5, abrEwmaDefaultEstimateMax: 5e6, abrBandWidthFactor: .95, abrBandWidthUpFactor: .7, abrMaxWithRealBitrate: !1, maxStarvationDelay: 4, maxLoadingDelay: 4, minAutoBitrate: 0, emeEnabled: !1, widevineLicenseUrl: void 0, drmSystems: {}, drmSystemOptions: {}, requestMediaKeySystemAccessFunc: it, testBandwidth: !0, progressive: !1, lowLatencyMode: !0, cmcd: void 0, enableDateRangeMetadataCues: !0, enableEmsgMetadataCues: !0, enableID3MetadataCues: !0, useMediaCapabilities: !0, certLoadPolicy: { default: { maxTimeToFirstByteMs: 8e3, maxLoadTimeMs: 2e4, timeoutRetry: null, errorRetry: null } }, keyLoadPolicy: { default: { maxTimeToFirstByteMs: 8e3, maxLoadTimeMs: 2e4, timeoutRetry: { maxNumRetry: 1, retryDelayMs: 1e3, maxRetryDelayMs: 2e4, backoff: "linear" }, errorRetry: { maxNumRetry: 8, retryDelayMs: 1e3, maxRetryDelayMs: 2e4, backoff: "linear" } } }, manifestLoadPolicy: { default: { maxTimeToFirstByteMs: 1 / 0, maxLoadTimeMs: 2e4, timeoutRetry: { maxNumRetry: 2, retryDelayMs: 0, maxRetryDelayMs: 0 }, errorRetry: { maxNumRetry: 1, retryDelayMs: 1e3, maxRetryDelayMs: 8e3 } } }, playlistLoadPolicy: { default: { maxTimeToFirstByteMs: 1e4, maxLoadTimeMs: 2e4, timeoutRetry: { maxNumRetry: 2, retryDelayMs: 0, maxRetryDelayMs: 0 }, errorRetry: { maxNumRetry: 2, retryDelayMs: 1e3, maxRetryDelayMs: 8e3 } } }, fragLoadPolicy: { default: { maxTimeToFirstByteMs: 1e4, maxLoadTimeMs: 12e4, timeoutRetry: { maxNumRetry: 4, retryDelayMs: 0, maxRetryDelayMs: 0 }, errorRetry: { maxNumRetry: 6, retryDelayMs: 1e3, maxRetryDelayMs: 8e3 } } }, steeringManifestLoadPolicy: { default: { maxTimeToFirstByteMs: 1e4, maxLoadTimeMs: 2e4, timeoutRetry: { maxNumRetry: 2, retryDelayMs: 0, maxRetryDelayMs: 0 }, errorRetry: { maxNumRetry: 1, retryDelayMs: 1e3, maxRetryDelayMs: 8e3 } } }, manifestLoadingTimeOut: 1e4, manifestLoadingMaxRetry: 1, manifestLoadingRetryDelay: 1e3, manifestLoadingMaxRetryTimeout: 64e3, levelLoadingTimeOut: 1e4, levelLoadingMaxRetry: 4, levelLoadingRetryDelay: 1e3, levelLoadingMaxRetryTimeout: 64e3, fragLoadingTimeOut: 2e4, fragLoadingMaxRetry: 6, fragLoadingRetryDelay: 1e3, fragLoadingMaxRetryTimeout: 64e3 }, { cueHandler: { newCue: function (t, e, r, i) { for (var n, a, s, o, l, u = [], h = self.VTTCue || self.TextTrackCue, d = 0; d < i.rows.length; d++)if (s = !0, o = 0, l = "", !(n = i.rows[d]).isEmpty()) { for (var c, f = 0; f < n.chars.length; f++)Xs.test(n.chars[f].uchar) && s ? o++ : (l += n.chars[f].uchar, s = !1); n.cueStartTime = e, e === r && (r += 1e-4), o >= 16 ? o-- : o++; var g = ba(l.trim()), v = _a(e, r, g); null != t && null != (c = t.cues) && c.getCueById(v) || ((a = new h(e, r, g)).id = v, a.line = d + 1, a.align = "left", a.position = 10 + Math.min(80, 10 * Math.floor(8 * o / 32)), u.push(a)) } return t && u.length && (u.sort((function (t, e) { return "auto" === t.line || "auto" === e.line ? 0 : t.line > 8 && e.line > 8 ? e.line - t.line : t.line - e.line })), u.forEach((function (e) { return Me(t, e) }))), u } }, enableWebVTT: !0, enableIMSC1: !0, enableCEA708Captions: !0, captionsTextTrack1Label: "English", captionsTextTrack1LanguageCode: "en", captionsTextTrack2Label: "Spanish", captionsTextTrack2LanguageCode: "es", captionsTextTrack3Label: "Unknown CC", captionsTextTrack3LanguageCode: "", captionsTextTrack4Label: "Unknown CC", captionsTextTrack4LanguageCode: "", renderTextTracksNatively: !0 }), {}, { subtitleStreamController: Wn, subtitleTrackController: qn, timelineController: Ya, audioStreamController: Vn, audioTrackController: Yn, emeController: Qa, cmcdController: Ns, contentSteeringController: Us }); function Qs(t) { return t && "object" == typeof t ? Array.isArray(t) ? t.map(Qs) : Object.keys(t).reduce((function (e, r) { return e[r] = Qs(t[r]), e }), {}) : t } function Js(t) { var e = t.loader; e !== Ys && e !== Hs ? (w.log("[config]: Custom loader detected, cannot enable progressive streaming"), t.progressive = !1) : function () { if (self.fetch && self.AbortController && self.ReadableStream && self.Request) try { return new self.ReadableStream({}), !0 } catch (t) { } return !1 }() && (t.loader = Ys, t.progressive = !0, t.enableSoftwareAES = !0, w.log("[config]: Progressive streaming enabled, using FetchLoader")) } var $s = function (t) { function e(e, r) { var i; return (i = t.call(this, e, "[level-controller]") || this)._levels = [], i._firstLevel = -1, i._maxAutoLevel = -1, i._startLevel = void 0, i.currentLevel = null, i.currentLevelIndex = -1, i.manualLevelIndex = -1, i.steering = void 0, i.onParsedComplete = void 0, i.steering = r, i._registerListeners(), i } l(e, t); var r = e.prototype; return r._registerListeners = function () { var t = this.hls; t.on(S.MANIFEST_LOADING, this.onManifestLoading, this), t.on(S.MANIFEST_LOADED, this.onManifestLoaded, this), t.on(S.LEVEL_LOADED, this.onLevelLoaded, this), t.on(S.LEVELS_UPDATED, this.onLevelsUpdated, this), t.on(S.FRAG_BUFFERED, this.onFragBuffered, this), t.on(S.ERROR, this.onError, this) }, r._unregisterListeners = function () { var t = this.hls; t.off(S.MANIFEST_LOADING, this.onManifestLoading, this), t.off(S.MANIFEST_LOADED, this.onManifestLoaded, this), t.off(S.LEVEL_LOADED, this.onLevelLoaded, this), t.off(S.LEVELS_UPDATED, this.onLevelsUpdated, this), t.off(S.FRAG_BUFFERED, this.onFragBuffered, this), t.off(S.ERROR, this.onError, this) }, r.destroy = function () { this._unregisterListeners(), this.steering = null, this.resetLevels(), t.prototype.destroy.call(this) }, r.stopLoad = function () { this._levels.forEach((function (t) { t.loadError = 0, t.fragmentError = 0 })), t.prototype.stopLoad.call(this) }, r.resetLevels = function () { this._startLevel = void 0, this.manualLevelIndex = -1, this.currentLevelIndex = -1, this.currentLevel = null, this._levels = [], this._maxAutoLevel = -1 }, r.onManifestLoading = function (t, e) { this.resetLevels() }, r.onManifestLoaded = function (t, e) { var r = this.hls.config.preferManagedMediaSource, i = [], n = {}, a = {}, s = !1, o = !1, l = !1; e.levels.forEach((function (t) { var e, u, h = t.attrs, d = t.audioCodec, c = t.videoCodec; -1 !== (null == (e = d) ? void 0 : e.indexOf("mp4a.40.34")) && (js || (js = /chrome|firefox/i.test(navigator.userAgent)), js && (t.audioCodec = d = void 0)), d && (t.audioCodec = d = ue(d, r)), 0 === (null == (u = c) ? void 0 : u.indexOf("avc1")) && (c = t.videoCodec = function (t) { var e = t.split("."); if (e.length > 2) { var r = e.shift() + "."; return (r += parseInt(e.shift()).toString(16)) + ("000" + parseInt(e.shift()).toString(16)).slice(-4) } return t }(c)); var f = t.width, g = t.height, v = t.unknownCodecs; if (s || (s = !(!f || !g)), o || (o = !!c), l || (l = !!d), !(null != v && v.length || d && !re(d, "audio", r) || c && !re(c, "video", r))) { var m = h.CODECS, p = h["FRAME-RATE"], y = h["HDCP-LEVEL"], E = h["PATHWAY-ID"], T = h.RESOLUTION, S = h["VIDEO-RANGE"], L = (E || ".") + "-" + t.bitrate + "-" + T + "-" + p + "-" + m + "-" + S + "-" + y; if (n[L]) if (n[L].uri === t.url || t.attrs["PATHWAY-ID"]) n[L].addGroupId("audio", h.AUDIO), n[L].addGroupId("text", h.SUBTITLES); else { var A = a[L] += 1; t.attrs["PATHWAY-ID"] = new Array(A + 1).join("."); var R = new tr(t); n[L] = R, i.push(R) } else { var k = new tr(t); n[L] = k, a[L] = 1, i.push(k) } } })), this.filterAndSortMediaOptions(i, e, s, o, l) }, r.filterAndSortMediaOptions = function (t, e, r, i, n) { var a = this, s = [], o = [], l = t; if ((r || i) && n && (l = l.filter((function (t) { var e, r = t.videoCodec, i = t.videoRange, n = t.width, a = t.height; return (!!r || !(!n || !a)) && !!(e = i) && ze.indexOf(e) > -1 }))), 0 !== l.length) { if (e.audioTracks) { var u = this.hls.config.preferManagedMediaSource; Zs(s = e.audioTracks.filter((function (t) { return !t.audioCodec || re(t.audioCodec, "audio", u) }))) } e.subtitles && Zs(o = e.subtitles); var h = l.slice(0); l.sort((function (t, e) { if (t.attrs["HDCP-LEVEL"] !== e.attrs["HDCP-LEVEL"]) return (t.attrs["HDCP-LEVEL"] || "") > (e.attrs["HDCP-LEVEL"] || "") ? 1 : -1; if (r && t.height !== e.height) return t.height - e.height; if (t.frameRate !== e.frameRate) return t.frameRate - e.frameRate; if (t.videoRange !== e.videoRange) return ze.indexOf(t.videoRange) - ze.indexOf(e.videoRange); if (t.videoCodec !== e.videoCodec) { var i = ae(t.videoCodec), n = ae(e.videoCodec); if (i !== n) return n - i } if (t.uri === e.uri && t.codecSet !== e.codecSet) { var a = se(t.codecSet), s = se(e.codecSet); if (a !== s) return s - a } return t.bitrate !== e.bitrate ? t.bitrate - e.bitrate : 0 })); var d = h[0]; if (this.steering && (l = this.steering.filterParsedLevels(l)).length !== h.length) for (var c = 0; c < h.length; c++)if (h[c].pathwayId === l[0].pathwayId) { d = h[c]; break } this._levels = l; for (var f = 0; f < l.length; f++)if (l[f] === d) { var g; this._firstLevel = f; var v = d.bitrate, m = this.hls.bandwidthEstimate; if (this.log("manifest loaded, " + l.length + " level(s) found, first bitrate: " + v), void 0 === (null == (g = this.hls.userConfig) ? void 0 : g.abrEwmaDefaultEstimate)) { var p = Math.min(v, this.hls.config.abrEwmaDefaultEstimateMax); p > m && m === zs.abrEwmaDefaultEstimate && (this.hls.bandwidthEstimate = p) } break } var y = n && !i, E = { levels: l, audioTracks: s, subtitleTracks: o, sessionData: e.sessionData, sessionKeys: e.sessionKeys, firstLevel: this._firstLevel, stats: e.stats, audio: n, video: i, altAudio: !y && s.some((function (t) { return !!t.url })) }; this.hls.trigger(S.MANIFEST_PARSED, E), (this.hls.config.autoStartLoad || this.hls.forceStartLoad) && this.hls.startLoad(this.hls.config.startPosition) } else Promise.resolve().then((function () { if (a.hls) { e.levels.length && a.warn("One or more CODECS in variant not supported: " + JSON.stringify(e.levels[0].attrs)); var t = new Error("no level with compatible codecs found in manifest"); a.hls.trigger(S.ERROR, { type: L.MEDIA_ERROR, details: A.MANIFEST_INCOMPATIBLE_CODECS_ERROR, fatal: !0, url: e.url, error: t, reason: t.message }) } })) }, r.onError = function (t, e) { !e.fatal && e.context && e.context.type === ke && e.context.level === this.level && this.checkRetry(e) }, r.onFragBuffered = function (t, e) { var r = e.frag; if (void 0 !== r && r.type === Ie) { var i = r.elementaryStreams; if (!Object.keys(i).some((function (t) { return !!i[t] }))) return; var n = this._levels[r.level]; null != n && n.loadError && (this.log("Resetting level error count of " + n.loadError + " on frag buffered"), n.loadError = 0) } }, r.onLevelLoaded = function (t, e) { var r, i, n = e.level, a = e.details, s = this._levels[n]; if (!s) return this.warn("Invalid level index " + n), void (null != (i = e.deliveryDirectives) && i.skip && (a.deltaUpdateFailed = !0)); n === this.currentLevelIndex ? (0 === s.fragmentError && (s.loadError = 0), this.playlistLoaded(n, e, s.details)) : null != (r = e.deliveryDirectives) && r.skip && (a.deltaUpdateFailed = !0) }, r.loadPlaylist = function (e) { t.prototype.loadPlaylist.call(this); var r = this.currentLevelIndex, i = this.currentLevel; if (i && this.shouldLoadPlaylist(i)) { var n = i.uri; if (e) try { n = e.addDirectives(n) } catch (t) { this.warn("Could not construct new URL with HLS Delivery Directives: " + t) } var a = i.attrs["PATHWAY-ID"]; this.log("Loading level index " + r + (void 0 !== (null == e ? void 0 : e.msn) ? " at sn " + e.msn + " part " + e.part : "") + " with" + (a ? " Pathway " + a : "") + " " + n), this.clearTimer(), this.hls.trigger(S.LEVEL_LOADING, { url: n, level: r, pathwayId: i.attrs["PATHWAY-ID"], id: 0, deliveryDirectives: e || null }) } }, r.removeLevel = function (t) { var e, r = this, i = this._levels.filter((function (e, i) { return i !== t || (r.steering && r.steering.removeLevel(e), e === r.currentLevel && (r.currentLevel = null, r.currentLevelIndex = -1, e.details && e.details.fragments.forEach((function (t) { return t.level = -1 }))), !1) })); ur(i), this._levels = i, this.currentLevelIndex > -1 && null != (e = this.currentLevel) && e.details && (this.currentLevelIndex = this.currentLevel.details.fragments[0].level), this.hls.trigger(S.LEVELS_UPDATED, { levels: i }) }, r.onLevelsUpdated = function (t, e) { var r = e.levels; this._levels = r }, r.checkMaxAutoUpdated = function () { var t = this.hls, e = t.autoLevelCapping, r = t.maxAutoLevel, i = t.maxHdcpLevel; this._maxAutoLevel !== r && (this._maxAutoLevel = r, this.hls.trigger(S.MAX_AUTO_LEVEL_UPDATED, { autoLevelCapping: e, levels: this.levels, maxAutoLevel: r, minAutoLevel: this.hls.minAutoLevel, maxHdcpLevel: i })) }, s(e, [{ key: "levels", get: function () { return 0 === this._levels.length ? null : this._levels } }, { key: "level", get: function () { return this.currentLevelIndex }, set: function (t) { var e = this._levels; if (0 !== e.length) { if (t < 0 || t >= e.length) { var r = new Error("invalid level idx"), i = t < 0; if (this.hls.trigger(S.ERROR, { type: L.OTHER_ERROR, details: A.LEVEL_SWITCH_ERROR, level: t, fatal: i, error: r, reason: r.message }), i) return; t = Math.min(t, e.length - 1) } var n = this.currentLevelIndex, a = this.currentLevel, s = a ? a.attrs["PATHWAY-ID"] : void 0, o = e[t], l = o.attrs["PATHWAY-ID"]; if (this.currentLevelIndex = t, this.currentLevel = o, n !== t || !o.details || !a || s !== l) { this.log("Switching to level " + t + " (" + (o.height ? o.height + "p " : "") + (o.videoRange ? o.videoRange + " " : "") + (o.codecSet ? o.codecSet + " " : "") + "@" + o.bitrate + ")" + (l ? " with Pathway " + l : "") + " from level " + n + (s ? " with Pathway " + s : "")); var u = { level: t, attrs: o.attrs, details: o.details, bitrate: o.bitrate, averageBitrate: o.averageBitrate, maxBitrate: o.maxBitrate, realBitrate: o.realBitrate, width: o.width, height: o.height, codecSet: o.codecSet, audioCodec: o.audioCodec, videoCodec: o.videoCodec, audioGroups: o.audioGroups, subtitleGroups: o.subtitleGroups, loaded: o.loaded, loadError: o.loadError, fragmentError: o.fragmentError, name: o.name, id: o.id, uri: o.uri, url: o.url, urlId: 0, audioGroupIds: o.audioGroupIds, textGroupIds: o.textGroupIds }; this.hls.trigger(S.LEVEL_SWITCHING, u); var h = o.details; if (!h || h.live) { var d = this.switchParams(o.uri, null == a ? void 0 : a.details); this.loadPlaylist(d) } } } } }, { key: "manualLevel", get: function () { return this.manualLevelIndex }, set: function (t) { this.manualLevelIndex = t, void 0 === this._startLevel && (this._startLevel = t), -1 !== t && (this.level = t) } }, { key: "firstLevel", get: function () { return this._firstLevel }, set: function (t) { this._firstLevel = t } }, { key: "startLevel", get: function () { if (void 0 === this._startLevel) { var t = this.hls.config.startLevel; return void 0 !== t ? t : this.hls.firstAutoLevel } return this._startLevel }, set: function (t) { this._startLevel = t } }, { key: "nextLoadLevel", get: function () { return -1 !== this.manualLevelIndex ? this.manualLevelIndex : this.hls.nextAutoLevel }, set: function (t) { this.level = t, -1 === this.manualLevelIndex && (this.hls.nextAutoLevel = t) } }]), e }(Dr); function Zs(t) { var e = {}; t.forEach((function (t) { var r = t.groupId || ""; t.id = e[r] = e[r] || 0, e[r]++ })) } var to = function () { function t(t) { this.config = void 0, this.keyUriToKeyInfo = {}, this.emeController = null, this.config = t } var e = t.prototype; return e.abort = function (t) { for (var e in this.keyUriToKeyInfo) { var r = this.keyUriToKeyInfo[e].loader; if (r) { var i; if (t && t !== (null == (i = r.context) ? void 0 : i.frag.type)) return; r.abort() } } }, e.detach = function () { for (var t in this.keyUriToKeyInfo) { var e = this.keyUriToKeyInfo[t]; (e.mediaKeySessionContext || e.decryptdata.isCommonEncryption) && delete this.keyUriToKeyInfo[t] } }, e.destroy = function () { for (var t in this.detach(), this.keyUriToKeyInfo) { var e = this.keyUriToKeyInfo[t].loader; e && e.destroy() } this.keyUriToKeyInfo = {} }, e.createKeyLoadError = function (t, e, r, i, n) { return void 0 === e && (e = A.KEY_LOAD_ERROR), new si({ type: L.NETWORK_ERROR, details: e, fatal: !1, frag: t, response: n, error: r, networkDetails: i }) }, e.loadClear = function (t, e) { var r = this; if (this.emeController && this.config.emeEnabled) for (var i = t.sn, n = t.cc, a = function () { var t = e[s]; if (n <= t.cc && ("initSegment" === i || "initSegment" === t.sn || i < t.sn)) return r.emeController.selectKeySystemFormat(t).then((function (e) { t.setKeyFormat(e) })), 1 }, s = 0; s < e.length && !a(); s++); }, e.load = function (t) { var e = this; return !t.decryptdata && t.encrypted && this.emeController ? this.emeController.selectKeySystemFormat(t).then((function (r) { return e.loadInternal(t, r) })) : this.loadInternal(t) }, e.loadInternal = function (t, e) { var r, i; e && t.setKeyFormat(e); var n = t.decryptdata; if (!n) { var a = new Error(e ? "Expected frag.decryptdata to be defined after setting format " + e : "Missing decryption data on fragment in onKeyLoading"); return Promise.reject(this.createKeyLoadError(t, A.KEY_LOAD_ERROR, a)) } var s = n.uri; if (!s) return Promise.reject(this.createKeyLoadError(t, A.KEY_LOAD_ERROR, new Error('Invalid key URI: "' + s + '"'))); var o, l = this.keyUriToKeyInfo[s]; if (null != (r = l) && r.decryptdata.key) return n.key = l.decryptdata.key, Promise.resolve({ frag: t, keyInfo: l }); if (null != (i = l) && i.keyLoadPromise) switch (null == (o = l.mediaKeySessionContext) ? void 0 : o.keyStatus) { case void 0: case "status-pending": case "usable": case "usable-in-future": return l.keyLoadPromise.then((function (e) { return n.key = e.keyInfo.decryptdata.key, { frag: t, keyInfo: l } })) }switch (l = this.keyUriToKeyInfo[s] = { decryptdata: n, keyLoadPromise: null, loader: null, mediaKeySessionContext: null }, n.method) { case "ISO-23001-7": case "SAMPLE-AES": case "SAMPLE-AES-CENC": case "SAMPLE-AES-CTR": return "identity" === n.keyFormat ? this.loadKeyHTTP(l, t) : this.loadKeyEME(l, t); case "AES-128": return this.loadKeyHTTP(l, t); default: return Promise.reject(this.createKeyLoadError(t, A.KEY_LOAD_ERROR, new Error('Key supplied with unsupported METHOD: "' + n.method + '"'))) } }, e.loadKeyEME = function (t, e) { var r = { frag: e, keyInfo: t }; if (this.emeController && this.config.emeEnabled) { var i = this.emeController.loadKey(r); if (i) return (t.keyLoadPromise = i.then((function (e) { return t.mediaKeySessionContext = e, r }))).catch((function (e) { throw t.keyLoadPromise = null, e })) } return Promise.resolve(r) }, e.loadKeyHTTP = function (t, e) { var r = this, n = this.config, a = new (0, n.loader)(n); return e.keyLoader = t.loader = a, t.keyLoadPromise = new Promise((function (s, o) { var l = { keyInfo: t, frag: e, responseType: "arraybuffer", url: t.decryptdata.uri }, u = n.keyLoadPolicy.default, h = { loadPolicy: u, timeout: u.maxLoadTimeMs, maxRetry: 0, retryDelay: 0, maxRetryDelay: 0 }, d = { onSuccess: function (t, e, i, n) { var a = i.frag, l = i.keyInfo, u = i.url; if (!a.decryptdata || l !== r.keyUriToKeyInfo[u]) return o(r.createKeyLoadError(a, A.KEY_LOAD_ERROR, new Error("after key load, decryptdata unset or changed"), n)); l.decryptdata.key = a.decryptdata.key = new Uint8Array(t.data), a.keyLoader = null, l.loader = null, s({ frag: a, keyInfo: l }) }, onError: function (t, n, a, s) { r.resetLoader(n), o(r.createKeyLoadError(e, A.KEY_LOAD_ERROR, new Error("HTTP Error " + t.code + " loading key " + t.text), a, i({ url: l.url, data: void 0 }, t))) }, onTimeout: function (t, i, n) { r.resetLoader(i), o(r.createKeyLoadError(e, A.KEY_LOAD_TIMEOUT, new Error("key loading timed out"), n)) }, onAbort: function (t, i, n) { r.resetLoader(i), o(r.createKeyLoadError(e, A.INTERNAL_ABORTED, new Error("key loading aborted"), n)) } }; a.load(l, h, d) })) }, e.resetLoader = function (t) { var e = t.frag, r = t.keyInfo, i = t.url, n = r.loader; e.keyLoader === n && (e.keyLoader = null, r.loader = null), delete this.keyUriToKeyInfo[i], n && n.destroy() }, t }(); function eo() { return self.SourceBuffer || self.WebKitSourceBuffer } function ro() { if (!te()) return !1; var t = eo(); return !t || t.prototype && "function" == typeof t.prototype.appendBuffer && "function" == typeof t.prototype.remove } var io = function () { function t(t, e, r, i) { this.config = void 0, this.media = null, this.fragmentTracker = void 0, this.hls = void 0, this.nudgeRetry = 0, this.stallReported = !1, this.stalled = null, this.moved = !1, this.seeking = !1, this.config = t, this.media = e, this.fragmentTracker = r, this.hls = i } var e = t.prototype; return e.destroy = function () { this.media = null, this.hls = this.fragmentTracker = null }, e.poll = function (t, e) { var r = this.config, i = this.media, n = this.stalled; if (null !== i) { var a = i.currentTime, s = i.seeking, o = this.seeking && !s, l = !this.seeking && s; if (this.seeking = s, a === t) if (l || o) this.stalled = null; else if (i.paused && !s || i.ended || 0 === i.playbackRate || !zr.getBuffered(i).length) this.nudgeRetry = 0; else { var u = zr.bufferInfo(i, a, 0), h = u.nextStart || 0; if (s) { var d = u.len > 2, c = !h || e && e.start <= a || h - a > 2 && !this.fragmentTracker.getPartialFragment(a); if (d || c) return; this.moved = !1 } if (!this.moved && null !== this.stalled) { var f; if (!(u.len > 0 || h)) return; var g = Math.max(h, u.start || 0) - a, v = this.hls.levels ? this.hls.levels[this.hls.currentLevel] : null, m = (null == v || null == (f = v.details) ? void 0 : f.live) ? 2 * v.details.targetduration : 2, p = this.fragmentTracker.getPartialFragment(a); if (g > 0 && (g <= m || p)) return void (i.paused || this._trySkipBufferHole(p)) } var y = self.performance.now(); if (null !== n) { var E = y - n; if (s || !(E >= 250) || (this._reportStall(u), this.media)) { var T = zr.bufferInfo(i, a, r.maxBufferHole); this._tryFixBufferStall(T, E) } } else this.stalled = y } else if (this.moved = !0, s || (this.nudgeRetry = 0), null !== n) { if (this.stallReported) { var S = self.performance.now() - n; w.warn("playback not stuck anymore @" + a + ", after " + Math.round(S) + "ms"), this.stallReported = !1 } this.stalled = null } } }, e._tryFixBufferStall = function (t, e) { var r = this.config, i = this.fragmentTracker, n = this.media; if (null !== n) { var a = n.currentTime, s = i.getPartialFragment(a); if (s && (this._trySkipBufferHole(s) || !this.media)) return; (t.len > r.maxBufferHole || t.nextStart && t.nextStart - a < r.maxBufferHole) && e > 1e3 * r.highBufferWatchdogPeriod && (w.warn("Trying to nudge playhead over buffer-hole"), this.stalled = null, this._tryNudgeBuffer()) } }, e._reportStall = function (t) { var e = this.hls, r = this.media; if (!this.stallReported && r) { this.stallReported = !0; var i = new Error("Playback stalling at @" + r.currentTime + " due to low buffer (" + JSON.stringify(t) + ")"); w.warn(i.message), e.trigger(S.ERROR, { type: L.MEDIA_ERROR, details: A.BUFFER_STALLED_ERROR, fatal: !1, error: i, buffer: t.len }) } }, e._trySkipBufferHole = function (t) { var e = this.config, r = this.hls, i = this.media; if (null === i) return 0; var n = i.currentTime, a = zr.bufferInfo(i, n, 0), s = n < a.start ? a.start : a.nextStart; if (s) { var o = a.len <= e.maxBufferHole, l = a.len > 0 && a.len < 1 && i.readyState < 3, u = s - n; if (u > 0 && (o || l)) { if (u > e.maxBufferHole) { var h = this.fragmentTracker, d = !1; if (0 === n) { var c = h.getAppendedFrag(0, Ie); c && s < c.end && (d = !0) } if (!d) { var f = t || h.getAppendedFrag(n, Ie); if (f) { for (var g = !1, v = f.end; v < s;) { var m = h.getPartialFragment(v); if (!m) { g = !0; break } v += m.duration } if (g) return 0 } } } var p = Math.max(s + .05, n + .1); if (w.warn("skipping hole, adjusting currentTime from " + n + " to " + p), this.moved = !0, this.stalled = null, i.currentTime = p, t && !t.gap) { var y = new Error("fragment loaded with buffer holes, seeking from " + n + " to " + p); r.trigger(S.ERROR, { type: L.MEDIA_ERROR, details: A.BUFFER_SEEK_OVER_HOLE, fatal: !1, error: y, reason: y.message, frag: t }) } return p } } return 0 }, e._tryNudgeBuffer = function () { var t = this.config, e = this.hls, r = this.media, i = this.nudgeRetry; if (null !== r) { var n = r.currentTime; if (this.nudgeRetry++, i < t.nudgeMaxRetry) { var a = n + (i + 1) * t.nudgeOffset, s = new Error("Nudging 'currentTime' from " + n + " to " + a); w.warn(s.message), r.currentTime = a, e.trigger(S.ERROR, { type: L.MEDIA_ERROR, details: A.BUFFER_NUDGE_ON_STALL, error: s, fatal: !1 }) } else { var o = new Error("Playhead still not moving while enough data buffered @" + n + " after " + t.nudgeMaxRetry + " nudges"); w.error(o.message), e.trigger(S.ERROR, { type: L.MEDIA_ERROR, details: A.BUFFER_STALLED_ERROR, error: o, fatal: !0 }) } } }, t }(), no = function (t) { function e(e, r, i) { var n; return (n = t.call(this, e, r, i, "[stream-controller]", Ie) || this).audioCodecSwap = !1, n.gapController = null, n.level = -1, n._forceStartLoad = !1, n.altAudio = !1, n.audioOnly = !1, n.fragPlaying = null, n.onvplaying = null, n.onvseeked = null, n.fragLastKbps = 0, n.couldBacktrack = !1, n.backtrackFragment = null, n.audioCodecSwitch = !1, n.videoBuffer = null, n._registerListeners(), n } l(e, t); var r = e.prototype; return r._registerListeners = function () { var t = this.hls; t.on(S.MEDIA_ATTACHED, this.onMediaAttached, this), t.on(S.MEDIA_DETACHING, this.onMediaDetaching, this), t.on(S.MANIFEST_LOADING, this.onManifestLoading, this), t.on(S.MANIFEST_PARSED, this.onManifestParsed, this), t.on(S.LEVEL_LOADING, this.onLevelLoading, this), t.on(S.LEVEL_LOADED, this.onLevelLoaded, this), t.on(S.FRAG_LOAD_EMERGENCY_ABORTED, this.onFragLoadEmergencyAborted, this), t.on(S.ERROR, this.onError, this), t.on(S.AUDIO_TRACK_SWITCHING, this.onAudioTrackSwitching, this), t.on(S.AUDIO_TRACK_SWITCHED, this.onAudioTrackSwitched, this), t.on(S.BUFFER_CREATED, this.onBufferCreated, this), t.on(S.BUFFER_FLUSHED, this.onBufferFlushed, this), t.on(S.LEVELS_UPDATED, this.onLevelsUpdated, this), t.on(S.FRAG_BUFFERED, this.onFragBuffered, this) }, r._unregisterListeners = function () { var t = this.hls; t.off(S.MEDIA_ATTACHED, this.onMediaAttached, this), t.off(S.MEDIA_DETACHING, this.onMediaDetaching, this), t.off(S.MANIFEST_LOADING, this.onManifestLoading, this), t.off(S.MANIFEST_PARSED, this.onManifestParsed, this), t.off(S.LEVEL_LOADED, this.onLevelLoaded, this), t.off(S.FRAG_LOAD_EMERGENCY_ABORTED, this.onFragLoadEmergencyAborted, this), t.off(S.ERROR, this.onError, this), t.off(S.AUDIO_TRACK_SWITCHING, this.onAudioTrackSwitching, this), t.off(S.AUDIO_TRACK_SWITCHED, this.onAudioTrackSwitched, this), t.off(S.BUFFER_CREATED, this.onBufferCreated, this), t.off(S.BUFFER_FLUSHED, this.onBufferFlushed, this), t.off(S.LEVELS_UPDATED, this.onLevelsUpdated, this), t.off(S.FRAG_BUFFERED, this.onFragBuffered, this) }, r.onHandlerDestroying = function () { this._unregisterListeners(), t.prototype.onHandlerDestroying.call(this) }, r.startLoad = function (t) { if (this.levels) { var e = this.lastCurrentTime, r = this.hls; if (this.stopLoad(), this.setInterval(100), this.level = -1, !this.startFragRequested) { var i = r.startLevel; -1 === i && (r.config.testBandwidth && this.levels.length > 1 ? (i = 0, this.bitrateTest = !0) : i = r.firstAutoLevel), this.level = r.nextLoadLevel = i, this.loadedmetadata = !1 } e > 0 && -1 === t && (this.log("Override startPosition with lastCurrentTime @" + e.toFixed(3)), t = e), this.state = fi, this.nextLoadPosition = this.startPosition = this.lastCurrentTime = t, this.tick() } else this._forceStartLoad = !0, this.state = ci }, r.stopLoad = function () { this._forceStartLoad = !1, t.prototype.stopLoad.call(this) }, r.doTick = function () { switch (this.state) { case Ai: var t = this.levels, e = this.level, r = null == t ? void 0 : t[e], i = null == r ? void 0 : r.details; if (i && (!i.live || this.levelLastLoaded === r)) { if (this.waitForCdnTuneIn(i)) break; this.state = fi; break } if (this.hls.nextLoadLevel !== this.level) { this.state = fi; break } break; case mi: var n, a = self.performance.now(), s = this.retryDate; if (!s || a >= s || null != (n = this.media) && n.seeking) { var o = this.levels, l = this.level, u = null == o ? void 0 : o[l]; this.resetStartWhenNotLoaded(u || null), this.state = fi } }this.state === fi && this.doTickIdle(), this.onTickEnd() }, r.onTickEnd = function () { t.prototype.onTickEnd.call(this), this.checkBuffer(), this.checkFragmentChanged() }, r.doTickIdle = function () { var t = this.hls, e = this.levelLastLoaded, r = this.levels, i = this.media, n = t.config, a = t.nextLoadLevel; if (null !== e && (i || !this.startFragRequested && n.startFragPrefetch) && (!this.altAudio || !this.audioOnly) && null != r && r[a]) { var s = r[a], o = this.getMainFwdBufferInfo(); if (null !== o) { var l = this.getLevelDetails(); if (l && this._streamEnded(o, l)) { var u = {}; return this.altAudio && (u.type = "video"), this.hls.trigger(S.BUFFER_EOS, u), void (this.state = Ti) } t.loadLevel !== a && -1 === t.manualLevel && this.log("Adapting to level " + a + " from level " + this.level), this.level = t.nextLoadLevel = a; var h = s.details; if (!h || this.state === Ai || h.live && this.levelLastLoaded !== s) return this.level = a, void (this.state = Ai); var d = o.len, c = this.getMaxBufferLength(s.maxBitrate); if (!(d >= c)) { this.backtrackFragment && this.backtrackFragment.start > o.end && (this.backtrackFragment = null); var f = this.backtrackFragment ? this.backtrackFragment.start : o.end, g = this.getNextFragment(f, h); if (this.couldBacktrack && !this.fragPrevious && g && "initSegment" !== g.sn && this.fragmentTracker.getState(g) !== Yr) { var v, m = (null != (v = this.backtrackFragment) ? v : g).sn - h.startSN, p = h.fragments[m - 1]; p && g.cc === p.cc && (g = p, this.fragmentTracker.removeFragment(p)) } else this.backtrackFragment && o.len && (this.backtrackFragment = null); if (g && this.isLoopLoading(g, f)) { if (!g.gap) { var y = this.audioOnly && !this.altAudio ? O : N, E = (y === N ? this.videoBuffer : this.mediaBuffer) || this.media; E && this.afterBufferFlushed(E, y, Ie) } g = this.getNextFragmentLoopLoading(g, h, o, Ie, c) } g && (!g.initSegment || g.initSegment.data || this.bitrateTest || (g = g.initSegment), this.loadFragment(g, s, f)) } } } }, r.loadFragment = function (e, r, i) { var n = this.fragmentTracker.getState(e); this.fragCurrent = e, n === Kr || n === Vr ? "initSegment" === e.sn ? this._loadInitSegment(e, r) : this.bitrateTest ? (this.log("Fragment " + e.sn + " of level " + e.level + " is being downloaded to test bitrate and will not be buffered"), this._loadBitrateTestFrag(e, r)) : (this.startFragRequested = !0, t.prototype.loadFragment.call(this, e, r, i)) : this.clearTrackerIfNeeded(e) }, r.getBufferedFrag = function (t) { return this.fragmentTracker.getBufferedFrag(t, Ie) }, r.followingBufferedFrag = function (t) { return t ? this.getBufferedFrag(t.end + .5) : null }, r.immediateLevelSwitch = function () { this.abortCurrentFrag(), this.flushMainBuffer(0, Number.POSITIVE_INFINITY) }, r.nextLevelSwitch = function () { var t = this.levels, e = this.media; if (null != e && e.readyState) { var r, i = this.getAppendedFrag(e.currentTime); i && i.start > 1 && this.flushMainBuffer(0, i.start - 1); var n = this.getLevelDetails(); if (null != n && n.live) { var a = this.getMainFwdBufferInfo(); if (!a || a.len < 2 * n.targetduration) return } if (!e.paused && t) { var s = t[this.hls.nextLoadLevel], o = this.fragLastKbps; r = o && this.fragCurrent ? this.fragCurrent.duration * s.maxBitrate / (1e3 * o) + 1 : 0 } else r = 0; var l = this.getBufferedFrag(e.currentTime + r); if (l) { var u = this.followingBufferedFrag(l); if (u) { this.abortCurrentFrag(); var h = u.maxStartPTS ? u.maxStartPTS : u.start, d = u.duration, c = Math.max(l.end, h + Math.min(Math.max(d - this.config.maxFragLookUpTolerance, d * (this.couldBacktrack ? .5 : .125)), d * (this.couldBacktrack ? .75 : .25))); this.flushMainBuffer(c, Number.POSITIVE_INFINITY) } } } }, r.abortCurrentFrag = function () { var t = this.fragCurrent; switch (this.fragCurrent = null, this.backtrackFragment = null, t && (t.abortRequests(), this.fragmentTracker.removeFragment(t)), this.state) { case gi: case vi: case mi: case yi: case Ei: this.state = fi }this.nextLoadPosition = this.getLoadPosition() }, r.flushMainBuffer = function (e, r) { t.prototype.flushMainBuffer.call(this, e, r, this.altAudio ? "video" : null) }, r.onMediaAttached = function (e, r) { t.prototype.onMediaAttached.call(this, e, r); var i = r.media; this.onvplaying = this.onMediaPlaying.bind(this), this.onvseeked = this.onMediaSeeked.bind(this), i.addEventListener("playing", this.onvplaying), i.addEventListener("seeked", this.onvseeked), this.gapController = new io(this.config, i, this.fragmentTracker, this.hls) }, r.onMediaDetaching = function () { var e = this.media; e && this.onvplaying && this.onvseeked && (e.removeEventListener("playing", this.onvplaying), e.removeEventListener("seeked", this.onvseeked), this.onvplaying = this.onvseeked = null, this.videoBuffer = null), this.fragPlaying = null, this.gapController && (this.gapController.destroy(), this.gapController = null), t.prototype.onMediaDetaching.call(this) }, r.onMediaPlaying = function () { this.tick() }, r.onMediaSeeked = function () { var t = this.media, e = t ? t.currentTime : null; y(e) && this.log("Media seeked to " + e.toFixed(3)); var r = this.getMainFwdBufferInfo(); null !== r && 0 !== r.len ? this.tick() : this.warn('Main forward buffer length on "seeked" event ' + (r ? r.len : "empty") + ")") }, r.onManifestLoading = function () { this.log("Trigger BUFFER_RESET"), this.hls.trigger(S.BUFFER_RESET, void 0), this.fragmentTracker.removeAllFragments(), this.couldBacktrack = !1, this.startPosition = this.lastCurrentTime = this.fragLastKbps = 0, this.levels = this.fragPlaying = this.backtrackFragment = this.levelLastLoaded = null, this.altAudio = this.audioOnly = this.startFragRequested = !1 }, r.onManifestParsed = function (t, e) { var r, i, n = !1, a = !1; e.levels.forEach((function (t) { var e = t.audioCodec; e && (n = n || -1 !== e.indexOf("mp4a.40.2"), a = a || -1 !== e.indexOf("mp4a.40.5")) })), this.audioCodecSwitch = n && a && !("function" == typeof (null == (i = eo()) || null == (r = i.prototype) ? void 0 : r.changeType)), this.audioCodecSwitch && this.log("Both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"), this.levels = e.levels, this.startFragRequested = !1 }, r.onLevelLoading = function (t, e) { var r = this.levels; if (r && this.state === fi) { var i = r[e.level]; (!i.details || i.details.live && this.levelLastLoaded !== i || this.waitForCdnTuneIn(i.details)) && (this.state = Ai) } }, r.onLevelLoaded = function (t, e) { var r, i = this.levels, n = e.level, a = e.details, s = a.totalduration; if (i) { this.log("Level " + n + " loaded [" + a.startSN + "," + a.endSN + "]" + (a.lastPartSn ? "[part-" + a.lastPartSn + "-" + a.lastPartIndex + "]" : "") + ", cc [" + a.startCC + ", " + a.endCC + "] duration:" + s); var o = i[n], l = this.fragCurrent; !l || this.state !== vi && this.state !== mi || l.level !== e.level && l.loader && this.abortCurrentFrag(); var u = 0; if (a.live || null != (r = o.details) && r.live) { var h; if (this.checkLiveUpdate(a), a.deltaUpdateFailed) return; u = this.alignPlaylists(a, o.details, null == (h = this.levelLastLoaded) ? void 0 : h.details) } if (o.details = a, this.levelLastLoaded = o, this.hls.trigger(S.LEVEL_UPDATED, { details: a, level: n }), this.state === Ai) { if (this.waitForCdnTuneIn(a)) return; this.state = fi } this.startFragRequested ? a.live && this.synchronizeToLiveEdge(a) : this.setStartPosition(a, u), this.tick() } else this.warn("Levels were reset while loading level " + n) }, r._handleFragmentLoadProgress = function (t) { var e, r = t.frag, i = t.part, n = t.payload, a = this.levels; if (a) { var s = a[r.level], o = s.details; if (!o) return this.warn("Dropping fragment " + r.sn + " of level " + r.level + " after level details were reset"), void this.fragmentTracker.removeFragment(r); var l = s.videoCodec, u = o.PTSKnown || !o.live, h = null == (e = r.initSegment) ? void 0 : e.data, d = this._getAudioCodec(s), c = this.transmuxer = this.transmuxer || new Bn(this.hls, Ie, this._handleTransmuxComplete.bind(this), this._handleTransmuxerFlush.bind(this)), f = i ? i.index : -1, g = -1 !== f, v = new Qr(r.level, r.sn, r.stats.chunkCount, n.byteLength, f, g), m = this.initPTS[r.cc]; c.push(n, h, d, l, r, i, o.totalduration, u, v, m) } else this.warn("Levels were reset while fragment load was in progress. Fragment " + r.sn + " of level " + r.level + " will not be buffered") }, r.onAudioTrackSwitching = function (t, e) { var r = this.altAudio; if (!e.url) { if (this.mediaBuffer !== this.media) { this.log("Switching on main audio, use media.buffered to schedule main fragment loading"), this.mediaBuffer = this.media; var i = this.fragCurrent; i && (this.log("Switching to main audio track, cancel main fragment load"), i.abortRequests(), this.fragmentTracker.removeFragment(i)), this.resetTransmuxer(), this.resetLoadingState() } else this.audioOnly && this.resetTransmuxer(); var n = this.hls; r && (n.trigger(S.BUFFER_FLUSHING, { startOffset: 0, endOffset: Number.POSITIVE_INFINITY, type: null }), this.fragmentTracker.removeAllFragments()), n.trigger(S.AUDIO_TRACK_SWITCHED, e) } }, r.onAudioTrackSwitched = function (t, e) { var r = e.id, i = !!this.hls.audioTracks[r].url; if (i) { var n = this.videoBuffer; n && this.mediaBuffer !== n && (this.log("Switching on alternate audio, use video.buffered to schedule main fragment loading"), this.mediaBuffer = n) } this.altAudio = i, this.tick() }, r.onBufferCreated = function (t, e) { var r, i, n = e.tracks, a = !1; for (var s in n) { var o = n[s]; if ("main" === o.id) { if (i = s, r = o, "video" === s) { var l = n[s]; l && (this.videoBuffer = l.buffer) } } else a = !0 } a && r ? (this.log("Alternate track found, use " + i + ".buffered to schedule main fragment loading"), this.mediaBuffer = r.buffer) : this.mediaBuffer = this.media }, r.onFragBuffered = function (t, e) { var r = e.frag, i = e.part; if (!r || r.type === Ie) { if (this.fragContextChanged(r)) return this.warn("Fragment " + r.sn + (i ? " p: " + i.index : "") + " of level " + r.level + " finished buffering, but was aborted. state: " + this.state), void (this.state === Ei && (this.state = fi)); var n = i ? i.stats : r.stats; this.fragLastKbps = Math.round(8 * n.total / (n.buffering.end - n.loading.first)), "initSegment" !== r.sn && (this.fragPrevious = r), this.fragBufferedComplete(r, i) } }, r.onError = function (t, e) { var r; if (e.fatal) this.state = Si; else switch (e.details) { case A.FRAG_GAP: case A.FRAG_PARSING_ERROR: case A.FRAG_DECRYPT_ERROR: case A.FRAG_LOAD_ERROR: case A.FRAG_LOAD_TIMEOUT: case A.KEY_LOAD_ERROR: case A.KEY_LOAD_TIMEOUT: this.onFragmentOrKeyLoadError(Ie, e); break; case A.LEVEL_LOAD_ERROR: case A.LEVEL_LOAD_TIMEOUT: case A.LEVEL_PARSING_ERROR: e.levelRetry || this.state !== Ai || (null == (r = e.context) ? void 0 : r.type) !== ke || (this.state = fi); break; case A.BUFFER_APPEND_ERROR: case A.BUFFER_FULL_ERROR: if (!e.parent || "main" !== e.parent) return; if (e.details === A.BUFFER_APPEND_ERROR) return void this.resetLoadingState(); this.reduceLengthAndFlushBuffer(e) && this.flushMainBuffer(0, Number.POSITIVE_INFINITY); break; case A.INTERNAL_EXCEPTION: this.recoverWorkerError(e) } }, r.checkBuffer = function () { var t = this.media, e = this.gapController; if (t && e && t.readyState) { if (this.loadedmetadata || !zr.getBuffered(t).length) { var r = this.state !== fi ? this.fragCurrent : null; e.poll(this.lastCurrentTime, r) } this.lastCurrentTime = t.currentTime } }, r.onFragLoadEmergencyAborted = function () { this.state = fi, this.loadedmetadata || (this.startFragRequested = !1, this.nextLoadPosition = this.startPosition), this.tickImmediate() }, r.onBufferFlushed = function (t, e) { var r = e.type; if (r !== O || this.audioOnly && !this.altAudio) { var i = (r === N ? this.videoBuffer : this.mediaBuffer) || this.media; this.afterBufferFlushed(i, r, Ie), this.tick() } }, r.onLevelsUpdated = function (t, e) { this.level > -1 && this.fragCurrent && (this.level = this.fragCurrent.level), this.levels = e.levels }, r.swapAudioCodec = function () { this.audioCodecSwap = !this.audioCodecSwap }, r.seekToStartPos = function () { var t = this.media; if (t) { var e = t.currentTime, r = this.startPosition; if (r >= 0 && e < r) { if (t.seeking) return void this.log("could not seek to " + r + ", already seeking at " + e); var i = zr.getBuffered(t), n = (i.length ? i.start(0) : 0) - r; n > 0 && (n < this.config.maxBufferHole || n < this.config.maxFragLookUpTolerance) && (this.log("adjusting start position by " + n + " to match buffer start"), r += n, this.startPosition = r), this.log("seek to target start position " + r + " from current time " + e), t.currentTime = r } } }, r._getAudioCodec = function (t) { var e = this.config.defaultAudioCodec || t.audioCodec; return this.audioCodecSwap && e && (this.log("Swapping audio codec"), e = -1 !== e.indexOf("mp4a.40.5") ? "mp4a.40.2" : "mp4a.40.5"), e }, r._loadBitrateTestFrag = function (t, e) { var r = this; t.bitrateTest = !0, this._doFragLoad(t, e).then((function (i) { var n = r.hls; if (i && !r.fragContextChanged(t)) { e.fragmentError = 0, r.state = fi, r.startFragRequested = !1, r.bitrateTest = !1; var a = t.stats; a.parsing.start = a.parsing.end = a.buffering.start = a.buffering.end = self.performance.now(), n.trigger(S.FRAG_LOADED, i), t.bitrateTest = !1 } })) }, r._handleTransmuxComplete = function (t) { var e, r = "main", i = this.hls, n = t.remuxResult, a = t.chunkMeta, s = this.getCurrentContext(a); if (s) { var o = s.frag, l = s.part, u = s.level, h = n.video, d = n.text, c = n.id3, f = n.initSegment, g = u.details, v = this.altAudio ? void 0 : n.audio; if (this.fragContextChanged(o)) this.fragmentTracker.removeFragment(o); else { if (this.state = yi, f) { if (null != f && f.tracks) { var m = o.initSegment || o; this._bufferInitSegment(u, f.tracks, m, a), i.trigger(S.FRAG_PARSING_INIT_SEGMENT, { frag: m, id: r, tracks: f.tracks }) } var p = f.initPTS, E = f.timescale; y(p) && (this.initPTS[o.cc] = { baseTime: p, timescale: E }, i.trigger(S.INIT_PTS_FOUND, { frag: o, id: r, initPTS: p, timescale: E })) } if (h && g && "initSegment" !== o.sn) { var T = g.fragments[o.sn - 1 - g.startSN], L = o.sn === g.startSN, A = !T || o.cc > T.cc; if (!1 !== n.independent) { var R = h.startPTS, k = h.endPTS, b = h.startDTS, D = h.endDTS; if (l) l.elementaryStreams[h.type] = { startPTS: R, endPTS: k, startDTS: b, endDTS: D }; else if (h.firstKeyFrame && h.independent && 1 === a.id && !A && (this.couldBacktrack = !0), h.dropped && h.independent) { var I = this.getMainFwdBufferInfo(), w = (I ? I.end : this.getLoadPosition()) + this.config.maxBufferHole, C = h.firstKeyFramePTS ? h.firstKeyFramePTS : R; if (!L && w < C - this.config.maxBufferHole && !A) return void this.backtrack(o); A && (o.gap = !0), o.setElementaryStreamInfo(h.type, o.start, k, o.start, D, !0) } else L && R > 2 && (o.gap = !0); o.setElementaryStreamInfo(h.type, R, k, b, D), this.backtrackFragment && (this.backtrackFragment = o), this.bufferFragmentData(h, o, l, a, L || A) } else { if (!L && !A) return void this.backtrack(o); o.gap = !0 } } if (v) { var _ = v.startPTS, x = v.endPTS, P = v.startDTS, F = v.endDTS; l && (l.elementaryStreams[O] = { startPTS: _, endPTS: x, startDTS: P, endDTS: F }), o.setElementaryStreamInfo(O, _, x, P, F), this.bufferFragmentData(v, o, l, a) } if (g && null != c && null != (e = c.samples) && e.length) { var M = { id: r, frag: o, details: g, samples: c.samples }; i.trigger(S.FRAG_PARSING_METADATA, M) } if (g && d) { var N = { id: r, frag: o, details: g, samples: d.samples }; i.trigger(S.FRAG_PARSING_USERDATA, N) } } } else this.resetWhenMissingContext(a) }, r._bufferInitSegment = function (t, e, r, i) { var n = this; if (this.state === yi) { this.audioOnly = !!e.audio && !e.video, this.altAudio && !this.audioOnly && delete e.audio; var a = e.audio, s = e.video, o = e.audiovideo; if (a) { var l = t.audioCodec, u = navigator.userAgent.toLowerCase(); this.audioCodecSwitch && (l && (l = -1 !== l.indexOf("mp4a.40.5") ? "mp4a.40.2" : "mp4a.40.5"), 1 !== a.metadata.channelCount && -1 === u.indexOf("firefox") && (l = "mp4a.40.5")), l && -1 !== l.indexOf("mp4a.40.5") && -1 !== u.indexOf("android") && "audio/mpeg" !== a.container && (l = "mp4a.40.2", this.log("Android: force audio codec to " + l)), t.audioCodec && t.audioCodec !== l && this.log('Swapping manifest audio codec "' + t.audioCodec + '" for "' + l + '"'), a.levelCodec = l, a.id = "main", this.log("Init audio buffer, container:" + a.container + ", codecs[selected/level/parsed]=[" + (l || "") + "/" + (t.audioCodec || "") + "/" + a.codec + "]") } s && (s.levelCodec = t.videoCodec, s.id = "main", this.log("Init video buffer, container:" + s.container + ", codecs[level/parsed]=[" + (t.videoCodec || "") + "/" + s.codec + "]")), o && this.log("Init audiovideo buffer, container:" + o.container + ", codecs[level/parsed]=[" + t.codecs + "/" + o.codec + "]"), this.hls.trigger(S.BUFFER_CODECS, e), Object.keys(e).forEach((function (t) { var a = e[t].initSegment; null != a && a.byteLength && n.hls.trigger(S.BUFFER_APPENDING, { type: t, data: a, frag: r, part: null, chunkMeta: i, parent: r.type }) })), this.tickImmediate() } }, r.getMainFwdBufferInfo = function () { return this.getFwdBufferInfo(this.mediaBuffer ? this.mediaBuffer : this.media, Ie) }, r.backtrack = function (t) { this.couldBacktrack = !0, this.backtrackFragment = t, this.resetTransmuxer(), this.flushBufferGap(t), this.fragmentTracker.removeFragment(t), this.fragPrevious = null, this.nextLoadPosition = t.start, this.state = fi }, r.checkFragmentChanged = function () { var t = this.media, e = null; if (t && t.readyState > 1 && !1 === t.seeking) { var r = t.currentTime; if (zr.isBuffered(t, r) ? e = this.getAppendedFrag(r) : zr.isBuffered(t, r + .1) && (e = this.getAppendedFrag(r + .1)), e) { this.backtrackFragment = null; var i = this.fragPlaying, n = e.level; i && e.sn === i.sn && i.level === n || (this.fragPlaying = e, this.hls.trigger(S.FRAG_CHANGED, { frag: e }), i && i.level === n || this.hls.trigger(S.LEVEL_SWITCHED, { level: n })) } } }, s(e, [{ key: "nextLevel", get: function () { var t = this.nextBufferedFrag; return t ? t.level : -1 } }, { key: "currentFrag", get: function () { var t = this.media; return t ? this.fragPlaying || this.getAppendedFrag(t.currentTime) : null } }, { key: "currentProgramDateTime", get: function () { var t = this.media; if (t) { var e = t.currentTime, r = this.currentFrag; if (r && y(e) && y(r.programDateTime)) { var i = r.programDateTime + 1e3 * (e - r.start); return new Date(i) } } return null } }, { key: "currentLevel", get: function () { var t = this.currentFrag; return t ? t.level : -1 } }, { key: "nextBufferedFrag", get: function () { var t = this.currentFrag; return t ? this.followingBufferedFrag(t) : null } }, { key: "forceStartLoad", get: function () { return this._forceStartLoad } }]), e }(Ri), ao = function () { function t(e) { void 0 === e && (e = {}), this.config = void 0, this.userConfig = void 0, this.coreComponents = void 0, this.networkControllers = void 0, this.started = !1, this._emitter = new Mn, this._autoLevelCapping = -1, this._maxHdcpLevel = null, this.abrController = void 0, this.bufferController = void 0, this.capLevelController = void 0, this.latencyController = void 0, this.levelController = void 0, this.streamController = void 0, this.audioTrackController = void 0, this.subtitleTrackController = void 0, this.emeController = void 0, this.cmcdController = void 0, this._media = null, this.url = null, this.triggeringException = void 0, I(e.debug || !1, "Hls instance"); var r = this.config = function (t, e) { if ((e.liveSyncDurationCount || e.liveMaxLatencyDurationCount) && (e.liveSyncDuration || e.liveMaxLatencyDuration)) throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration"); if (void 0 !== e.liveMaxLatencyDurationCount && (void 0 === e.liveSyncDurationCount || e.liveMaxLatencyDurationCount <= e.liveSyncDurationCount)) throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be greater than "liveSyncDurationCount"'); if (void 0 !== e.liveMaxLatencyDuration && (void 0 === e.liveSyncDuration || e.liveMaxLatencyDuration <= e.liveSyncDuration)) throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be greater than "liveSyncDuration"'); var r = Qs(t), n = ["TimeOut", "MaxRetry", "RetryDelay", "MaxRetryTimeout"]; return ["manifest", "level", "frag"].forEach((function (t) { var i = ("level" === t ? "playlist" : t) + "LoadPolicy", a = void 0 === e[i], s = []; n.forEach((function (n) { var o = t + "Loading" + n, l = e[o]; if (void 0 !== l && a) { s.push(o); var u = r[i].default; switch (e[i] = { default: u }, n) { case "TimeOut": u.maxLoadTimeMs = l, u.maxTimeToFirstByteMs = l; break; case "MaxRetry": u.errorRetry.maxNumRetry = l, u.timeoutRetry.maxNumRetry = l; break; case "RetryDelay": u.errorRetry.retryDelayMs = l, u.timeoutRetry.retryDelayMs = l; break; case "MaxRetryTimeout": u.errorRetry.maxRetryDelayMs = l, u.timeoutRetry.maxRetryDelayMs = l } } })), s.length && w.warn('hls.js config: "' + s.join('", "') + '" setting(s) are deprecated, use "' + i + '": ' + JSON.stringify(e[i])) })), i(i({}, r), e) }(t.DefaultConfig, e); this.userConfig = e, r.progressive && Js(r); var n = r.abrController, a = r.bufferController, s = r.capLevelController, o = r.errorController, l = r.fpsController, u = new o(this), h = this.abrController = new n(this), d = this.bufferController = new a(this), c = this.capLevelController = new s(this), f = new l(this), g = new Pe(this), v = new je(this), m = r.contentSteeringController, p = m ? new m(this) : null, y = this.levelController = new $s(this, p), E = new Wr(this), T = new to(this.config), L = this.streamController = new no(this, E, T); c.setStreamController(L), f.setStreamController(L); var A = [g, y, L]; p && A.splice(1, 0, p), this.networkControllers = A; var R = [h, d, c, f, v, E]; this.audioTrackController = this.createController(r.audioTrackController, A); var k = r.audioStreamController; k && A.push(new k(this, E, T)), this.subtitleTrackController = this.createController(r.subtitleTrackController, A); var b = r.subtitleStreamController; b && A.push(new b(this, E, T)), this.createController(r.timelineController, R), T.emeController = this.emeController = this.createController(r.emeController, R), this.cmcdController = this.createController(r.cmcdController, R), this.latencyController = this.createController(qe, R), this.coreComponents = R, A.push(u); var D = u.onErrorOut; "function" == typeof D && this.on(S.ERROR, D, u) } t.isMSESupported = function () { return ro() }, t.isSupported = function () { return function () { if (!ro()) return !1; var t = te(); return "function" == typeof (null == t ? void 0 : t.isTypeSupported) && (["avc1.42E01E,mp4a.40.2", "av01.0.01M.08", "vp09.00.50.08"].some((function (e) { return t.isTypeSupported(ne(e, "video")) })) || ["mp4a.40.2", "fLaC"].some((function (e) { return t.isTypeSupported(ne(e, "audio")) }))) }() }, t.getMediaSource = function () { return te() }; var e = t.prototype; return e.createController = function (t, e) { if (t) { var r = new t(this); return e && e.push(r), r } return null }, e.on = function (t, e, r) { void 0 === r && (r = this), this._emitter.on(t, e, r) }, e.once = function (t, e, r) { void 0 === r && (r = this), this._emitter.once(t, e, r) }, e.removeAllListeners = function (t) { this._emitter.removeAllListeners(t) }, e.off = function (t, e, r, i) { void 0 === r && (r = this), this._emitter.off(t, e, r, i) }, e.listeners = function (t) { return this._emitter.listeners(t) }, e.emit = function (t, e, r) { return this._emitter.emit(t, e, r) }, e.trigger = function (t, e) { if (this.config.debug) return this.emit(t, t, e); try { return this.emit(t, t, e) } catch (e) { if (w.error("An internal error happened while handling event " + t + '. Error message: "' + e.message + '". Here is a stacktrace:', e), !this.triggeringException) { this.triggeringException = !0; var r = t === S.ERROR; this.trigger(S.ERROR, { type: L.OTHER_ERROR, details: A.INTERNAL_EXCEPTION, fatal: r, event: t, error: e }), this.triggeringException = !1 } } return !1 }, e.listenerCount = function (t) { return this._emitter.listenerCount(t) }, e.destroy = function () { w.log("destroy"), this.trigger(S.DESTROYING, void 0), this.detachMedia(), this.removeAllListeners(), this._autoLevelCapping = -1, this.url = null, this.networkControllers.forEach((function (t) { return t.destroy() })), this.networkControllers.length = 0, this.coreComponents.forEach((function (t) { return t.destroy() })), this.coreComponents.length = 0; var t = this.config; t.xhrSetup = t.fetchSetup = void 0, this.userConfig = null }, e.attachMedia = function (t) { w.log("attachMedia"), this._media = t, this.trigger(S.MEDIA_ATTACHING, { media: t }) }, e.detachMedia = function () { w.log("detachMedia"), this.trigger(S.MEDIA_DETACHING, void 0), this._media = null }, e.loadSource = function (t) { this.stopLoad(); var e = this.media, r = this.url, i = this.url = p.buildAbsoluteURL(self.location.href, t, { alwaysNormalize: !0 }); this._autoLevelCapping = -1, this._maxHdcpLevel = null, w.log("loadSource:" + i), e && r && (r !== i || this.bufferController.hasSourceTypes()) && (this.detachMedia(), this.attachMedia(e)), this.trigger(S.MANIFEST_LOADING, { url: t }) }, e.startLoad = function (t) { void 0 === t && (t = -1), w.log("startLoad(" + t + ")"), this.started = !0, this.networkControllers.forEach((function (e) { e.startLoad(t) })) }, e.stopLoad = function () { w.log("stopLoad"), this.started = !1, this.networkControllers.forEach((function (t) { t.stopLoad() })) }, e.resumeBuffering = function () { this.started && this.networkControllers.forEach((function (t) { "fragmentLoader" in t && t.startLoad(-1) })) }, e.pauseBuffering = function () { this.networkControllers.forEach((function (t) { "fragmentLoader" in t && t.stopLoad() })) }, e.swapAudioCodec = function () { w.log("swapAudioCodec"), this.streamController.swapAudioCodec() }, e.recoverMediaError = function () { w.log("recoverMediaError"); var t = this._media; this.detachMedia(), t && this.attachMedia(t) }, e.removeLevel = function (t) { this.levelController.removeLevel(t) }, e.setAudioOption = function (t) { var e; return null == (e = this.audioTrackController) ? void 0 : e.setAudioOption(t) }, e.setSubtitleOption = function (t) { var e; return null == (e = this.subtitleTrackController) || e.setSubtitleOption(t), null }, s(t, [{ key: "levels", get: function () { var t = this.levelController.levels; return t || [] } }, { key: "currentLevel", get: function () { return this.streamController.currentLevel }, set: function (t) { w.log("set currentLevel:" + t), this.levelController.manualLevel = t, this.streamController.immediateLevelSwitch() } }, { key: "nextLevel", get: function () { return this.streamController.nextLevel }, set: function (t) { w.log("set nextLevel:" + t), this.levelController.manualLevel = t, this.streamController.nextLevelSwitch() } }, { key: "loadLevel", get: function () { return this.levelController.level }, set: function (t) { w.log("set loadLevel:" + t), this.levelController.manualLevel = t } }, { key: "nextLoadLevel", get: function () { return this.levelController.nextLoadLevel }, set: function (t) { this.levelController.nextLoadLevel = t } }, { key: "firstLevel", get: function () { return Math.max(this.levelController.firstLevel, this.minAutoLevel) }, set: function (t) { w.log("set firstLevel:" + t), this.levelController.firstLevel = t } }, { key: "startLevel", get: function () { var t = this.levelController.startLevel; return -1 === t && this.abrController.forcedAutoLevel > -1 ? this.abrController.forcedAutoLevel : t }, set: function (t) { w.log("set startLevel:" + t), -1 !== t && (t = Math.max(t, this.minAutoLevel)), this.levelController.startLevel = t } }, { key: "capLevelToPlayerSize", get: function () { return this.config.capLevelToPlayerSize }, set: function (t) { var e = !!t; e !== this.config.capLevelToPlayerSize && (e ? this.capLevelController.startCapping() : (this.capLevelController.stopCapping(), this.autoLevelCapping = -1, this.streamController.nextLevelSwitch()), this.config.capLevelToPlayerSize = e) } }, { key: "autoLevelCapping", get: function () { return this._autoLevelCapping }, set: function (t) { this._autoLevelCapping !== t && (w.log("set autoLevelCapping:" + t), this._autoLevelCapping = t, this.levelController.checkMaxAutoUpdated()) } }, { key: "bandwidthEstimate", get: function () { var t = this.abrController.bwEstimator; return t ? t.getEstimate() : NaN }, set: function (t) { this.abrController.resetEstimator(t) } }, { key: "ttfbEstimate", get: function () { var t = this.abrController.bwEstimator; return t ? t.getEstimateTTFB() : NaN } }, { key: "maxHdcpLevel", get: function () { return this._maxHdcpLevel }, set: function (t) { (function (t) { return Xe.indexOf(t) > -1 })(t) && this._maxHdcpLevel !== t && (this._maxHdcpLevel = t, this.levelController.checkMaxAutoUpdated()) } }, { key: "autoLevelEnabled", get: function () { return -1 === this.levelController.manualLevel } }, { key: "manualLevel", get: function () { return this.levelController.manualLevel } }, { key: "minAutoLevel", get: function () { var t = this.levels, e = this.config.minAutoBitrate; if (!t) return 0; for (var r = t.length, i = 0; i < r; i++)if (t[i].maxBitrate >= e) return i; return 0 } }, { key: "maxAutoLevel", get: function () { var t, e = this.levels, r = this.autoLevelCapping, i = this.maxHdcpLevel; if (t = -1 === r && null != e && e.length ? e.length - 1 : r, i) for (var n = t; n--;) { var a = e[n].attrs["HDCP-LEVEL"]; if (a && a <= i) return n } return t } }, { key: "firstAutoLevel", get: function () { return this.abrController.firstAutoLevel } }, { key: "nextAutoLevel", get: function () { return this.abrController.nextAutoLevel }, set: function (t) { this.abrController.nextAutoLevel = t } }, { key: "playingDate", get: function () { return this.streamController.currentProgramDateTime } }, { key: "mainForwardBufferInfo", get: function () { return this.streamController.getMainFwdBufferInfo() } }, { key: "allAudioTracks", get: function () { var t = this.audioTrackController; return t ? t.allAudioTracks : [] } }, { key: "audioTracks", get: function () { var t = this.audioTrackController; return t ? t.audioTracks : [] } }, { key: "audioTrack", get: function () { var t = this.audioTrackController; return t ? t.audioTrack : -1 }, set: function (t) { var e = this.audioTrackController; e && (e.audioTrack = t) } }, { key: "allSubtitleTracks", get: function () { var t = this.subtitleTrackController; return t ? t.allSubtitleTracks : [] } }, { key: "subtitleTracks", get: function () { var t = this.subtitleTrackController; return t ? t.subtitleTracks : [] } }, { key: "subtitleTrack", get: function () { var t = this.subtitleTrackController; return t ? t.subtitleTrack : -1 }, set: function (t) { var e = this.subtitleTrackController; e && (e.subtitleTrack = t) } }, { key: "media", get: function () { return this._media } }, { key: "subtitleDisplay", get: function () { var t = this.subtitleTrackController; return !!t && t.subtitleDisplay }, set: function (t) { var e = this.subtitleTrackController; e && (e.subtitleDisplay = t) } }, { key: "lowLatencyMode", get: function () { return this.config.lowLatencyMode }, set: function (t) { this.config.lowLatencyMode = t } }, { key: "liveSyncPosition", get: function () { return this.latencyController.liveSyncPosition } }, { key: "latency", get: function () { return this.latencyController.latency } }, { key: "maxLatency", get: function () { return this.latencyController.maxLatency } }, { key: "targetLatency", get: function () { return this.latencyController.targetLatency } }, { key: "drift", get: function () { return this.latencyController.drift } }, { key: "forceStartLoad", get: function () { return this.streamController.forceStartLoad } }], [{ key: "version", get: function () { return "1.5.1" } }, { key: "Events", get: function () { return S } }, { key: "ErrorTypes", get: function () { return L } }, { key: "ErrorDetails", get: function () { return A } }, { key: "DefaultConfig", get: function () { return t.defaultConfig ? t.defaultConfig : zs }, set: function (e) { t.defaultConfig = e } }]), t }(); return ao.defaultConfig = void 0, ao }, "object" == typeof exports && "undefined" != typeof module ? module.exports = i() : "function" == typeof define && define.amd ? define(i) : (r = "undefined" != typeof globalThis ? globalThis : r || self).Hls = i() }(!1);
//# sourceMappingURL=hls.min.js.map
